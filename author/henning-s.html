<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <title>Henning's Blog | Articles by Henning S.</title>
    <link rel="shortcut icon" type="image/png" href="https://xima-git.github.io/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://xima-git.github.io/favicon.ico">
    <link href="https://xima-git.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Henning's Blog Full Atom Feed" />
    <link rel="stylesheet" href="https://xima-git.github.io/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="https://xima-git.github.io/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://xima-git.github.io/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
</head>
<body>
    <header>
        <nav>
            <ul>

                <li class="ephemeral selected"><a href="https://xima-git.github.io/author/henning-s.html">Henning S.</a></li>
                <li><a href="https://xima-git.github.io">Home</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://xima-git.github.io">Henning's Blog</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Jun 18, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://xima-git.github.io/Eigenkapitalkosten.html" rel="bookmark" title="Permanent Link to &quot;Hier dies das&quot;">Hier dies das</a>
                </h2>

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">docx2txt</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">docx2txt</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s1">'Moser2017.docx'</span><span class="p">)</span>
<span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[10]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'Aufsatz\twww.der-betrieb.de\twww.der-betrieb.de\tAufsatz\n\n\n\n\n\n\n\n\t\t\tAufsatz\twww.der-betrieb.de\twww.der-betrieb.de\tAufsatz\n\n\n\n\t\t\tAufsatz\twww.der-betrieb.de\twww.der-betrieb.de\tAufsatz\n\n\n\n\n\nIn der Praxis der Kaufpreisallokation zeigt sich, dass derartige\n\nWP/StB Prof. Dr. Ulrich Moser, CVA, München / Dr. Thomas Tesche, CVA / WP/StB Prof. Christoph Hell, CVA, beide Saarbrücken Einschränkungen der Bewertungsergebnisse — bei begrenztem zusätzlich anfallendem Modellierungsaufwand — aufgedeckt Erklärung des EBITA ausgehend von Verzinsung und werden können durch die\n\nAbstimmung des EBITA mit der Verzinsung und der Ver Veränderung des in ein Unternehmen bzw. in des- änderung des in das Unternehmen investierten Kapitals\n\nabzgl. der Veränderungen des in die materiellen Vermösen Vermögenswerte investierten Kapitals I genswerte investierten Kapitals — das in das Unternehmen\n\ninvestierte Kapital ist dabei als Entity Value zu verstehen;\n\nsowie durch die\n\n\t\t\tBetrachtungen unter besonderer Berücksichtigung von Kaufpreisallokaticnen\tAbstimmung des EBITA mit den Verzinsungen des in die\n\n\n\n\n\nzzgl. der Veränderungen des in die immateriellen Vermö-\n\nDer Erklärung des EBITA eines Unternehmens kommt insb.\n\nAbstimmungen im praktischen Fall anhand eines aus der Pra-\n\ngenswerte investierten Kapitals.\n\nfür die Bewertung immaterieller Vermögenswerte, die Be-\n\nxis der Kaufpreisallokation stammenden, für die Zwecke die-\n\n\n\nstimmung von Verrechnungspreisen, die Untersuchung von\n\nses Beitrags vereinfachten Fallbeispiels erläutert (Abschn. IV.).\n\nIII, Ableitung der Erklärungszusammenhänge\n\nSteuerungsgrößen der wertorientierten Unternehmensfüh-\n\nVorab wird die Bedeutung aufgezeigt, die der Analyse des\n\n1. Vorgehen\n\nrung sowie die Beurteilung von Wachstumsannahmen bei\n\nEBITA bei der Beurteilung der im Rahmen von Kaufpreisal-\n\nIm Folgenden wird zunächst aufgezeigt, dass das EBITA\n\nUnternehmensbewertungen Bedeutung zu. Im vorliegen-\n\nlokationen erzielten Ergebnisse zukommt (Abschn. 11.). Die\n\nnach Abzug von Steuern (tax-effecting EBITA5) erklärt wer-\n\nden Beitrag werden die Zusammenhänge, die zwischen\n\nBetrachtungen gehen — The Appraisal Foundation (TAF)2\n\nden kann durch die Verzinsung und die Veränderung des in\n\ndem EBITA eines betrachteten Unternehmens und der Ver-\n\nfolgend — von der Annahme aus, dass die Rückflüsse des in die\n\ndas Unternehmen investierten Kapitals (Entity Value) abzgl\n\nVermögenswerte des Unternehmens investierten Kapitals\n\nzinsung des in das Unternehmen investierten Kapitals so-\n\nSachanlagen investierten Kapitals gleich den Abschreibungen\n\nder Veränderung des in die materiellen Vermögenswerte\n\nwie zwischen dem EBITA und den Verzinsungen des in die\n\nsind.\n\ninvestierten Kapitals sowie durch die Verzinsung des in das\n\nVermögenswerte des Unternehmens investierten Kapitals\n\n\n\nUnternehmen investierten Kapitals zzgl. der Veränderung\n\nbestehen, dargelegt.\n\nIl. Bedeutung der Analyse des EBITA für die Beurteilung\n\ndes in dic immateriellen Vermögenswerte investierten Kapi-\n\n\n\nder im Rahmen von Kaufpreisallokationen\n\ntals (Abschn. 111.2.), Sodann wird die Überleitung des EBITA\n\nl. Einführung\n\nabgeleiteten Ergebnisse\n\nnach Steuern in die Verzinsungen des in die Vermögenswerte\n\nDer Erklärung des EBITA (Earnings before Interest, Taxes and\n\nDie bei der Bewertung immaterieller Vermögenswerte im\n\ndes Unternehmens investierten Kapitals zzgl. der Verände-\n\nAmortisation) eines Unternehmens kommt bei der Untersu-\n\nRahmen von Kaufpreisallokationen abgeleiteten Ergebnisse\n\nrungen des in die immateriellen Vermögenswerte investierten\n\nChung verschiedener Fragestellungen Bedeutung zu. Dies gilt\n\nwerden vielfach auf Plausibilität untersucht. Zumeist wird\n\nKapitals (Abschn. 111.3.) dargelegt.\n\nbei der Bewertung immaterieller Vermögenswerte bspw. für  die\n\neine WARA-Analyse3 durchgeführt, bei der die den Vermö-\n\n\n\nAnalyse von Profit-Split-Faktoren1 , die Analyse von Verträgen,\n\ngenswerten des betrachteten Unternehmens zugeordneten\n\n2. Erklärung des EBITA ausgehend von der Verzinsung des\n\netwa Exklusivverträgen, sowie die Beurteilung der Konsistenz\n\nvermögenswertspezifischen Zinssätze mit den gewichteten\n\nin das Unternehmen investierten Kapitals\n\nder für immaterielle Vermögenswerte - bspw. im Rahmen von\n\nKapitalkosten abgestimmt werden. Darüber hinaus werden\n\nDas — als Free Cashflow6 verstandene — Einkommen cines\n\nKaufpreisallokationen — abgeleiteten Werte. Wciter erlaubt\n\nteilweise auch die Einkommensbeiträge der Vermögenswerte\n\nbetrachteten Unternehmensl in der in t+l mit t = 0 bis 00\n\ndie Erklärung des EBII\'A die Aufteilung der EBITA-Marge\n\nmit dem als Free Cashflow verstandenen Einkommen des\n\nendenden Periode CF1+1 ergibt sich ausgehend vom EBITA\n\neines Unternehmens in Produktions- und Vertriebs-Marge,\n\nUnternehmens und die Werte der am Bewertungsstichtag\n\ndieser Periode (EBJTA ) — bei Saldierung der Abschrei-\n\ndie u.a. bei der Bestimmung von Verrechnungspreisen oder der\n\nbestehenden sowie der zukünftig geplanten Vermögenswerte\n\nbungcn der Sachanlagen mit den Investitionen — aus der\n\nErmittlung des beizulegenden Zeitwerts von Vorräten erfor-\n\nmit dem als Entity Value verstandenen Unternehmenswert\n\nBeziehung\n\nderlich werden kann. Darüber hinaus kann die EBITA-Analyse\n\nabgestimmt. Diese Analysen können einperiodisch oder mehr-\n\n\n\nder Untersuchung von Steuerungsgrößen der wertorientierten\n\nperiodisch zur A nwendung kommen.4\n\n\t\t\t\t\t\t= \tx (1-9 + s x\t\t\t\t\n\nUnternehmensführung sowie der Analyse der Plausibilität\n\nMit den genannten Abstimmungen ist jedoch verbunden,\n\n\t\t\t—f VI,t+1 — VI,t) — ( \t— Va,t)\n\nvon Wachstumsannahmen bei Unternehmensbewertungen\n\ndass Inkonsistenzen sowie Modellierungsfehler, die bei den\n\n\n\nzugrunde gelegt werden.\n\nBewertungen der einbezogenen Vermögenswerte auftreten,\n\nwobei VI t bzw. V das im Zeitpunkt t bzw. t+l in das Working\n\nIm Folgenden werden — unter Berücksichtigung der Verän-\n\nnicht zwingend erkannt werden. Inkonsistenzen und Model-\n\nCapital und V bzw. V2 das in diesen Zeitpunkten in die\n\nderungen des in das betrachtete Unternehmen und in die\n\nlierungsfehler können dazu führen, dass den in die Analyse\n\nSachanlagen investierte Kapital bezeichnen; A bringt die\n\nmateriellen Vermögenswcrl.c investierten Kapitals bzw. unter\n\neinbezogenen Verm ögenswerten unzutreffende Einkommens-\n\nSumme der Abschreibungen der immateriellen Vermögens-\n\nEinbeziehung der Veränderungen des in die immateriellen\n\nbeiträge und/oder unzutreffende vermögenswertspezifischc\n\nwerte der in t+l endenden Periode zum Ausdruck.\n\nVermögenswerte investierten Kapitals — der\n\nZinssätze und damit unzutreffcndc Wcrtc zugeordnet werden.\n\nDas Einkommen des Unternehmens kann auch aus der\n\n— Zusammenhang zwischen dem EBITA und der Verzinsung Da die Abstimmungen von Residualgrößen ausgehen, können Bestimmungsgleichung für dessen — als Entity Value verstan- des in das betrachtete Unternehmen investierten Kapitals sich die Folgen der Inkonsistenzen und Modellicrungsfehlerdenen — Wert V im Zeitpunkt t sowie der\tunerkannt — ausgleichen.\n\n Zusammenhang zwischen dem EBITA und den Verzinsungen des in die Vermögenswerte des Unternehmens\n\ninvestierten Kapitals dargelegt.\n\nDie Zusammenhänge werden zunächst formal abgeleitet\n\n2\n\nVgl. The Appraisal Foundation (TAF), Best Practices for Valuations in Financial Reporting: Intangible Asset Working Group - Contributory Assets, The Identification of Contributory Assets and Calculation of Economic Rents, 2010, 3.4.09; IVSC GN 4, 532-34. Siehe zu dieser Annahme auch\n\n\n\n\n\n(Abschn. 111.). Sodann wird die Anwendung dieser EBITA-\n\n3\n\nMoser, Bewertung immaterieller vermögenswerte, 2011, S. 54.\n\nZ T. wird auch von WACC-2-WARA-Analyse (Moser, Bewertung immaterieller Vermögenswerte,\n\n5\n\n\n\nTAF, a.a.O. {hl. 2), 3.4.03.\n\n\n\n\n\n2011, S. 232 ff.) oderWARA-Reconciliation (BeyéflMackenstedt, \n\n6\n\nSharehoIderValue, 1995, 5, 53 ff; Cope-\n\n\t\t\tImmaterielle Vermögenswerte,\tZur Definition des Free Cashflow statt vieler Rappaport, \n\nI Zur Beurteilung von Profit Split-Faktoren unter Zugrundelegung von EBITA-Analysen grundle-\n\n\n\n2008, S. 348 f.; Schmalenbach -Gesellschaft, Purchase Price Alldation, 2009, S. 43) gesprochen.\n\n\n\nland/Koller/Murrin, Unternehmenswert, 3. Aufl.2002, S. 21 Off.\n\ngend Moser, Bewertung immateriellerVermögenswertey 2. Aufl. (erscheint 2017).\n\n52\n\n4\n\nAusführlich zu diesen Betrachtungen Moser, (FB 2013 S. 285 ff, 355 ff.\n\n02 \n\n7\n\nvgl. \n\n2),\n\n2),\n\nabgeleitet werden8 als\n\n\n\nwobei r, die gewichteten Kapitalkosten des Unternehmens der in t+l endenden Periode zum Ausdruck bringt. Durch Gleichsetzung der beiden Ausdrücke für CF und Umformung ist das EBITA nach Steuern zzgl. der mit. den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung durch die Beziehung\n\n\t — \t— (14/ — 168+1)\n\nbestimmt, Damit ist aufgezeigt, dass das EBITA nach Steuern zzgl. der mit den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung (s x Ar+1) — dargestellt werden kann als Verzinsung (V x r1+1) und Veränderung (Vt — Vt+l) des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in das Working Capital (V 1,}— VI 1+1) und in die Sachanlagen (1/2 r — V ) d.h. in die materiellen VermögenswerLc des Unternehmens investierten Kapitals. Die Korrektur der mit den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung ist dann geboten, wenn diese Steuervorteile bei der Ableitung des Entity Value berücksichtigt wurden.\n\nDiese Betrachtungen können dadurch erweitert werden, dass angenommen wird, dass ein Vermögenswert des betrachteten Unternehmens mittels der Residual Value-Methode bewertet wird. Bei Bewertung des Vermögenswertes i mit i = n nach dieser Methode gilt9\n\n\n\nDicscr Ausdruck kann in dic oben abgeleitete Beziehung für das EBITA nach Steuern eingesetzt werden. Nach Umformungen führt dies zu der Beziehung\n\n\n\nNach dieser Beziehung bestimmt sich das EBITA nach Steuern als Verzinsung des in das Unternehmen investierten Kapitals (V x r,+1) zzgl. der Veränderung des in die immateriellen Vcr-\n\n\n\nmögenswerte investierten Kapitals\n\n\n\nabzgl. der mit der Abschreibung der immateriellen Vermögenswerte bedingten Steuerminderung (s x A1+7). Durch Aup lösung der Beziehung nach V x rt ergibt sich die Erklärung der Verzinsung des in das Unternehmen investierten Kapitals ausgehend vom EBITA. Es gilt\n\n\n\n8 vgl. Moser, \tS. 288 f. 9\tvgl. Moser, CFB2013 S. 789 f.\n\n53\n\n\n\nBei Anwendung der Multi-Period-Excess-Earnings-Methode (MPEEM)IO anstelle der Residual-Value-Methode zur Bewer-\n\ntung des Vermögenswerts i mit i = n und modellexogener Vorgabe von vermögenswertspezifischen Zinssätzen für alle dem Unternehmen zugeordneten Vermögenswerte i mit i = I bis n ist die Beziehung\n\n\n\nnur dann erfüllt, wenn der dem Vermögenswert i = n modellexogen zugeordnete vermögenswertspezifische Zinssatz gleich dem vermögenswertspezifischen Zinssatz ist, der für diesen Vermögenswert bei Anwendung der Residual-ValueMethode modellendogen abgeleitet werden kann  Ist diese Bedingung nicht gegeben — und hiervon ist regelmäßig bei periodenunabhängigen vermögenswertspezifischen Zinssätzen auszugehen — , kann der Entity Value nicht vollstándig durch die Summe der Werte der Vermögenswerte erklärt werden. Es gilt\n\nMPBEM\n\nmit En,tMPËEM 0 , wobei En,tMFEEM den nicht erklärten Betrag des Entity Value im Zeitpunkt t erfasst. Dieser Differenzbetrag stellt eine bewertungsbedingte Differenz dar, wie an anderer Stellen nachgewiesen wurde.\n\nDurch Einsetzen dieses Ausdrucks in die oben abgeleitete Beziehung für das EBITA ergibt sich\n\n\n\nDiese Beziehung legt dar, dass das EBITA nach Steuern bei Bereinigung der aus der Abschreibung der immate-\n\nriellen Vermögenswerte resultierenden Steuerwirkungen sich zusammensetzt aus der Verzinsung des in das Unternehmen investierten Kapitals (V x r ) der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals\n\n\n\nund der Veränderung der bei Anwendung der MPEEM auftretenden Bewertungsdifferenz\n\nDurch Auflösung der Beziehung nach V x r,+f ergibt sich die Erklärung der Verzinsung des in das Unternehmen investierten Kapitals ausgehend vom EBITA. Es gilt\n\n\n\nDie Abstimmung der zuvor bestimmten Beziehung für das um Steuern verminderte EBITA mit der oben abgeleiteten Ausgangsbeziehung für diese Größe zeigt, dass die Verän-\n\n54\n\nderung des in das Unternehmen investierten Kapitals sich zusammensetzt aus\n\n der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals,  der Veränderung der bei der Erklärung des Entity Value aufgetretenen Bewertungsdifferenz sowie  der Veränderung des in die materiellen Vermögenswerte investierten Kapitals.\n\nDas Gleichsetzen der Beziehungen führt nach Vereinfachungen zu Ausdruck\n\nvt-vt\n\n3. Erklärung des EBITA nach Steuern ausgehend von der Verzinsung des in die Vermögenswerte des Unternehmens investierten Kapitals\n\nDas Einkommen des betrachteten Unternehmens in der in\n\nt+l endenden Periode ist bei Zuordnung der Excess Earnings zu mindestens einem diesem zugehörigen Vermögenswertbestimmt durch die Beziehung\n\ni,t+l\n\nwobei CF i,1+1 den Einkommensbeitrag des Vermögenswerts i mit i = I bis n bezeichnet; zur Vereinfachung der Darstellungen werden in diesen Einkommensbeitrag, soweit erforderlich, die abschreibungsbedingte Steuerminderungs x A einbezogen, Der Einkommensbeitrag des VermÖgenswerts i kann — in gleicher Weise wie das Einkommen eines Unternehmens — aus der Bestimmungsgleichung für dessen Wert\n\n1 + n,t+l\n\nabgeleitet werden als\n\nwobei r den vermögenswertspezifischen Zinssatz des Vermögenswerts i in der in t+l endenden Periode zum Ausdruck bringt. Durch Einsetzen dieser Beziehung in den Ausdruck CF\'t+1 und Gleichsetzung mit dem Ausdruck CF\n\n\t= V xr + vi— \tergibt sich mit V = MPBEM bzw. V = \n\n\t+ EI \tVi,t+l\n\nMit diesem Ausdruck kann die in Abschn. 1112. abgeleitete Ausgangsbeziehung für das EBITA nach Abzug von Steuer überführt werden in die Beziehung\n\n\n\ni,t+l\n\ni,t+l\n\nDiese Beziehung legt dar, dass sich das EBITA nach Steu-\n\nern — bei Bereinigung der Steuerminderungen aufgrund der Abschreibung der immateriellen Vermögenswerte (s x hi) zusammensetzt aus den Verzinsungen des in die Vermögenswerte des Unternehmens investierten Kapitals x sowie  den Veränderungen des in die immateriellen ermögenswerte investierten Kapitals\n\n\tDurch Einsetzen von CF\tx r + V _ V in die\n\ni, 1+1\n\nBeziehung wird deutlich, dass in das EBITA nach Steuern die Einkommensbeiträge der immateriellen Vermögenswerte und die Verzinsungen des in die materiellen Vermögenswerte investierten Kapitals eingehen. Es gilt\n\n\n\nIV. Fallbeispiel\n\nÜberblick\n\nIm Folgenden wird zunächst in das Fallbeispiel eingeführt (Abschn. IV.2.). Sodann werden der Entity Value des betrachteten Unternehmens und die Werte der diesem zugeordneten Vermögenswerte bestimmt (Abschn. IV.3.). Anschließend wird das EBITA nach Steuern analysiert und in die Verzinsungen des in die VermÖgenswerte des Unternehmens investierten Kapitals bzw. in die Verzinsung des in das Unternehmen investierten Kapitals sowie die Veränderungen des in die immateriellen Vermögenswerte investierten Kapitals übergeleitet (Abschn. IV.4.).\n\n\n\nAusgangsdaten\n\nDie SW GmbH (kurz SMI) ist ein Software-Unternehmen, das eine Software-Lösung für spezielle Anwendungen entwickelt hat. Ihre Geschäftstätigkeit ist neben der Weiterentwicklung dieser Software sowie der Entwicklung der Nachfolgegeneration der bestehenden Software insb. durch die Pflege der Software im Rahmen der bestehenden Wartungsverträge geprägt. Diese Verträge haben zumeist eine Laufzeit von einem Jahr, werden jedoch ganz überwiegend stillschweigend prolongiert. Daneben verfügt die Gesellschaft über eine in der betreffenden Branche sehr bekannte Marke, einen Mitarbeiterstamm, Sachanlagen und Net Working Capital. Verzinsliche Verbindlichkeiten weist die Gesellschaft nicht auf.\n\nDie SW wurde zum 01.01.2016 von der Erwerber AG im Wege eines Asset Deal übernommen. Analysen der vom Erwerber erbrachten Gegenleistung zeigten, dass deren beizulegender Zeitwert dem Entity Value der Gesellschaft entspricht. Die bilanzielle Abbildung des Unternehmenszusamrnenschlusses folgt IFRS 3, von der die steuerliche Behandlung der Übel% nahme der Gesellschaft nicht abwcicht.\n\n\n\nTab. I auf S. 56 stellt für den Betrachtungszeitraum im oberen und im mittleren Teil die wesentlichen Planungsdaten der SW, die — IFRS 13 folgend — die Annahmen der Market Participants zum Ausdruck bringen, sowie das in Working Capital, Sachanlagen und Mitarbeiterstamm investierte Kapital zusammen. Aus dem unteren Teil der Tabelle ergibt sich — ausgehend von der Umsatzplanung der Gesellschaft — für jedes Jahr des Planungszeitraums die Zuordnung der geplanten Umsatzerlöse zu der am Bewertungsstichtag bestehenden SoftwareLösung, zu zukünftig zu entwickelnder Software — diese fasst die Weiterentwicklungen der bestehenden Software und die Nachfolgegenerationen dieser Software zusammen — sowie zu den bestehenden und den zukünftig abzuschließenden Wartungsverträgen.\n\nAus Tab. 2 auf S. 57 ergeben sich für den gesamten Planungszeitraum die Beiträge der genannten Vermögenswerte sowie der Marke zum als Free Cashflow verstandenen Einkommen der Gesellschaft. Die Tabelle zeigt, dass das Einkommen der Gesellschaft vollständig durch die Einkommensbeiträge der\n\nVermögenswerte der Gesellschaft erklärt werden kann.Il Dic Einkommensbeiträge der Marke, die unter Zugrundelegung einer unbestimmten Nutzungsdauer mittels der Relief-from-Royalty-Methode bewertet wird, ergeben sich durch Anwendung eines als angemessen zu betrachtenden\n\nLizenzsatzes i.H,v. auf die Umsatzerlöse der Gesellschaft, Mitarbeiterstamm, Sachanlagen und Net Working Capital wurden mittels des Cost Approach bewertet, woraus resultiert, dass deren Einkommensbeiträge grds. als Verzinsung und Veränderung des investierten Kapitals zu ermitteln sind. Beim Mitarbeiterstamm erübrigt sich die Einbeziehung der Veränderungskomponente, da nach den Planungen der Gesellschaft der Mitarbeiterstamm während des Planungszeitraurns weder auf- noch abgebaut werden soll und sich deswegen Rückflüsse des investierten Kapitals und Investitionen in diesen Vermögenswertinjedem betrachtetcnJahr in\n\ngleicher Höhe gegenüber stehen, Bei den Sachanlagen werden die Rückflüsse des investierten Kapitals i.H.d. Abschreibungen bemessen und sodann mit den Investitionen verrechnet. Der Ermittlung der Verzinsung des in diese Vermögenswerte investierten Kapitals werden die in der Tabelle genannten, vorläufig festgelegten vermögenswertspezifischen Zinssätze zugrunde gelegt.\n\nDer Bewertung der bestehenden Software-Lösung, der zukünftig zu entwickelnden Software sowie der bestehenden und der zukünftig abzusch ließenden Wartungsverträge wird die MPEEM zugrunde gelegt. Die Einkommensbeiträge dieser Vermögenswerte sind dementsprechend als Excess Earnings zu bestimmen. Diese ergeben sich durch Anwendung der um die Software-Entwicklungskosten i.H.v. 7,25% der Umsatzerlöse bereinigten EBITA-Marge aufdie den Vermögenswerten in Tab. 1 aufS. 56 zugeordnetenUrnsatzerIöse und Abzug der Einkommensbeiträge der unterstützenden Vermögenswerte Marke, Mitarbeiterstamm, Sachanlagen und Net Working Capital. Die Software-Entwicklungskosten i.H.v. 7,25% der Planumsatzerlöse der Gesellschaft werden in vollem Umfang der zukünftig zu entwickelnden Software zugeordnet.\n\n55\n\n\n\nYear\n\n2016\n\n2017\n\n2018\n\n2019\n\n2020\n\n2021\n\n2022\n\n2023\n\n2024\n\n2025\n\n2026\n\n2027\n\nperpetual\n\nIncome Analysis\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSoftware\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAcquirecP)\n\n\n\n3710,1\n\n3.013,3\n\n2.459,2\n\n2.007,2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNEWh)\n\n\n\n-2.722, 1\n\n-2.036,9\n\n-1.469,7\n\n-996,9\n\n967,2\n\n937,9\n\n908,8\n\n893,9\n\n879,1\n\n879,0\n\n879Ñ\n\n879,0\n\nAcquirecP)\n\n\n\n7.147,3\n\n6.595,0\n\n6.069,8\n\n5.573,5\n\n5.092,2\n\n\n\n4.208,5\n\n3.806,8\n\n3.443,6\n\n3.099,1\n\n\n\n0,0\n\nNE-wa)\n\n\n\n579,5\n\n1.364,0\n\n2.078,7\n\n2.740,1\n\n3.406,3\n\n3.994,1\n\n4.54115\n\n5.007,1\n\n5.434,8\n\n5.778,9\n\n8.878,0\n\n8.878,0\n\nTrademarkO\n\n\n\n375,5\n\n384,9\n\n393,5\n\n401\n\n407,4\n\n411,5\n\n415,6\n\n417,7\n\n419,8\n\n419,8\n\n419,8\n\n419,8\n\nReturn on Invested\n\nCapital pre Taxd) 9,2%\n\n\n\n1 18,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\nWorking Capital\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReturn on Invested\n\n\t\t\tCapital pre \t6,4%\n\n\n\n82,7\n\n85,2\n\n87,3\n\n89,3\n\n91,1\n\n92,5\n\n93,4\n\n94,3\n\n94,8\n\n95,3\n\n95,3\n\n95,3\n\nReturn on Invested\n\nCapital pre Taxd)\n\n\n\n\n\n97,7\n\n100,8\n\n101,9\n\n10219\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\nEBITA\n\n\n\n9.386,7\n\n9.621,3\n\n9837,8\n\n10.034,6\n\n10.185,1\n\n10.286,9\n\n10389,8\n\n10.441,7\n\n10.494,0\n\n10.494,0\n\n10.494,0\n\n10.494,0\n\nTax-effecting EBITA\n\n\n\n6.570,7\n\n6734,9\n\n6.886,5\n\n7.024,2\n\n7.129,6\n\n7.200,8\n\n7.272,9\n\n7.309,2\n\n7.345,8\n\n7.345,8\n\n7.345,8\n\n7345,8\n\nIncremental Working Capital\n\n\n\n-27,3\n\n-23,5\n\n-21/6\n\n-19,7\n\n-15,1\n\n-10,2\n\n-10,3\n\n-5,2\n\n-5,2\n\n\n\n\n\n\n\nIncremental Tangible Fixed\n\nAssets\n\n\n\n-20,0\n\n-30,0\n\n-10,0\n\n-10,0\n\n-10,0\n\n\n\n\n\n0,0\n\n0,0\n\n0,0\n\n\n\n\n\nFree Cashflow\n\n\n\n6.523,3\n\n6.681 ,5\n\n6£54,8\n\n6.994,5\n\n7.104r5\n\n7.190,7\n\n7262,6\n\n7304,0\n\n7.340,5\n\n7.345,8\n\n7.345,8\n\n7345,8\n\n\'EntityVaIue 1012%\n\n69.820,0 \n\n70.418,3\n\n70.919,6 \n\n71.298,6 \n\n71.516,6\n\n7177219\n\n71.903,2 \n\n71.974,7 \n\n72.012,2 \n\n72.016,9\n\n72.016,9\n\n72-016,9\n\nSales rel. to Asset x (EBITA-Margin adjusted — CAC as Percentage of Sales)\n\nSales rel. to Asset x (EBITA-Margin adjusted - CAC as Percentage of Sales) -Total Sales x SW-Development Expenses\n\nc) Total Sales x Royalty Rate\n\nInvested Capital (t-1) x Rate of Return Assigned to Asset / ( I — tax rate)\n\nEBITA-Margin adjusted = EBITA-Margin + SW-Development Expenses CAC = Contributory Asset Charges\n\n\n\n\n\nO O\t00\tTab. 2: Zusammenstellung der Einkommensbeiträge der Vermögenswerte uns\n\nService Contracts\n\nAssembled Workforce ex TAB\n\nTangible Fixed Assets\n\nValuation Analysis\n\nAlle weiteren, für die Ableitung des Entity Value und die Betrachtungszeitraums bestimmt. Die dabei angewendeten Bestimmung der Werte der Vermögenswerte erforderlichen gewichteten Kapitalkosten von 10,2% — aufdie Darstellung von Daten, insb. Nutzungsdauern sowie der anzuwendende deren Ermittlung wird im Rahmen dieses Beitrags verzichtet Ertragsteuersatz, sind Tab. I auf S. 56 zu entnehmen. Da die— folgen IFRS 13 entsprechend den Annahmen der Market Untersuchungen mehrperiodischlï durchgeführt werden, Participants.\n\nfolgen alle Wertermittlungen dem Roll-Back-Verfahren. 19 Die Tab. 3 auf S. 58 fasst die Ableitungen der Werte der immateriAnwendung dieses Verfahrens führt dazu, dass die Werte der ellen Vermögenswerte der SW zusammen. Im oberen Teil der Bewertungsobjekte für jeden Zeitpunkt des Betrachtungszeit- Tabelle werden die Barwerte der diesen Vermögenswerten in raums unmittelbar zur Verfügung stehen. Tab. 2 zugeordneten Einkommensbeiträge unter Zugrundelegung der angegebenen, vorläufig festgelegten vermögens-\n\n3. Ableitung des Entity Value und der Werte der Vermö-\twertspezifischen Zinssätze ermittelt. Sodann werden die genswerte\tabschreibungsbedingten Steuervorteilell der immateriellen Der Entity Value der SW vor Einbeziehung derVermögenswerten sowie — durch deren Einbeziehung — die men Abschreibungen der erworbenen immatcricllcn Vermö-\tbeizulegenden Zeitwerte der immateriellen Vermögenswerte genswerte23 wird im unteren Teil von Tab. 2 für jedes Jahr des\tbestimmt.\n\nDie Notwendigkeit einer mehrperiodischen Analyse wird dargelegt bel Moser, in: Mohnkopf/ Moser (Hrsg.), Wissensmanagementfür Schutzrechte und deren Bewertung, 2014, S. 202 ff.\n\nSiehe hierzu Henselmann/Kniest, Unternehmensbewertung: Praxisfã\'le mit Lösungen, 5. Auff\tZu deren Ermittlung Moser, Beweltung immaterieller Vermögenswerte, 2011, S. 38 ff., 47 ff\n\n2015,5.86 ff.; Enzinger/Koner, BwP 4/2011 S. 2-10. 22 Zur Verkürzung der Darstellungen wurden den Ermittlungen der abschreibungsbedingten Steu20 Der Bemessung der Abschreibungen der Sachanlagen liegen die Werte nach Neubewertung ervorteile der Marke und des Mitarbeiterstamms steuerliche Nutzungsdauern von 10 Jahren zugrunde,\tzugrunde gelegt.\n\n\t\t56\t02\t57\n\n\n\n912」*PIX当=rlJaのつ、「「\n\n\n\n\t\t\t(\tX21←0当一2&gt;← ⅵ巴dー【)、:~\n\n\n\n9、寸LC\'9\n\n9、品\n\n96t\n\n、7ト\n\n、、99\n\nま 、0一\n\n設 円、\n\n\n\n02の〔\n\n5、80・9\n\n\n\nま的09\n\n99\n\nま020〔\n\nLい ・\n\n\n\n09の\n\no、〔08\n\no、88\n\n丈99\n\n96R-日 9式一ⅵ、\n\nへ、9一9・、\n\n二9認\n\n6-E89・い\n\n鱇06\n\nL\'OZE\n\n\n\n299\n\nま0へ、DI\n\n国、989、\n\n97ニ・L\n\n99E・5\n\n冩6\n\n匚Z\n\n\n\n寸 9\n\n9きへ、ミ\n\n6、9寸9・、\n\n、、まE\'L\n\nE\'þlL\'S\n\n町#6\n\nZギ9\n\n960へ、0一叫一69・、\n\nE、E69・、\n\nL、E、9・一\n\n内、9 ・寸\n\n県96\n\n9、SEE\n\no、\n\n9-£9\n\nまOZざ一\n\n9、9国、・\n\n\n\n、、096、L\n\n寸、8ト9寸\n\n6、ト5\n\n一、EÞE\n\n\n\nの29\n\nま6一、0一 2寸08、\n\nU808・、\n\n6、896べ\n\nO\'E ・寸\n\n\n\n寸、66\n\n9寸E\n\n9、01\n\nL 9\n\n9ま一、OL\n\n鱇一畠、\n\n寸、98・、\n\n〔 99べ\n\n県896・£\n\n8-00一 9-6寸E\n\n寸-89 、-6の\n\nま6L\'O一 9、68・、\n\nへⅵ06・、\n\n9298\n\n\n\nL20〔\n\n叮羸E\n\no、、9\n\n625\n\n\n\n丈SL6、\n\n5、寸へ6・、\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tとコb〕\n\nMBN\n\n\n\n」0」 0Mpalqwassv\n\n2E2名」1\n\n一2ち1\n\n5も をx」型q一g21\n\n一2仁d凸\n\n岔お96\n\n当一&gt; ←を\n\nE一コ9\n\n20\n\nE、9一9\n\nE、919\n\no、0\n\n〔、919\n\n0-0\n\n〔一8一9\n\n9、 9\n\no、0\n\n9、99\n\n0-0\n\n【、909\n\no、寸鬯\n\n99E 6-6、E\n\nt7\'E0t Z、£6の\n\n寸、LEB\n\n\n\n三田N\n\n6、95べ、\n\n国、629叩\n\n寸、99\n\n丈0E6・99\n\no、 \'99ー\n\n\n\n6、910\'\n\n2、620・叩\n\n丈、の0・\n\nマ、0E5・\n\no の ・99ー\n\n寸、に£\n\nの-お・に\n\n円〔寸8ⅵー\n\n寸、SO\'\n\nE-9ま・ぐ9\n\n7-63寸9\n\n一、トE\n\n\n\n\n\n\n\n\n\n\n\n\n\n一 9・\n\n当巴9・叩\n\n、2の07ー\n\n、CO\'昭\n\n9-0の0N9\n\n9ⅶトE\n\n二寸 ・\n\n9一斗円L7\n\noヾYO\n\nの786d9\n\n、63・091\n\n、É\n\n0\'66・\n\n8一9、0・寸7\n\n、9E9ワ\n\n9、 8・8の\n\n8、0、 叩\n\n\n\n、、ミE\n\n9、ミ寸・SL\n\n9あ・97\n\n9、07ー\n\n6、品の・99\n\n8、曽 ・9っ\n\n、ELE\n\nのお9、・い、\n\nq6896Lー\n\nL00べー\n\n、8ニ・\n\no、、08Tっ\n\nÉ、LLE\n\n9試い・9、\n\n6一6寸冂 ー\n\n8一「5・7\n\noお い\n\n36・6\n\nおE\n\n立L ・に\n\n29お・6\n\nL-0寸6・7\n\n一.、コ二9寸\n\no、寸ぐⅵ\n\nL、〔9E\n\n0209、、\n\n9、SE一t7E-\n\n、99円7\n\n、、6LV薈\n\n、9ニ・LY-\n\n寸、ÉのE\n\n9」寸69、L\n\n丈寸 ・6叩\n\n鱇6E円7\n\n〔-薈E・92\n\nE、、65・9叩\n\n6、E寸E\n\nanlPAむを」\n\n\t\t\tpaZ!u6CDë8\t型qらupを一\n\nの の 型C116u\n\n= POO)\n\nⅵも55V型9后ueを一」aモ0\n\n\t\t\t巴\t0\n\n\t\t\t\t\t9\t9 ー\t9\t9し 朝」辷0\n\n一き = P009\n\n\n\n6 ・E\n\n6、ZO\n\n、よ8\n\n2800・〔寸、6寸0一\n\n9、6E94、\n\n丈に\n\n6、9L0\'t、\n\n\n\nへ、62・E\n\n6、目試の\n\n〔、ト68\n\n9800・【\n\nま6寸 一\n\n9、6E9・に\n\n寸、、E\n\n6、910\'ミ\n\n9、 Ct\n\nL、 、9\n\n9、トへ6\n\n2800\'L\n\n寸、6さL\n\n9、8一5ベト\n\nL\'£LE\n\nS68Z、\n\n一、06E・9\n\n9、9 ・E\n\n9ⅵ96\n\no、曽9一内、薯9一\n\n9、 E・E、\n\n9-9、E\n\n一、889・E、\n\no、9き\n\n9-664E\n\n\n\n二〔86\n\no、8呂・〔 0、62、〔\n\n\n\nE、866E4\n\n\n\n8 、E\n\n当寸0、•o〔\n\n〔2ト円E\n\n鱠06\n\n丈さ9一\n\nq800・〔\n\nL、 9L\n\nE一寸85・寸、\n\n\n\nL\'#LE\n\no、696・ミ\n\n9、08E・EL\n\n9-9尊・E\n\nÉ\'tL6 寸\n\n\n\n2800・一\n\nれ 0、L\n\n寸、 0・灯\n\n\n\nZ\'ELE\n\n9、ミマ・灯\n\nへ、8699一\n\n6、06 £\n\n9、0099寸\n\n9、9O\'〔\n\noお56\n\n9、ÉOD*〔\n\n9、よ 灯\n\nE、LLE\n\n8、894灯\n\n998・8〔\n\n寸、 ・E\n\no寸\n\nE99L\n\nq885\n\n9、 5\n\n\n\n寸28一・9、\n\n\n\n、9E\n\n立989・Lt\n\n鰉寸、9・E\n\n6-5 一\n\n0-8、6 L296\n\nE、0に・9、\n\n\n\nL\'〔9E\n\n立〔コ・に\n\no、9、 寸\n\n寸、 9・E\n\n9め66一LÉ\n\n6、寸60〔\n\no、8マ6 、、8E6\n\n9、8ミ、ト\n\n寸、ESE\n\n0209Z、\n\n8、 9、\n\nまE国9・E\n\n三に 寸9\n\nト、80二【\n\n282\n\nE、一ま\n\n三一 ・に\n\n6\'EÞE\n\n9、ヾ69・に\n\np 三\n\nそ 朝で2」1\n\n\n\n巴お 」0Mpalqwassy\n\n当assyp叟工alq!6ueI 一2=d凸6に 0M\n\n一 01\n\n巴型一一0\n\nLIOにezをOLLIV・てu n一 な 田\n\n\t\t\t\t\t\n\nAufsatz\n\nAufsatz\n\nwww.der-betfieb.de\n\nwww.der-betfieb.de\n\nwww.der-bet「ieb.de\n\nwww.der-bet「ieb.de\n\nAufsatz\n\nAufsatz\tE、9\tSIO・\t8、9\t9、6ー\t一2← 」し亡-\n\n\n\n\n\n\n\n\n\n\n\n\n\n896\n\n\n\n\n\n\n\n896\n\n9、8ト8\n\n\n\n\n\n内、896\n\n5、SL9・一\n\nEへ0代\n\n\n\n、896\n\n寸、668t\n\n\n\n\n\n896\n\n6一SSO\'E\n\n\n\n\n\n-896\n\n9、 9・E\n\n\n\n\n\n丈寸69〔\n\n〔26L\'Þ\n\n\n\n\n\n丈寸6円L\n\n0\'羸〔・9\n\n\n\n\n\n丈寸69・【\n\n8-〔Lt・9\n\n\n\n\n\n丈寸5円L\n\nト、E89、\n\n9一0へ\n\n\n\n\n\n6、寸ト8・ト\n\n\n\n一2さト1-10にezモOIL-IVお←IJëUa8)ŒI\n\n一出01こau品X?ト\n\n山コ一2&gt;〕uas巴d\n\n\t\t\t\t\t\t\t\t\t\t\t\t\n\ntungsPraktiker \n\n「\n\nBewe\n\ntungsPraktiker \n\n「\n\nBewe62寸L・9\t62寸一・9\t62ミ-9\to、尊L・9\t県 9\t9、SLL・9\t9、0高・9\tL、L9Z\'9\tLizい0ⅵ\t6、L99\'E\t、2E0べ\t9、コ一\t三IN\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n06\n\n\n\n\n\ndo\n\n20\n\n\n\n\n\n\n\n鱇9、9\n\n\n\n\n\n\n\n\n\n\n\nE\'EE\n\n\n\n\n\n\n\n\n\n9、9\n\n9 寸、\n\n\n\n\n\n\n\n\n\nE」EE\n\n9、08\n\n\n\n\n\n\n\n県9へg\n\nの、9、寸・〔\n\n\n\n\n\n丈58L\n\n\n\nE、鬻\n\n、89\n\n\n\n\n\n\n\nE、9へ8\n\n9、卑0べ\n\n\n\n\n\n\n\n\n\nÉ、\n\n6一£8\n\n\n\n\n\n\n\n9\n\noヾ65べ\n\n\n\n\n\n9茎\n\n\n\nE\'£É\n\nE、0〔\n\n\n\no、0\n\n\n\n\n\n6、001・E\n\n\n\n、、801\n\n\n\n\n\n\n\n\n\n9\n\n\n\n\n\nE、9tÛ\n\n5299E\n\n\n\n\n\n9、\n\n\n\nE\'E£\n\nE 寸一\n\n90\n\n9-699\n\n\n\n鱇9\n\n0-一よ・E\n\n\n\n\n\n9-寸\n\n\n\nE\'EE\n\nへ-99〔\n\n\n\n寸ヾ 一\n\nへ、93\n\n\n\n9、8\n\n9、寺円寸\n\n\n\n、 OL\n\n999\n\n\n\nE、EE\n\nL\'E\n\n\n\n8 ・一\n\n、63\n\n\n\nE、9Z8\n\n6、寸89・寸\n\n\n\n\n\n9、ËE9\n\n\n\nE\'EE\n\n\n\n\n\n\n\n\n\n\n\n87ま・マ\n\n\n\n\n\n9-9、9\n\n\n\n\n\n5-L\n\na」2 にOS\n\n山三2&gt;←ua都」d-\n\n5も20u0D巴写 の\n\n1!JauagXë1\n\n山三2&gt;←u25巴d ′\n\nモ 名2」1\n\n三2u98XPト\n\n山三2&gt;←u 巴d\n\n」0 」0三P型 SY\n\nと u99xeI\n\n山n一2&gt;←u 巴d\n\n\n\n\n\nN\n\n「\n\n. \n\n02 \n\nN\n\n「\n\n. \n\n02 \n\n!\n\n\n\n・u28LIO一帑2一\n\n960、0\n\nま0、0\n\n\n\nま0、0\n\no、E\n\n20\n\n\n\n\n\nま0、E\n\n0\n\n9K2\n\n\n\n9き\n\n962E\n\n9 -9\n\n\n\nま0、E\n\n960一E\n\n96\n\n\n\n\n\nま0→E\n\nま0一E\n\nま9一6\n\n\n\n960」\n\n98、\n\n9 、L【\n\n\n\n\n\n98\n\n98\n\n960」\n\n%ÜEL\n\n\n\n960一\n\nま0\n\n8ぜ〔\n\n\n\nま0\n\n9き\n\n9 、9\n\n\n\n\n\n9\n\n9\n\nよ0\n\nよ9、L\n\n\n\n960\n\n\n\nま、8一\n\n\n\n\n\n日は9年 コ-コ」 コ【も2」ち\n\n\t\t\tへ-一=(Qdn\t三2&gt;← 」d\n\nと」0を0ョ\n\no一Ⅱ9 3」コ一nも5ョもa」ち\n\n\t\t\t\t\t\t\t\t\t\t\t9を0\t960a\t94ト2 ま -の\tま92\t9ミ-6\t9、LL\tよ L\t960」\t969、9一\t968、L\tよ〔-6L\tdndのあ心n一2&gt;←uのお」d\n\nま0、0\n\n960、0\n\n9き、0\n\no、E\n\n9、2\n\n96 9\n\n960、E\n\n9寺、\n\n98\n\n丈6\n\n\n\nま L【\n\n960、E\n\nよ62L\n\n962E\n\n9等-ュ\n\n9き、E\n\n968、\n\n9き、E\n\n9602L\n\nま0、E\n\n96L、8一\n\n\n\n〔=tedコd出5む三E&gt;←u 巴d\n\n\to一\t一コIt-I,Lasn、一も2」ち巳\n\nP-wap巴ト\n\n*0\n\n\n\n一98、0\n\n。きビ\n\n\n\n9き、0\n\n*0、0\n\n960-0 \n\n\n\n960、0\n\nま0、0\n\n98、0\n\no、0\n\n98-0\n\n9 \'0\n\n\n\nよ20\n\nま 、\n\n8、9\n\n\n\n\n\n9き、\n\nま 、\n\n\n\nま、一巴\n\nまの、\n\n\n\n\n\n\n\nednd 22n而A←5お」d\n\nマ日 ト ョn sn一もa」ち巳\n\noけ\n\n6ヾ09・69\n\n、、58\n\nへ、6へO\'E\n\nt\'、6寸0・L\n\noお00・〔\n\n丈、、E\n\n9、5E9・に\n\n\n\n6、、0の・69\n\nへ、69\n\nへ、5へ0・É\n\n寸-6寸0・一\n\n0 8・一\n\n寸、、E\n\n9-6E9・\n\n一、い96L\n\nL、î寸9Z9\n\n、、68\n\n6寸0・L\n\n280q【\n\n9\n\nSTO寸9・に\n\nE96・\n\nL\'、寸9・\n\n興よ8\n\n2670・E\n\n寸0・L\n\n800・L\n\n6-寸、\n\n寸 00・9\n\n\n\nへ768\n\n設、き崗\n\no、6E0・一\n\no、8U0・一\n\n0209・一、\n\n、70【め\n\n06、・\n\n、、68\n\nE-90・E\n\n\n\n0-80D・【\n\n\n\n6、69E\n\n9、6 ・0L\n\n「2、6・8寸\n\n、68\n\n鱇0、0・E\n\n8一0・L\n\no、809L\n\n99E\n\n9、9卑・〔、\n\n、\'C寸9・\n\n9、00円9寸\n\n国ヾ68\n\n国、ELO\'E\n\n5、鬯0\n\no、866\n\nマ29E\n\n寸Lt\'に\n\nま8・寸一\n\no寸8・\n\n〔-よ9\n\n620q的\n\n8 86\n\n0-8g6\n\n寸、のE\n\n内-〔ま・OL\n\n8-0寸£、L\n\nニ0・L寸\n\nへヾ68\n\n9まべ\n\n冖296\n\no 、6\n\n寸、89の・0、\n\no、068・6L\n\n8お66、E\n\n、68\n\n8、696べ\n\nL\'9E6\n\no、 6\n\n斗E\n\n2寸、TO、\n\n町5せ9べ国\n\no、EL勢寸\n\n〔、68\n\n8、9寸6Z\n\n璽一〔6\n\n8\n\n928\n\n8-£8寸・59\n\nまマ、0〔℃山」三b)く\n\n9 ざLPVËN\n\n9 、6巴」0」戔0M配Iq\n\n\t\t\tま、、5\t」ト\n\n96丈9一嬰dじ61.1名0M\n\n\t\t\tま国-t\tpax!」型q一5u21\n\na三e&gt;む一← 02巴u巴a. ロ一2もト\n\n\n\n巴\n\n2\n\n戔\n\nに\n\nOS\n\n巴\n\n2\n\n戔\n\nに\n\nOS5も2」1110)\n\n\n\n\n\n\n\n\n\n6、、寸一・9\n\n9ZOZ\n\n\n\n\n\n\n\n6、 匸9\n\n\n\n\n\n\n\n\n\n6、、寸〔・9\n\n\n\n\n\n\n\n\n\nL、9\n\n\n\n\n\n\n\n00\n\n9、SLⅵ\n\n\n\n\n\n\n\no、0\n\n9、St二9\n\n\n\n\n\n\n\no、0\n\n9-0Lt・9\n\n\n\n\n\n\n\n\n\n二【9 9\n\n\n\n\n\n\n\n\n\n一2g0ⅵ\n\n\n\n\n\n\n\n9、 べ\n\n6-39・E\n\n\n\n\n\n\n\n6、86円寸\n\n\n\n\n\n1 LlöS1-10\n\n\n\n寸29E・9\n\n9、9ニ\n\n\n\n\n\n\n\n\n\n\n\n\n\nモOLLI弌 21巴0もqa 2》Il-I 巴d\n\n巴2M1ちの\n\nま0-0〔pa」三b\n\n*三OLM」N\n\nSue」1110)山り5」のS\n\n\n\n5\n\n5sua60u-1 》おp あM鬱p 、一 pun60 一型CIV ・qeト 5一\n\n\n\nAufsatz\n\nIm mittleren Teil von Tab. 3 auf S. 58 wird für jedes Jahr des Betrachtungszeitraums der Entity Value unter Berücksichtigung der stcucrwirksamen Abschreibungen der immateriellen Vermögenswerte und auf dessen Grundlage der Goodwill abgeleitet. Letzterer wird sodann durch dessen Komponenten Wert der zukünftig zu entwickelnden Software, Wert der zukünftig abzuschließenden Wartungsverträge sowie Wert des nach IFRS 3.B37 nicht bilanzierungsfähigen Mitarbeiterstamms — erklärt.l)\n\nDer bei dieser Überleitung verbleibende Differenzbetrag, der gleich dem nicht durch die Werte der Vermögenswerte erklärten Betrag des Entity Value ist, stellt — wic unter Abschn. 111.2, ausgeführt — eine Bewertungsdifferenz dar. Bei Anwendung der Rcsidual-Va[ue-Methode anstelle der IMPEEM zur Bewertung der zukünftig zu entwickelnden Software bzw. zur Bewertung der zukünftig abzuschließenden Wartungsverträge wird diese Differenz dem nach diesem Ansatz bewerteten Vermögenswert zugewiesen.24\n\nZur Beurteilung der Plausibilität der Bewertungscrgebnisse werden im unteren Teil von Tab. 3 auf S. 58 sowie in Tab 4 die den Vermögenswerten zugeordneten vermögenswertspezifischen Zinssätze mit den gewichteten Kapitalkosten der SW im Rahmen einer mehrperiodischen Betrachtung (WARAAnalyse) abgestimmt" Diese Analyse legt dar, dass die vorläufig festgelegten vermögenswertspezifischen Zinssätze keiner Anpassung bedürfen.\n\nTab. 4: Ableitung der vermögenswertspezifischen Zinssätze\n\n\n\nWACC\n\nRisk Adj.\n\nWACC Adj.\n\nSoftware\n\n\n\n\n\n\n\nAcquired\n\n8,0%\n\n\n\n10,0%\n\nNEW\n\n9,2%\n\n\n\n10,0%\n\nService Contracts\n\nAcquired\n\n\n\n\n\n\n\nNEW\n\n9,9%\n\n\n\n\n\nTrademark\n\n\n\n\n\n9,7%\n\nAssembled Workforce\n\n\n\n\n\n9,2%\n\nWorking Capital\n\n\n\n-1,5%\n\n6,4%\n\nTangible Fixed Assets\n\n8,2%\n\n\n\n7,2%\n\nEntity Value\n\n\n\n\n\n10,2%\n\nDiese WARA-Betrachtung zeigt weiter, dass die Summe der Verzinsungen des in die Vermögenswerte der SW investierten Kapitals von der Verzinsung des in das Unternehmen investierten Kapitals abweicht. Der dabei auftretende Differenzbetrag ist gleich der Veränderung der bei der Erklärung dcs Entity Value durch die Vermögenswerte aufgetrete nen Bewertungsdifferenz.26 Bei Anwendung der Residual Value•Methode anstelle der MPEEM zur Bewertung der zukünftig zu entwickelnden Software bzw. der zukünftig abzuschließenden Wartungsverträge und modellendogener Bestimmung des diesem Vermögenswert zugeordneten vermögenswertspezifischen Zinssatzes wird dieser Diffèrenz-\n\nzur Erklärung des Goodwill ausführlich Mosert CFB 2013 S. 285 ff., 355 ff.\n\nSiehe hierzu bereits unter Abschn. III .Ž. 25 vgl. hierzu Moser, 2013 S. 366 ff.\n\nvgl. Moser, 2013 S, 291 f., 294ff„ 371\n\n60\n\nwww.der-betrieb.de\n\nbetrag der Verzinsung des nach diesem Ansatz bewerteten Vermögenswerts zugewiesen.\n\n4. Analyse und Überleitung des EBITA\n\nDie Abstimmung der Einkommensbeiträge der Vermögenswerte der SW mit dem Einkommen der Gesellschaft in Tab. 2 auf S. 57 zeigt, dass sich das EBITA aus den Einkommensbeiträgen der immateriellen Vermögenswerte vor Steuern sowie der Verzinsung des in die Sachanlagen und des in das Net Working Capital investierten Kapitals vor Steuern zusammensetzt. Da die Einkommensbciträgc der immateriellen Vermögenswerte neben der Verzinsung des in diese Vermögenswerte investierten Kapitals auch die Veränderung des investierten Kapitals beinhalten, ist das EBITA sowohl durch die Verzinsung des in die immateriellen und materiellen Vermögenswerte investierten Kapitals als auch durch die Veränderung des in die immateriellen Vermögenswerte investierten Kapitals bestimmt.\n\nIn Tab. 5 auf S. 61 wird das EBITA nach Stcucrn in die Verzinsung des in das Unternehmen investierten Kapitals übergeleitet.\n\n— Hierzu wird das EBITA nach Steuern zunächst um die Steuermmderung erhöht, d ie aus den Abschreibungen der immateriellen Vermögenswerte resultiert. Das so bestimmte adjustierte EBITA nach Steuern wird anschließend um die Veränderungen des in die immateri ellen Vermögenswerte investierten Kapitals bereinigt und dadurch in die Verzinsung des in alle Vermögenswerte investierten Kapitals übergeleitet; dies bestätigt ein Vergleich mit Tab. 4.\n\nDamit ist der unter III. 3. erläuterte Zusammenhang dargelegt. Die Verzinsung des in das Unternehmen investierten Kapitals ergibt sich in Tab. 5 auf S. 61 schließlich durch Hinzurechnung der Veränderung des bei der Erklärung des Entity Value und des Goodwill durch die Vermögenswerte des Unternehmens aufgetretenen Differenzbetrags (der oben erläuterten Bewertungsdifferenz). Diese Überleitung folgt dem unter 111.2. auß gezeigten Zusammenhang.\n\nTab. 5 auf S. 61 zeigt weiter, dass der Zusammenhang zwischen dem adjustierten EBITA nach Steuern und der Verzinsung des in das Unternehmen investierten Kapitals auch durch die Veränderung des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in die materiellen Vermögengwerte investierten Kapitals erklärt werden kann. Dieser Zusam menhang wurde ebenso unter 111.2. abgeleitet.\n\nEin Vergleich der beiden Überleitungen zwischen dem adjustierten EBITA nach Steuern und der Verzinsung des in das Unternehmen investierten Kapitals bestätigt:\n\n— Dic Veränderung des in die immateriellen Vermögenswerte investierten Kapitals zzgl. der Veränderung der bei der Erklärung des EntityValue aufgetretenen Bewertu ngsdifferenz ist identisch mit\n\n— der Veränderung des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in dic materiellen Vermögenswert,e investierten Kapitals. \'1 Dieser Zusammenhang bringt zum Ausdrtfck, dass dic Veränderung des in das Untcrnchmcn investierten Kapitals sich zusammensetzt:\n\naus der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals,\n\n02 \n\n\twww.der-betrieb.de\tAufsatz\n\nTab. 5: Überleitung des EBITA nach Steuern in die Verzinsung des in die SW investierten Kapitals\n\nYear\n\nRef. \n\n2017 \n\n2018 \n\n2019 \n\n2020 \n\n2021 \n\n2022\n\n2023\n\n2024\n\n2025\n\n2026\n\n2027\n\nTax-effecting EBITA\n\nTab. 1 \n\n6.570,7 \n\n6.734,9 \n\n6.886,5 \n\n7.024,2 \n\n7.129/6 \n\n7.200,8\n\n7212,9\n\n7.309,2\n\n7.345,8\n\n7.345/8\n\n7345,8\n\nTax Benefit of Amortization\n\nTab.3 \n\n1.594,4 \n\n1.594,4 \n\n1.594,4 \n\n1.594,4 \n\n968,2 \n\n968,2\n\n968,2\n\n968,2\n\n968,2\n\n96812\n\n\n\nTax-effecting EBITA adjusted forTax Benefit of Amortization\n\n\n\n8.165,1 \n\n8.329,3 \n\n8.480,9 \n\n8.618,6 \n\n8.097,8 \n\n8.169,1\n\n8.241,1\n\n8.277,4 \n\n8.314,0\n\n8.314,0\n\n7.345,8\n\nless Incremental Invested Capital in Intangible Assetsa\'\n\nTab.3 \n\n-249,7 \n\n-431,8 \n\n-619,6 \n\n-814,6 \n\n-371,2 \n\n-477,3\n\n-596,3\n\n-692,0\n\n-798,2\n\n-878,9\n\n\n\nReturn on Intangible and Tangible Assets\n\nTab.3 \n\n7.915,4 \n\n7.897,6 \n\n7.861,3 \n\n7.804,0 \n\n7.726ó \n\n7.691,8\n\n7ó44,8\n\n7.585,4 \n\n7.515r8\n\n7.435,1\n\n7.345,8\n\nIncremental Valuation Difference\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReturn on EnitityValue incl. Amortization\n\nTab. 3 \n\n7.924,9 \n\n7.905,) \n\n7.867,4 \n\n7.808,1 \n\n7.728,5 \n\n7.693,3 \n\n7.645,9 \n\n7.586,2 \n\n7.516J2 \n\n7.435A\n\n7.345,8\n\nIncrernental Entity Value\n\nTab. 3 \n\n192,8 \n\n3/0,6 \n\n581,8 \n\n780,8 \n\n344,3 \n\n465,5 \n\n584,9 \n\n686,0 \n\n792,5 \n\n878,6\n\n\n\n[ess Incremental Workind Capital and Tangible Fixed Assets \n\nTab. 3\n\n47,3\n\n53,5\n\n31,6\n\n29,1\n\n25,1\n\n10,2\n\n10,3\n\n5,2\n\n\n\n\n\n\n\nTax-effecting EBITA adjusted forTax Benefit of Amortization\n\n\n\n8.165,1 \n\n8,32913 \n\n8.480,9 \n\n8.618,6 \n\n8.097,8 \n\n8.169,1 \n\n8.241,1 \n\n8.277,4 \n\n8.314,0 \n\n8.314,0\n\n7.345/\n\nInvested Capital Total Intangible Assets (Software, Service Contrarts, Trademark, Assembled Workforce) t less Invested Capital Total Intangible Assets t+l\n\nder Veränderung der bei der Erklärung des Entity Value\n\nmeÁsführung sowie der Beurteilung der Plausibilität von\n\naufgetretenen Bewertungsdifferenz sowie\n\nWachstumsannahmen bei Unternehmensbewertungen in\n\nder Veränderung des in die materiellen Vermögenswerte investierten Kapitals.\n\nV. Zusammenfassung\n\nIm vorliegenden Beitrag wurde aufgezeigt, dass sich das EBITA nach Abzug von Steuern aus der Summe der Verzinsungen des in die VermÖgenswerte des Unternehmens investicrtcn Kapitals zzgl. der Summe der Veränderungen des in die immateriellen Vermögenswerte investierten Kapitals abzgl. der durch die Abschreibungen der immateriellen Vermögenswertc bedingten Steuerminderung zusammensetzt. Damit kann das EBITA nach Steuern — bei Bereinigung der aus der Abschreibung der immateriellen Vermögenswcrte resultierenden Steuerwirkungcn — auf die Einkommensbeiträge der immateriellen Vermögenswerte zzgl. der Verzin-\n\nBetracht,\n\nsungcn des in die materiellen Vermögenswerte investierten\n\nWP/StB Prof. Dr. Ulrich Moser, CVA, lehrt\n\nKapitals zurückgeführt werden. Weiter wurde dargelegt,\n\nRechnungswesen und Steuern an der Fachhochschule\n\ndass das EBITA nach Steuern und nach Bereinigung der aus\n\nErfurt Den Schwerpunkt seiner Forschungstätigkeit\n\nder Abschreibung der immateriellen Vermögenswerte resul-\n\nbilden die Bewertung von immateriellen\n\ntiercnden Steuerwirkungen auch durch die Verzinsung des\n\nVermögenswerten, Unternehmenstransaktionen sowie Unternehrnensbewertung- Er ist Mitglied des\n\nin das Unternehmen investierten Kapitals zzgl. der Verände-\n\nWissenschaftlichen Beirats der Dornbach Valuation\n\nrung des in die immateriellen Vermögenswerte investierten\n\nKapitals sowie der Veränderung der bei Anwendung der\n\nGmbH/ Saarbrücken.\n\nMPEEM auftretenden Bewertungsdifferenz zusammen\n\nDr. Thomas Tesche, CMA ist Prokurist der\n\nsetzt. Die Zusammenhänge wurden formal abgeleitet und\n\nDornbach Valuation GmbH, Saarbrücken. Ein\n\nanhand eines aus der Praxis der Kaufpreisallokation stam-\n\nSchwerpunkt seinerTätigkeit liegt in der Bewertung von\n\nmenden Fallbeispiels verdeutlicht.\n\nDie dargelegten Erklärungen des EBITA sind insb. für die Bewertung immatcricllcr Vermögenswerte — bspw. bei Kaufpreisallokationen = von erheblicher Bedeutung. Dies ist darin begründet, dass diese Analysen Inkonsistenzen\n\nUnternehmen und immateriellen Vermögenswerten.\n\nder abgeleiteten Bewertungsergebnisse sowie Modellie-\n\nWP/StB Prof. Christoph Hell, CVA ist Partner\n\nrungsfehler aufdecken können, die bei den in der Praxis\n\nin der Dornbach Gruppe und Geschäftsführer\n\nzumeist durchgeführten Plausibilitätsbeurteilungen durch\n\nder Dornbach Valuation GmbH, Saarbrücken, Ein\n\nAbstimmung der vermögenswertspezifischen Zinssätze\n\nSchwerpunkt seiner Tätigkeit liegt in der Bewertung von\n\nmittels WARA-AnaIyse nicht zu crkennen sind.\n\nDie erläuterten Zusammenhänge kommen darüber hinaus u.a. als Grundlage der Analyse von Profil Split-Faktoren, der Bestimmung von Verrechnungspreisen, der Untersuchung von Steuerungsgrößen der wertorientierten Unterneh-\n\nUnternehmen und immateriel len Verrntgenswerten. Kontakt: autor@der-betrieb.de\n\nBewertungsPraktiker \n\n61\n\n\n\n\t\t\t\tBewertungsPraktiker \t25.05.2017\tNr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker \t25.05.2017\tNr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker Nr. \t26.05.2017\tBewertungsPraktiker Nr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker Nr. \t26.05.2017\tBewertungsPraktiker Nr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker \t26.05.2017\tBewertungsPraktiker Nr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker \t25.05.2017\tNr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker Nr. \t26.05.2017\tNr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker Nr. \t26.05.2017\tNr. 02 26.05.2017\n\n\t\t\t\tBewertungsPraktiker Nr. \t26.05.2017\tNr. 02 26.05.2017'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">In</span> <span class="n">der</span> <span class="n">Praxis</span> <span class="n">der</span> <span class="n">Kaufpreisallokation</span> <span class="n">zeigt</span> <span class="n">sich</span><span class="p">,</span> <span class="n">dass</span> <span class="n">derartige</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Einschränkungen</span> <span class="n">der</span> <span class="n">Bewertungsergebnisse</span> <span class="err">—</span> <span class="n">bei</span> <span class="n">begrenztem</span> <span class="n">zusätzlich</span> <span class="n">anfallendem</span> <span class="n">Modellierungsaufwand</span> <span class="err">—</span> <span class="n">aufgedeckt</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Erklärung des EBITA ausgehend von Verzinsung und Veränderung des in ein Unternehmen bzw. in des</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>werden können durch die Abstimmung des EBITA mit der Verzinsung und der Ver  änderung des in das Unternehmen investierten Kapitals\n\nabzgl. der Veränderungen des in die materiellen Vermösen Vermögenswerte investierten Kapitals I genswerte investierten Kapitals — das in das Unternehmen\n\ninvestierte Kapital ist dabei als Entity Value zu verstehen;\n\nsowie durch die</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Betrachtungen unter besonderer Berücksichtigung von Kaufpreisallokaticnen</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Abstimmung des EBITA mit den Verzinsungen des in die</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>zzgl. der Veränderungen des in die immateriellen Vermö-\n\nDer Erklärung des EBITA eines Unternehmens kommt insb.\n\nAbstimmungen im praktischen Fall anhand eines aus der Pra-\n\ngenswerte investierten Kapitals.\n\nfür die Bewertung immaterieller Vermögenswerte, die Be-\n\nxis der Kaufpreisallokation stammenden, für die Zwecke die-\n\n\n\nstimmung von Verrechnungspreisen, die Untersuchung von\n\n</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ses Beitrags vereinfachten Fallbeispiels erläutert (Abschn. IV.).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="III-Ableitung-der-Erklärungszusammenhänge">III Ableitung der Erklärungszusammenhänge<a class="anchor-link" href="#III-Ableitung-der-Erklärungszusammenhänge">¶</a></h2><p>\n\nSteuerungsgrößen der wertorientierten Unternehmensfüh-\n\nVorab wird die Bedeutung aufgezeigt, die der Analyse des\n\n</p>
<h4 id="1.-Vorgehen">1. Vorgehen<a class="anchor-link" href="#1.-Vorgehen">¶</a></h4><p>\nrung sowie die Beurteilung von Wachstumsannahmen bei\n\nEBITA bei der Beurteilung der im Rahmen von Kaufpreisal-\n\nIm Folgenden wird zunächst aufgezeigt, dass das EBITA\n\nUnternehmensbewertungen Bedeutung zu. Im vorliegen-\n\nlokationen erzielten Ergebnisse zukommt (Abschn. 11.). Die\n\nnach Abzug von Steuern (tax-effecting EBITA5) erklärt wer-\n\nden Beitrag werden die Zusammenhänge, die zwischen\n\nBetrachtungen gehen — The Appraisal Foundation (TAF)2\n\nden kann durch die Verzinsung und die Veränderung des in\n\ndem EBITA eines betrachteten Unternehmens und der Ver-\n\nfolgend — von der Annahme aus, dass die Rückflüsse des in die\n\ndas Unternehmen investierten Kapitals (Entity Value) abzgl\n\nVermögenswerte des Unternehmens investierten Kapitals\n\nzinsung des in das Unternehmen investierten Kapitals so-\n\nSachanlagen investierten Kapitals gleich den Abschreibungen\n\nder Veränderung des in die materiellen Vermögenswerte\n\nwie zwischen dem EBITA und den Verzinsungen des in die\n\nsind.\n\ninvestierten Kapitals sowie durch die Verzinsung des in das\n\nVermögenswerte des Unternehmens investierten Kapitals\n\n\n\nUnternehmen investierten Kapitals zzgl. der Veränderung\n\nbestehen, dargelegt.\n\nIl. Bedeutung der Analyse des EBITA für die Beurteilung\n\ndes in dic immateriellen Vermögenswerte investierten Kapi-\n\n\n\nder im Rahmen von Kaufpreisallokationen\n\ntals (Abschn. 111.2.), Sodann wird die Überleitung des EBITA\n\nl. Einführung\n\nabgeleiteten Ergebnisse\n\nnach Steuern in die Verzinsungen des in die Vermögenswerte\n\nDer Erklärung des EBITA (Earnings before Interest, Taxes and\n\nDie bei der Bewertung immaterieller Vermögenswerte im\n\ndes Unternehmens investierten Kapitals zzgl. der Verände-\n\nAmortisation) eines Unternehmens kommt bei der Untersu-\n\nRahmen von Kaufpreisallokationen abgeleiteten Ergebnisse\n\nrungen des in die immateriellen Vermögenswerte investierten\n\nChung verschiedener Fragestellungen Bedeutung zu. Dies gilt\n\nwerden vielfach auf Plausibilität untersucht. Zumeist wird\n\nKapitals (Abschn. 111.3.) dargelegt.\n\nbei der Bewertung immaterieller Vermögenswerte bspw. für  die\n\neine WARA-Analyse3 durchgeführt, bei der die den Vermö-\n\n\n\nAnalyse von Profit-Split-Faktoren1 , die Analyse von Verträgen,\n\ngenswerten des betrachteten Unternehmens zugeordneten\n\n2. Erklärung des EBITA ausgehend von der Verzinsung des\n\netwa Exklusivverträgen, sowie die Beurteilung der Konsistenz\n\nvermögenswertspezifischen Zinssätze mit den gewichteten\n\nin das Unternehmen investierten Kapitals\n\nder für immaterielle Vermögenswerte - bspw. im Rahmen von\n\nKapitalkosten abgestimmt werden. Darüber hinaus werden\n\nDas — als Free Cashflow6 verstandene — Einkommen cines\n\nKaufpreisallokationen — abgeleiteten Werte. Wciter erlaubt\n\nteilweise auch die Einkommensbeiträge der Vermögenswerte\n\nbetrachteten Unternehmensl in der in t+l mit t = 0 bis 00\n\ndie Erklärung des EBII\'A die Aufteilung der EBITA-Marge\n\nmit dem als Free Cashflow verstandenen Einkommen des\n\nendenden Periode CF1+1 ergibt sich ausgehend vom EBITA\n\neines Unternehmens in Produktions- und Vertriebs-Marge,\n\nUnternehmens und die Werte der am Bewertungsstichtag\n\ndieser Periode (EBJTA ) — bei Saldierung der Abschrei-\n\ndie u.a. bei der Bestimmung von Verrechnungspreisen oder der\n\nbestehenden sowie der zukünftig geplanten Vermögenswerte\n\nbungcn der Sachanlagen mit den Investitionen — aus der\n\nErmittlung des beizulegenden Zeitwerts von Vorräten erfor-\n\nmit dem als Entity Value verstandenen Unternehmenswert\n\nBeziehung\n\nderlich werden kann. Darüber hinaus kann die EBITA-Analyse\n\nabgestimmt. Diese Analysen können einperiodisch oder mehr-\n\n\n\nder Untersuchung von Steuerungsgrößen der wertorientierten\n\nperiodisch zur A nwendung kommen.4\n\n\t\t\t\t\t\t= \tx (1-9 + s x\t\t\t\t\n\nUnternehmensführung sowie der Analyse der Plausibilität\n\nMit den genannten Abstimmungen ist jedoch verbunden,\n\n\t\t\t—f VI,t+1 — VI,t) — ( \t— Va,t)\n\nvon Wachstumsannahmen bei Unternehmensbewertungen\n\ndass Inkonsistenzen sowie Modellierungsfehler, die bei den\n\n\n\nzugrunde gelegt werden.\n\nBewertungen der einbezogenen Vermögenswerte auftreten,\n\nwobei VI t bzw. V das im Zeitpunkt t bzw. t+l in das Working\n\nIm Folgenden werden — unter Berücksichtigung der Verän-\n\nnicht zwingend erkannt werden. Inkonsistenzen und Model-\n\nCapital und V bzw. V2 das in diesen Zeitpunkten in die\n\nderungen des in das betrachtete Unternehmen und in die\n\nlierungsfehler können dazu führen, dass den in die Analyse\n\nSachanlagen investierte Kapital bezeichnen; A bringt die\n\nmateriellen Vermögenswcrl.c investierten Kapitals bzw. unter\n\neinbezogenen Verm ögenswerten unzutreffende Einkommens-\n\nSumme der Abschreibungen der immateriellen Vermögens-\n\nEinbeziehung der Veränderungen des in die immateriellen\n\nbeiträge und/oder unzutreffende vermögenswertspezifischc\n\nwerte der in t+l endenden Periode zum Ausdruck.\n\nVermögenswerte investierten Kapitals — der\n\nZinssätze und damit unzutreffcndc Wcrtc zugeordnet werden.\n\nDas Einkommen des Unternehmens kann auch aus der\n\n— Zusammenhang zwischen dem EBITA und der Verzinsung Da die Abstimmungen von Residualgrößen ausgehen, können Bestimmungsgleichung für dessen — als Entity Value verstan- des in das betrachtete Unternehmen investierten Kapitals sich die Folgen der Inkonsistenzen und Modellicrungsfehlerdenen — Wert V im Zeitpunkt t sowie der\tunerkannt — ausgleichen.\n\n Zusammenhang zwischen dem EBITA und den Verzinsungen des in die Vermögenswerte des Unternehmens\n\ninvestierten Kapitals dargelegt.\n\nDie Zusammenhänge werden zunächst formal abgeleitet\n\n2\n\nVgl. The Appraisal Foundation (TAF), Best Practices for Valuations in Financial Reporting: Intangible Asset Working Group - Contributory Assets, The Identification of Contributory Assets and Calculation of Economic Rents, 2010, 3.4.09; IVSC GN 4, 532-34. Siehe zu dieser Annahme auch\n\n\n\n\n\n(Abschn. 111.). Sodann wird die Anwendung dieser EBITA-\n\n3\n\nMoser, Bewertung immaterieller vermögenswerte, 2011, S. 54.\n\nZ T. wird auch von WACC-2-WARA-Analyse (Moser, Bewertung immaterieller Vermögenswerte,\n\n5\n\n\n\nTAF, a.a.O. {hl. 2), 3.4.03.\n\n\n\n\n\n2011, S. 232 ff.) oderWARA-Reconciliation (BeyéflMackenstedt, \n\n6\n\nSharehoIderValue, 1995, 5, 53 ff; Cope-\n\n\t\t\tImmaterielle Vermögenswerte,\tZur Definition des Free Cashflow statt vieler Rappaport, \n\nI Zur Beurteilung von Profit Split-Faktoren unter Zugrundelegung von EBITA-Analysen grundle-\n\n\n\n2008, S. 348 f.; Schmalenbach -Gesellschaft, Purchase Price Alldation, 2009, S. 43) gesprochen.\n\n\n\nland/Koller/Murrin, Unternehmenswert, 3. Aufl.2002, S. 21 Off.\n\ngend Moser, Bewertung immateriellerVermögenswertey 2. Aufl. (erscheint 2017).\n\n52\n\n4\n\nAusführlich zu diesen Betrachtungen Moser, (FB 2013 S. 285 ff, 355 ff.\n\n02 \n\n7\n\nvgl. \n\n2),\n\n2),\n\nabgeleitet werden8 als\n\n\n\nwobei r, die gewichteten Kapitalkosten des Unternehmens der in t+l endenden Periode zum Ausdruck bringt. Durch Gleichsetzung der beiden Ausdrücke für CF und Umformung ist das EBITA nach Steuern zzgl. der mit. den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung durch die Beziehung\n\n\t — \t— (14/ — 168+1)\n\nbestimmt, Damit ist aufgezeigt, dass das EBITA nach Steuern zzgl. der mit den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung (s x Ar+1) — dargestellt werden kann als Verzinsung (V x r1+1) und Veränderung (Vt — Vt+l) des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in das Working Capital (V 1,}— VI 1+1) und in die Sachanlagen (1/2 r — V ) d.h. in die materiellen VermögenswerLc des Unternehmens investierten Kapitals. Die Korrektur der mit den Abschreibungen der immateriellen Vermögenswerte verbundenen Steuerminderung ist dann geboten, wenn diese Steuervorteile bei der Ableitung des Entity Value berücksichtigt wurden.\n\nDiese Betrachtungen können dadurch erweitert werden, dass angenommen wird, dass ein Vermögenswert des betrachteten Unternehmens mittels der Residual Value-Methode bewertet wird. Bei Bewertung des Vermögenswertes i mit i = n nach dieser Methode gilt9\n\n\n\nDicscr Ausdruck kann in dic oben abgeleitete Beziehung für das EBITA nach Steuern eingesetzt werden. Nach Umformungen führt dies zu der Beziehung\n\n\n\nNach dieser Beziehung bestimmt sich das EBITA nach Steuern als Verzinsung des in das Unternehmen investierten Kapitals (V x r,+1) zzgl. der Veränderung des in die immateriellen Vcr-\n\n\n\nmögenswerte investierten Kapitals\n\n\n\nabzgl. der mit der Abschreibung der immateriellen Vermögenswerte bedingten Steuerminderung (s x A1+7). Durch Aup lösung der Beziehung nach V x rt ergibt sich die Erklärung der Verzinsung des in das Unternehmen investierten Kapitals ausgehend vom EBITA. Es gilt\n\n\n\n8 vgl. Moser, \tS. 288 f. 9\tvgl. Moser, CFB2013 S. 789 f.\n\n53\n\n\n\nBei Anwendung der Multi-Period-Excess-Earnings-Methode (MPEEM)IO anstelle der Residual-Value-Methode zur Bewer-\n\ntung des Vermögenswerts i mit i = n und modellexogener Vorgabe von vermögenswertspezifischen Zinssätzen für alle dem Unternehmen zugeordneten Vermögenswerte i mit i = I bis n ist die Beziehung\n\n\n\nnur dann erfüllt, wenn der dem Vermögenswert i = n modellexogen zugeordnete vermögenswertspezifische Zinssatz gleich dem vermögenswertspezifischen Zinssatz ist, der für diesen Vermögenswert bei Anwendung der Residual-ValueMethode modellendogen abgeleitet werden kann  Ist diese Bedingung nicht gegeben — und hiervon ist regelmäßig bei periodenunabhängigen vermögenswertspezifischen Zinssätzen auszugehen — , kann der Entity Value nicht vollstándig durch die Summe der Werte der Vermögenswerte erklärt werden. Es gilt\n\nMPBEM\n\nmit En,tMPËEM 0 , wobei En,tMFEEM den nicht erklärten Betrag des Entity Value im Zeitpunkt t erfasst. Dieser Differenzbetrag stellt eine bewertungsbedingte Differenz dar, wie an anderer Stellen nachgewiesen wurde.\n\nDurch Einsetzen dieses Ausdrucks in die oben abgeleitete Beziehung für das EBITA ergibt sich\n\n\n\nDiese Beziehung legt dar, dass das EBITA nach Steuern bei Bereinigung der aus der Abschreibung der immate-\n\nriellen Vermögenswerte resultierenden Steuerwirkungen sich zusammensetzt aus der Verzinsung des in das Unternehmen investierten Kapitals (V x r ) der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals\n\n\n\nund der Veränderung der bei Anwendung der MPEEM auftretenden Bewertungsdifferenz\n\nDurch Auflösung der Beziehung nach V x r,+f ergibt sich die Erklärung der Verzinsung des in das Unternehmen investierten Kapitals ausgehend vom EBITA. Es gilt\n\n\n\nDie Abstimmung der zuvor bestimmten Beziehung für das um Steuern verminderte EBITA mit der oben abgeleiteten Ausgangsbeziehung für diese Größe zeigt, dass die Verän-\n\n54\n\nderung des in das Unternehmen investierten Kapitals sich zusammensetzt aus\n\n der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals,  der Veränderung der bei der Erklärung des Entity Value aufgetretenen Bewertungsdifferenz sowie  der Veränderung des in die materiellen Vermögenswerte investierten Kapitals.\n\nDas Gleichsetzen der Beziehungen führt nach Vereinfachungen zu Ausdruck\n\nvt-vt\n\n3. Erklärung des EBITA nach Steuern ausgehend von der Verzinsung des in die Vermögenswerte des Unternehmens investierten Kapitals\n\nDas Einkommen des betrachteten Unternehmens in der in\n\nt+l endenden Periode ist bei Zuordnung der Excess Earnings zu mindestens einem diesem zugehörigen Vermögenswertbestimmt durch die Beziehung\n\ni,t+l\n\nwobei CF i,1+1 den Einkommensbeitrag des Vermögenswerts i mit i = I bis n bezeichnet; zur Vereinfachung der Darstellungen werden in diesen Einkommensbeitrag, soweit erforderlich, die abschreibungsbedingte Steuerminderungs x A einbezogen, Der Einkommensbeitrag des VermÖgenswerts i kann — in gleicher Weise wie das Einkommen eines Unternehmens — aus der Bestimmungsgleichung für dessen Wert\n\n1 + n,t+l\n\nabgeleitet werden als\n\nwobei r den vermögenswertspezifischen Zinssatz des Vermögenswerts i in der in t+l endenden Periode zum Ausdruck bringt. Durch Einsetzen dieser Beziehung in den Ausdruck CF\'t+1 und Gleichsetzung mit dem Ausdruck CF\n\n\t= V xr + vi— \tergibt sich mit V = MPBEM bzw. V = \n\n\t+ EI \tVi,t+l\n\nMit diesem Ausdruck kann die in Abschn. 1112. abgeleitete Ausgangsbeziehung für das EBITA nach Abzug von Steuer überführt werden in die Beziehung\n\n\n\ni,t+l\n\ni,t+l\n\nDiese Beziehung legt dar, dass sich das EBITA nach Steu-\n\nern — bei Bereinigung der Steuerminderungen aufgrund der Abschreibung der immateriellen Vermögenswerte (s x hi) zusammensetzt aus den Verzinsungen des in die Vermögenswerte des Unternehmens investierten Kapitals x sowie  den Veränderungen des in die immateriellen ermögenswerte investierten Kapitals\n\n\tDurch Einsetzen von CF\tx r + V _ V in die\n\ni, 1+1\n\nBeziehung wird deutlich, dass in das EBITA nach Steuern die Einkommensbeiträge der immateriellen Vermögenswerte und die Verzinsungen des in die materiellen Vermögenswerte investierten Kapitals eingehen. Es gilt\n\n\n\nIV. Fallbeispiel\n\nÜberblick\n\nIm Folgenden wird zunächst in das Fallbeispiel eingeführt (Abschn. IV.2.). Sodann werden der Entity Value des betrachteten Unternehmens und die Werte der diesem zugeordneten Vermögenswerte bestimmt (Abschn. IV.3.). Anschließend wird das EBITA nach Steuern analysiert und in die Verzinsungen des in die VermÖgenswerte des Unternehmens investierten Kapitals bzw. in die Verzinsung des in das Unternehmen investierten Kapitals sowie die Veränderungen des in die immateriellen Vermögenswerte investierten Kapitals übergeleitet (Abschn. IV.4.).\n\n\n\nAusgangsdaten\n\nDie SW GmbH (kurz SMI) ist ein Software-Unternehmen, das eine Software-Lösung für spezielle Anwendungen entwickelt hat. Ihre Geschäftstätigkeit ist neben der Weiterentwicklung dieser Software sowie der Entwicklung der Nachfolgegeneration der bestehenden Software insb. durch die Pflege der Software im Rahmen der bestehenden Wartungsverträge geprägt. Diese Verträge haben zumeist eine Laufzeit von einem Jahr, werden jedoch ganz überwiegend stillschweigend prolongiert. Daneben verfügt die Gesellschaft über eine in der betreffenden Branche sehr bekannte Marke, einen Mitarbeiterstamm, Sachanlagen und Net Working Capital. Verzinsliche Verbindlichkeiten weist die Gesellschaft nicht auf.\n\nDie SW wurde zum 01.01.2016 von der Erwerber AG im Wege eines Asset Deal übernommen. Analysen der vom Erwerber erbrachten Gegenleistung zeigten, dass deren beizulegender Zeitwert dem Entity Value der Gesellschaft entspricht. Die bilanzielle Abbildung des Unternehmenszusamrnenschlusses folgt IFRS 3, von der die steuerliche Behandlung der Übel% nahme der Gesellschaft nicht abwcicht.\n\n\n\nTab. I auf S. 56 stellt für den Betrachtungszeitraum im oberen und im mittleren Teil die wesentlichen Planungsdaten der SW, die — IFRS 13 folgend — die Annahmen der Market Participants zum Ausdruck bringen, sowie das in Working Capital, Sachanlagen und Mitarbeiterstamm investierte Kapital zusammen. Aus dem unteren Teil der Tabelle ergibt sich — ausgehend von der Umsatzplanung der Gesellschaft — für jedes Jahr des Planungszeitraums die Zuordnung der geplanten Umsatzerlöse zu der am Bewertungsstichtag bestehenden SoftwareLösung, zu zukünftig zu entwickelnder Software — diese fasst die Weiterentwicklungen der bestehenden Software und die Nachfolgegenerationen dieser Software zusammen — sowie zu den bestehenden und den zukünftig abzuschließenden Wartungsverträgen.\n\nAus Tab. 2 auf S. 57 ergeben sich für den gesamten Planungszeitraum die Beiträge der genannten Vermögenswerte sowie der Marke zum als Free Cashflow verstandenen Einkommen der Gesellschaft. Die Tabelle zeigt, dass das Einkommen der Gesellschaft vollständig durch die Einkommensbeiträge der\n\nVermögenswerte der Gesellschaft erklärt werden kann.Il Dic Einkommensbeiträge der Marke, die unter Zugrundelegung einer unbestimmten Nutzungsdauer mittels der Relief-from-Royalty-Methode bewertet wird, ergeben sich durch Anwendung eines als angemessen zu betrachtenden\n\nLizenzsatzes i.H,v. auf die Umsatzerlöse der Gesellschaft, Mitarbeiterstamm, Sachanlagen und Net Working Capital wurden mittels des Cost Approach bewertet, woraus resultiert, dass deren Einkommensbeiträge grds. als Verzinsung und Veränderung des investierten Kapitals zu ermitteln sind. Beim Mitarbeiterstamm erübrigt sich die Einbeziehung der Veränderungskomponente, da nach den Planungen der Gesellschaft der Mitarbeiterstamm während des Planungszeitraurns weder auf- noch abgebaut werden soll und sich deswegen Rückflüsse des investierten Kapitals und Investitionen in diesen Vermögenswertinjedem betrachtetcnJahr in\n\ngleicher Höhe gegenüber stehen, Bei den Sachanlagen werden die Rückflüsse des investierten Kapitals i.H.d. Abschreibungen bemessen und sodann mit den Investitionen verrechnet. Der Ermittlung der Verzinsung des in diese Vermögenswerte investierten Kapitals werden die in der Tabelle genannten, vorläufig festgelegten vermögenswertspezifischen Zinssätze zugrunde gelegt.\n\nDer Bewertung der bestehenden Software-Lösung, der zukünftig zu entwickelnden Software sowie der bestehenden und der zukünftig abzusch ließenden Wartungsverträge wird die MPEEM zugrunde gelegt. Die Einkommensbeiträge dieser Vermögenswerte sind dementsprechend als Excess Earnings zu bestimmen. Diese ergeben sich durch Anwendung der um die Software-Entwicklungskosten i.H.v. 7,25% der Umsatzerlöse bereinigten EBITA-Marge aufdie den Vermögenswerten in Tab. 1 aufS. 56 zugeordnetenUrnsatzerIöse und Abzug der Einkommensbeiträge der unterstützenden Vermögenswerte Marke, Mitarbeiterstamm, Sachanlagen und Net Working Capital. Die Software-Entwicklungskosten i.H.v. 7,25% der Planumsatzerlöse der Gesellschaft werden in vollem Umfang der zukünftig zu entwickelnden Software zugeordnet.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>\n\n55\n\n\n\nYear\n\n2016\n\n2017\n\n2018\n\n2019\n\n2020\n\n2021\n\n2022\n\n2023\n\n2024\n\n2025\n\n2026\n\n2027\n\nperpetual\n\nIncome Analysis\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSoftware\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAcquirecP)\n\n\n\n3710,1\n\n3.013,3\n\n2.459,2\n\n2.007,2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNEWh)\n\n\n\n-2.722, 1\n\n-2.036,9\n\n-1.469,7\n\n-996,9\n\n967,2\n\n937,9\n\n908,8\n\n893,9\n\n879,1\n\n879,0\n\n879Ñ\n\n879,0\n\nAcquirecP)\n\n\n\n7.147,3\n\n6.595,0\n\n6.069,8\n\n5.573,5\n\n5.092,2\n\n\n\n4.208,5\n\n3.806,8\n\n3.443,6\n\n3.099,1\n\n\n\n0,0\n\nNE-wa)\n\n\n\n579,5\n\n1.364,0\n\n2.078,7\n\n2.740,1\n\n3.406,3\n\n3.994,1\n\n4.54115\n\n5.007,1\n\n5.434,8\n\n5.778,9\n\n8.878,0\n\n8.878,0\n\nTrademarkO\n\n\n\n375,5\n\n384,9\n\n393,5\n\n401\n\n407,4\n\n411,5\n\n415,6\n\n417,7\n\n419,8\n\n419,8\n\n419,8\n\n419,8\n\nReturn on Invested\n\nCapital pre Taxd) 9,2%\n\n\n\n1 18,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\n118,0\n\nWorking Capital\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReturn on Invested\n\n\t\t\tCapital pre \t6,4%\n\n\n\n82,7\n\n85,2\n\n87,3\n\n89,3\n\n91,1\n\n92,5\n\n93,4\n\n94,3\n\n94,8\n\n95,3\n\n95,3\n\n95,3\n\nReturn on Invested\n\nCapital pre Taxd)\n\n\n\n\n\n97,7\n\n100,8\n\n101,9\n\n10219\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\n103,9\n\nEBITA\n\n\n\n9.386,7\n\n9.621,3\n\n9837,8\n\n10.034,6\n\n10.185,1\n\n10.286,9\n\n10389,8\n\n10.441,7\n\n10.494,0\n\n10.494,0\n\n10.494,0\n\n10.494,0\n\nTax-effecting EBITA\n\n\n\n6.570,7\n\n6734,9\n\n6.886,5\n\n7.024,2\n\n7.129,6\n\n7.200,8\n\n7.272,9\n\n7.309,2\n\n7.345,8\n\n7.345,8\n\n7.345,8\n\n7345,8\n\nIncremental Working Capital\n\n\n\n-27,3\n\n-23,5\n\n-21/6\n\n-19,7\n\n-15,1\n\n-10,2\n\n-10,3\n\n-5,2\n\n-5,2\n\n\n\n\n\n\n\nIncremental Tangible Fixed\n\nAssets\n\n\n\n-20,0\n\n-30,0\n\n-10,0\n\n-10,0\n\n-10,0\n\n\n\n\n\n0,0\n\n0,0\n\n0,0\n\n\n\n\n\nFree Cashflow\n\n\n\n6.523,3\n\n6.681 ,5\n\n6£54,8\n\n6.994,5\n\n7.104r5\n\n7.190,7\n\n7262,6\n\n7304,0\n\n7.340,5\n\n7.345,8\n\n7.345,8\n\n7345,8\n\n\'EntityVaIue 1012%\n\n69.820,0 \n\n70.418,3\n\n70.919,6 \n\n71.298,6 \n\n71.516,6\n\n7177219\n\n71.903,2 \n\n71.974,7 \n\n72.012,2 \n\n72.016,9\n\n72.016,9\n\n72-016,9\n\nSales rel. to Asset x (EBITA-Margin adjusted — CAC as Percentage of Sales)\n\nSales rel. to Asset x (EBITA-Margin adjusted - CAC as Percentage of Sales) -Total Sales x SW-Development Expenses\n\nc) Total Sales x Royalty Rate\n\nInvested Capital (t-1) x Rate of Return Assigned to Asset / ( I — tax rate)\n\nEBITA-Margin adjusted = EBITA-Margin + SW-Development Expenses CAC = Contributory Asset Charges\n\n\n\n\n\nO O\t00\tTab. 2: Zusammenstellung der Einkommensbeiträge der Vermögenswerte uns\n\nService Contracts\n\nAssembled Workforce ex TAB\n\nTangible Fixed Assets\n\nValuation Analysis\n\nAlle weiteren, für die Ableitung des Entity Value und die Betrachtungszeitraums bestimmt. Die dabei angewendeten Bestimmung der Werte der Vermögenswerte erforderlichen gewichteten Kapitalkosten von 10,2% — aufdie Darstellung von Daten, insb. Nutzungsdauern sowie der anzuwendende deren Ermittlung wird im Rahmen dieses Beitrags verzichtet Ertragsteuersatz, sind Tab. I auf S. 56 zu entnehmen. Da die— folgen IFRS 13 entsprechend den Annahmen der Market Untersuchungen mehrperiodischlï durchgeführt werden, Participants.\n\nfolgen alle Wertermittlungen dem Roll-Back-Verfahren. 19 Die Tab. 3 auf S. 58 fasst die Ableitungen der Werte der immateriAnwendung dieses Verfahrens führt dazu, dass die Werte der ellen Vermögenswerte der SW zusammen. Im oberen Teil der Bewertungsobjekte für jeden Zeitpunkt des Betrachtungszeit- Tabelle werden die Barwerte der diesen Vermögenswerten in raums unmittelbar zur Verfügung stehen. Tab. 2 zugeordneten Einkommensbeiträge unter Zugrundelegung der angegebenen, vorläufig festgelegten vermögens-\n\n3. Ableitung des Entity Value und der Werte der Vermö-\twertspezifischen Zinssätze ermittelt. Sodann werden die genswerte\tabschreibungsbedingten Steuervorteilell der immateriellen Der Entity Value der SW vor Einbeziehung derVermögenswerten sowie — durch deren Einbeziehung — die men Abschreibungen der erworbenen immatcricllcn Vermö-\tbeizulegenden Zeitwerte der immateriellen Vermögenswerte genswerte23 wird im unteren Teil von Tab. 2 für jedes Jahr des\tbestimmt.\n\nDie Notwendigkeit einer mehrperiodischen Analyse wird dargelegt bel Moser, in: Mohnkopf/ Moser (Hrsg.), Wissensmanagementfür Schutzrechte und deren Bewertung, 2014, S. 202 ff.\n\nSiehe hierzu Henselmann/Kniest, Unternehmensbewertung: Praxisfã\'le mit Lösungen, 5. Auff\tZu deren Ermittlung Moser, Beweltung immaterieller Vermögenswerte, 2011, S. 38 ff., 47 ff\n\n2015,5.86 ff.; Enzinger/Koner, BwP 4/2011 S. 2-10. 22 Zur Verkürzung der Darstellungen wurden den Ermittlungen der abschreibungsbedingten Steu20 Der Bemessung der Abschreibungen der Sachanlagen liegen die Werte nach Neubewertung ervorteile der Marke und des Mitarbeiterstamms steuerliche Nutzungsdauern von 10 Jahren zugrunde,\tzugrunde gelegt.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>\n\n\t\t56\t02\t57\n\n\n\n912」<em>PIX当=rlJaのつ、「「\n\n\n\n\t\t\t(\tX21←0当一2&gt;← ⅵ巴dー【)、:~\n\n\n\n9、寸LC\'9\n\n9、品\n\n96t\n\n、7ト\n\n、、99\n\nま 、0一\n\n設 円、\n\n\n\n02の〔\n\n5、80・9\n\n\n\nま的09\n\n99\n\nま020〔\n\nLい ・\n\n\n\n09の\n\no、〔08\n\no、88\n\n丈99\n\n96R-日 9式一ⅵ、\n\nへ、9一9・、\n\n二9認\n\n6-E89・い\n\n鱇06\n\nL\'OZE\n\n\n\n299\n\nま0へ、DI\n\n国、989、\n\n97ニ・L\n\n99E・5\n\n冩6\n\n匚Z\n\n\n\n寸 9\n\n9きへ、ミ\n\n6、9寸9・、\n\n、、まE\'L\n\nE\'þlL\'S\n\n町#6\n\nZギ9\n\n960へ、0一叫一69・、\n\nE、E69・、\n\nL、E、9・一\n\n内、9 ・寸\n\n県96\n\n9、SEE\n\no、\n\n9-£9\n\nまOZざ一\n\n9、9国、・\n\n\n\n、、096、L\n\n寸、8ト9寸\n\n6、ト5\n\n一、EÞE\n\n\n\nの29\n\nま6一、0一 2寸08、\n\nU808・、\n\n6、896べ\n\nO\'E ・寸\n\n\n\n寸、66\n\n9寸E\n\n9、01\n\nL 9\n\n9ま一、OL\n\n鱇一畠、\n\n寸、98・、\n\n〔 99べ\n\n県896・£\n\n8-00一 9-6寸E\n\n寸-89 、-6の\n\nま6L\'O一 9、68・、\n\nへⅵ06・、\n\n9298\n\n\n\nL20〔\n\n叮羸E\n\no、、9\n\n625\n\n\n\n丈SL6、\n\n5、寸へ6・、\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tとコb〕\n\nMBN\n\n\n\n」0」 0Mpalqwassv\n\n2E2名」1\n\n一2ち1\n\n5も をx」型q一g21\n\n一2仁d凸\n\n岔お96\n\n当一&gt; ←を\n\nE一コ9\n\n20\n\nE、9一9\n\nE、919\n\no、0\n\n〔、919\n\n0-0\n\n〔一8一9\n\n9、 9\n\no、0\n\n9、99\n\n0-0\n\n【、909\n\no、寸鬯\n\n99E 6-6、E\n\nt7\'E0t Z、£6の\n\n寸、LEB\n\n\n\n三田N\n\n6、95べ、\n\n国、629叩\n\n寸、99\n\n丈0E6・99\n\no、 \'99ー\n\n\n\n6、910\'\n\n2、620・叩\n\n丈、の0・\n\nマ、0E5・\n\no の ・99ー\n\n寸、に£\n\nの-お・に\n\n円〔寸8ⅵー\n\n寸、SO\'\n\nE-9ま・ぐ9\n\n7-63寸9\n\n一、トE\n\n\n\n\n\n\n\n\n\n\n\n\n\n一 9・\n\n当巴9・叩\n\n、2の07ー\n\n、CO\'昭\n\n9-0の0N9\n\n9ⅶトE\n\n二寸 ・\n\n9一斗円L7\n\noヾYO\n\nの786d9\n\n、63・091\n\n、É\n\n0\'66・\n\n8一9、0・寸7\n\n、9E9ワ\n\n9、 8・8の\n\n8、0、 叩\n\n\n\n、、ミE\n\n9、ミ寸・SL\n\n9あ・97\n\n9、07ー\n\n6、品の・99\n\n8、曽 ・9っ\n\n、ELE\n\nのお9、・い、\n\nq6896Lー\n\nL00べー\n\n、8ニ・\n\no、、08Tっ\n\nÉ、LLE\n\n9試い・9、\n\n6一6寸冂 ー\n\n8一「5・7\n\noお い\n\n36・6\n\nおE\n\n立L ・に\n\n29お・6\n\nL-0寸6・7\n\n一.、コ二9寸\n\no、寸ぐⅵ\n\nL、〔9E\n\n0209、、\n\n9、SE一t7E-\n\n、99円7\n\n、、6LV薈\n\n、9ニ・LY-\n\n寸、ÉのE\n\n9」寸69、L\n\n丈寸 ・6叩\n\n鱇6E円7\n\n〔-薈E・92\n\nE、、65・9叩\n\n6、E寸E\n\nanlPAむを」\n\n\t\t\tpaZ!u6CDë8\t型qらupを一\n\nの の 型C116u\n\n= POO)\n\nⅵも55V型9后ueを一」aモ0\n\n\t\t\t巴\t0\n\n\t\t\t\t\t9\t9 ー\t9\t9し 朝」辷0\n\n一き = P009\n\n\n\n6 ・E\n\n6、ZO\n\n、よ8\n\n2800・〔寸、6寸0一\n\n9、6E94、\n\n丈に\n\n6、9L0\'t、\n\n\n\nへ、62・E\n\n6、目試の\n\n〔、ト68\n\n9800・【\n\nま6寸 一\n\n9、6E9・に\n\n寸、、E\n\n6、910\'ミ\n\n9、 Ct\n\nL、 、9\n\n9、トへ6\n\n2800\'L\n\n寸、6さL\n\n9、8一5ベト\n\nL\'£LE\n\nS68Z、\n\n一、06E・9\n\n9、9 ・E\n\n9ⅵ96\n\no、曽9一内、薯9一\n\n9、 E・E、\n\n9-9、E\n\n一、889・E、\n\no、9き\n\n9-664E\n\n\n\n二〔86\n\no、8呂・〔 0、62、〔\n\n\n\nE、866E4\n\n\n\n8 、E\n\n当寸0、•o〔\n\n〔2ト円E\n\n鱠06\n\n丈さ9一\n\nq800・〔\n\nL、 9L\n\nE一寸85・寸、\n\n\n\nL\'#LE\n\no、696・ミ\n\n9、08E・EL\n\n9-9尊・E\n\nÉ\'tL6 寸\n\n\n\n2800・一\n\nれ 0、L\n\n寸、 0・灯\n\n\n\nZ\'ELE\n\n9、ミマ・灯\n\nへ、8699一\n\n6、06 £\n\n9、0099寸\n\n9、9O\'〔\n\noお56\n\n9、ÉOD</em>〔\n\n9、よ 灯\n\nE、LLE\n\n8、894灯\n\n998・8〔\n\n寸、 ・E\n\no寸\n\nE99L\n\nq885\n\n9、 5\n\n\n\n寸28一・9、\n\n\n\n、9E\n\n立989・Lt\n\n鰉寸、9・E\n\n6-5 一\n\n0-8、6 L296\n\nE、0に・9、\n\n\n\nL\'〔9E\n\n立〔コ・に\n\no、9、 寸\n\n寸、 9・E\n\n9め66一LÉ\n\n6、寸60〔\n\no、8マ6 、、8E6\n\n9、8ミ、ト\n\n寸、ESE\n\n0209Z、\n\n8、 9、\n\nまE国9・E\n\n三に 寸9\n\nト、80二【\n\n282\n\nE、一ま\n\n三一 ・に\n\n6\'EÞE\n\n9、ヾ69・に\n\np 三\n\nそ 朝で2」1\n\n\n\n巴お 」0Mpalqwassy\n\n当assyp叟工alq!6ueI 一2=d凸6に 0M\n\n一 01\n\n巴型一一0\n\nLIOにezをOLLIV・てu n一 な 田\n\n\t\t\t\t\t\n\nAufsatz\n\nAufsatz\n\nwww.der-betfieb.de\n\nwww.der-betfieb.de\n\nwww.der-bet「ieb.de\n\nwww.der-bet「ieb.de\n\nAufsatz\n\nAufsatz\tE、9\tSIO・\t8、9\t9、6ー\t一2← 」し亡-\n\n\n\n\n\n\n\n\n\n\n\n\n\n896\n\n\n\n\n\n\n\n896\n\n9、8ト8\n\n\n\n\n\n内、896\n\n5、SL9・一\n\nEへ0代\n\n\n\n、896\n\n寸、668t\n\n\n\n\n\n896\n\n6一SSO\'E\n\n\n\n\n\n-896\n\n9、 9・E\n\n\n\n\n\n丈寸69〔\n\n〔26L\'Þ\n\n\n\n\n\n丈寸6円L\n\n0\'羸〔・9\n\n\n\n\n\n丈寸69・【\n\n8-〔Lt・9\n\n\n\n\n\n丈寸5円L\n\nト、E89、\n\n9一0へ\n\n\n\n\n\n6、寸ト8・ト\n\n\n\n一2さト1-10にezモOIL-IVお←IJëUa8)ŒI\n\n一出01こau品X?ト\n\n山コ一2&gt;〕uas巴d\n\n\t\t\t\t\t\t\t\t\t\t\t\t\n\ntungsPraktiker \n\n「\n\nBewe\n\ntungsPraktiker \n\n「\n\nBewe62寸L・9\t62寸一・9\t62ミ-9\to、尊L・9\t県 9\t9、SLL・9\t9、0高・9\tL、L9Z\'9\tLizい0ⅵ\t6、L99\'E\t、2E0べ\t9、コ一\t三IN\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n06\n\n\n\n\n\ndo\n\n20\n\n\n\n\n\n\n\n鱇9、9\n\n\n\n\n\n\n\n\n\n\n\nE\'EE\n\n\n\n\n\n\n\n\n\n9、9\n\n9 寸、\n\n\n\n\n\n\n\n\n\nE」EE\n\n9、08\n\n\n\n\n\n\n\n県9へg\n\nの、9、寸・〔\n\n\n\n\n\n丈58L\n\n\n\nE、鬻\n\n、89\n\n\n\n\n\n\n\nE、9へ8\n\n9、卑0べ\n\n\n\n\n\n\n\n\n\nÉ、\n\n6一£8\n\n\n\n\n\n\n\n9\n\noヾ65べ\n\n\n\n\n\n9茎\n\n\n\nE\'£É\n\nE、0〔\n\n\n\no、0\n\n\n\n\n\n6、001・E\n\n\n\n、、801\n\n\n\n\n\n\n\n\n\n9\n\n\n\n\n\nE、9tÛ\n\n5299E\n\n\n\n\n\n9、\n\n\n\nE\'E£\n\nE 寸一\n\n90\n\n9-699\n\n\n\n鱇9\n\n0-一よ・E\n\n\n\n\n\n9-寸\n\n\n\nE\'EE\n\nへ-99〔\n\n\n\n寸ヾ 一\n\nへ、93\n\n\n\n9、8\n\n9、寺円寸\n\n\n\n、 OL\n\n999\n\n\n\nE、EE\n\nL\'E\n\n\n\n8 ・一\n\n、63\n\n\n\nE、9Z8\n\n6、寸89・寸\n\n\n\n\n\n9、ËE9\n\n\n\nE\'EE\n\n\n\n\n\n\n\n\n\n\n\n87ま・マ\n\n\n\n\n\n9-9、9\n\n\n\n\n\n5-L\n\na」2 にOS\n\n山三2&gt;←ua都」d-\n\n5も20u0D巴写 の\n\n1!JauagXë1\n\n山三2&gt;←u25巴d ′\n\nモ 名2」1\n\n三2u98XPト\n\n山三2&gt;←u 巴d\n\n」0 」0三P型 SY\n\nと u99xeI\n\n山n一2&gt;←u 巴d\n\n\n\n\n\nN\n\n「\n\n. \n\n02 \n\nN\n\n「\n\n. \n\n02 \n\n!\n\n\n\n・u28LIO一帑2一\n\n960、0\n\nま0、0\n\n\n\nま0、0\n\no、E\n\n20\n\n\n\n\n\nま0、E\n\n0\n\n9K2\n\n\n\n9き\n\n962E\n\n9 -9\n\n\n\nま0、E\n\n960一E\n\n96\n\n\n\n\n\nま0→E\n\nま0一E\n\nま9一6\n\n\n\n960」\n\n98、\n\n9 、L【\n\n\n\n\n\n98\n\n98\n\n960」\n\n%ÜEL\n\n\n\n960一\n\nま0\n\n8ぜ〔\n\n\n\nま0\n\n9き\n\n9 、9\n\n\n\n\n\n9\n\n9\n\nよ0\n\nよ9、L\n\n\n\n960\n\n\n\nま、8一\n\n\n\n\n\n日は9年 コ-コ」 コ【も2」ち\n\n\t\t\tへ-一=(Qdn\t三2&gt;← 」d\n\nと」0を0ョ\n\no一Ⅱ9 3」コ一nも5ョもa」ち\n\n\t\t\t\t\t\t\t\t\t\t\t9を0\t960a\t94ト2 ま -の\tま92\t9ミ-6\t9、LL\tよ L\t960」\t969、9一\t968、L\tよ〔-6L\tdndのあ心n一2&gt;←uのお」d\n\nま0、0\n\n960、0\n\n9き、0\n\no、E\n\n9、2\n\n96 9\n\n960、E\n\n9寺、\n\n98\n\n丈6\n\n\n\nま L【\n\n960、E\n\nよ62L\n\n962E\n\n9等-ュ\n\n9き、E\n\n968、\n\n9き、E\n\n9602L\n\nま0、E\n\n96L、8一\n\n\n\n〔=tedコd出5む三E&gt;←u 巴d\n\n\to一\t一コIt-I,Lasn、一も2」ち巳\n\nP-wap巴ト\n\n<em>0\n\n\n\n一98、0\n\n。きビ\n\n\n\n9き、0\n\n</em>0、0\n\n960-0 \n\n\n\n960、0\n\nま0、0\n\n98、0\n\no、0\n\n98-0\n\n9 \'0\n\n\n\nよ20\n\nま 、\n\n8、9\n\n\n\n\n\n9き、\n\nま 、\n\n\n\nま、一巴\n\nまの、\n\n\n\n\n\n\n\nednd 22n而A←5お」d\n\nマ日 ト ョn sn一もa」ち巳\n\noけ\n\n6ヾ09・69\n\n、、58\n\nへ、6へO\'E\n\nt\'、6寸0・L\n\noお00・〔\n\n丈、、E\n\n9、5E9・に\n\n\n\n6、、0の・69\n\nへ、69\n\nへ、5へ0・É\n\n寸-6寸0・一\n\n0 8・一\n\n寸、、E\n\n9-6E9・\n\n一、い96L\n\nL、î寸9Z9\n\n、、68\n\n6寸0・L\n\n280q【\n\n9\n\nSTO寸9・に\n\nE96・\n\nL\'、寸9・\n\n興よ8\n\n2670・E\n\n寸0・L\n\n800・L\n\n6-寸、\n\n寸 00・9\n\n\n\nへ768\n\n設、き崗\n\no、6E0・一\n\no、8U0・一\n\n0209・一、\n\n、70【め\n\n06、・\n\n、、68\n\nE-90・E\n\n\n\n0-80D・【\n\n\n\n6、69E\n\n9、6 ・0L\n\n「2、6・8寸\n\n、68\n\n鱇0、0・E\n\n8一0・L\n\no、809L\n\n99E\n\n9、9卑・〔、\n\n、\'C寸9・\n\n9、00円9寸\n\n国ヾ68\n\n国、ELO\'E\n\n5、鬯0\n\no、866\n\nマ29E\n\n寸Lt\'に\n\nま8・寸一\n\no寸8・\n\n〔-よ9\n\n620q的\n\n8 86\n\n0-8g6\n\n寸、のE\n\n内-〔ま・OL\n\n8-0寸£、L\n\nニ0・L寸\n\nへヾ68\n\n9まべ\n\n冖296\n\no 、6\n\n寸、89の・0、\n\no、068・6L\n\n8お66、E\n\n、68\n\n8、696べ\n\nL\'9E6\n\no、 6\n\n斗E\n\n2寸、TO、\n\n町5せ9べ国\n\no、EL勢寸\n\n〔、68\n\n8、9寸6Z\n\n璽一〔6\n\n8\n\n928\n\n8-£8寸・59\n\nまマ、0〔℃山」三b)く\n\n9 ざLPVËN\n\n9 、6巴」0」戔0M配Iq\n\n\t\t\tま、、5\t」ト\n\n96丈9一嬰dじ61.1名0M\n\n\t\t\tま国-t\tpax!」型q一5u21\n\na三e&gt;む一← 02巴u巴a. ロ一2もト\n\n\n\n巴\n\n2\n\n戔\n\nに\n\nOS\n\n巴\n\n2\n\n戔\n\nに\n\nOS5も2」1110)\n\n\n\n\n\n\n\n\n\n6、、寸一・9\n\n9ZOZ\n\n\n\n\n\n\n\n6、 匸9\n\n\n\n\n\n\n\n\n\n6、、寸〔・9\n\n\n\n\n\n\n\n\n\nL、9\n\n\n\n\n\n\n\n00\n\n9、SLⅵ\n\n\n\n\n\n\n\no、0\n\n9、St二9\n\n\n\n\n\n\n\no、0\n\n9-0Lt・9\n\n\n\n\n\n\n\n\n\n二【9 9\n\n\n\n\n\n\n\n\n\n一2g0ⅵ\n\n\n\n\n\n\n\n9、 べ\n\n6-39・E\n\n\n\n\n\n\n\n6、86円寸\n\n\n\n\n\n1 LlöS1-10\n\n\n\n寸29E・9\n\n9、9ニ\n\n\n\n\n\n\n\n\n\n\n\n\n\nモOLLI弌 21巴0もqa 2》Il-I 巴d\n\n巴2M1ちの\n\nま0-0〔pa」三b\n\n*三OLM」N\n\nSue」1110)山り5」のS\n\n\n\n5\n\n5sua60u-1 》おp あM鬱p 、一 pun60 一型CIV ・qeト 5一\n\n\n\n</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Aufsatz\n\nIm mittleren Teil von Tab. 3 auf S. 58 wird für jedes Jahr des Betrachtungszeitraums der Entity Value unter Berücksichtigung der stcucrwirksamen Abschreibungen der immateriellen Vermögenswerte und auf dessen Grundlage der Goodwill abgeleitet. Letzterer wird sodann durch dessen Komponenten Wert der zukünftig zu entwickelnden Software, Wert der zukünftig abzuschließenden Wartungsverträge sowie Wert des nach IFRS 3.B37 nicht bilanzierungsfähigen Mitarbeiterstamms — erklärt.l)\n\nDer bei dieser Überleitung verbleibende Differenzbetrag, der gleich dem nicht durch die Werte der Vermögenswerte erklärten Betrag des Entity Value ist, stellt — wic unter Abschn. 111.2, ausgeführt — eine Bewertungsdifferenz dar. Bei Anwendung der Rcsidual-Value-Methode anstelle der IMPEEM zur Bewertung der zukünftig zu entwickelnden Software bzw. zur Bewertung der zukünftig abzuschließenden Wartungsverträge wird diese Differenz dem nach diesem Ansatz bewerteten Vermögenswert zugewiesen.24\n\nZur Beurteilung der Plausibilität der Bewertungscrgebnisse werden im unteren Teil von Tab. 3 auf S. 58 sowie in Tab 4 die den Vermögenswerten zugeordneten vermögenswertspezifischen Zinssätze mit den gewichteten Kapitalkosten der SW im Rahmen einer mehrperiodischen Betrachtung (WARAAnalyse) abgestimmt" Diese Analyse legt dar, dass die vorläufig festgelegten vermögenswertspezifischen Zinssätze keiner Anpassung bedürfen.\n\nTab. 4: Ableitung der vermögenswertspezifischen Zinssätze</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>\n\n\n\nWACC\n\nRisk Adj.\n\nWACC Adj.\n\nSoftware\n\n\n\n\n\n\n\nAcquired\n\n8,0%\n\n\n\n10,0%\n\nNEW\n\n9,2%\n\n\n\n10,0%\n\nService Contracts\n\nAcquired\n\n\n\n\n\n\n\nNEW\n\n9,9%\n\n\n\n\n\nTrademark\n\n\n\n\n\n9,7%\n\nAssembled Workforce\n\n\n\n\n\n9,2%\n\nWorking Capital\n\n\n\n-1,5%\n\n6,4%\n\nTangible Fixed Assets\n\n8,2%\n\n\n\n7,2%\n\nEntity Value\n\n\n\n\n\n10,2%\n\nDiese WARA-Betrachtung zeigt weiter, dass die Summe der Verzinsungen des in die Vermögenswerte der SW investierten Kapitals von der Verzinsung des in das Unternehmen investierten Kapitals abweicht. Der dabei auftretende Differenzbetrag ist gleich der Veränderung der bei der Erklärung dcs Entity Value durch die Vermögenswerte aufgetrete nen Bewertungsdifferenz.26 Bei Anwendung der Residual Value•Methode anstelle der MPEEM zur Bewertung der zukünftig zu entwickelnden Software bzw. der zukünftig abzuschließenden Wartungsverträge und modellendogener Bestimmung des diesem Vermögenswert zugeordneten vermögenswertspezifischen Zinssatzes wird dieser Diffèrenz-\n\nzur Erklärung des Goodwill ausführlich Mosert CFB 2013 S. 285 ff., 355 ff.\n\nSiehe hierzu bereits unter Abschn. III .Ž. 25 vgl. hierzu Moser, 2013 S. 366 ff.\n\nvgl. Moser, 2013 S, 291 f., 294ff„ 371\n\n60\n\nwww.der-betrieb.de\n\nbetrag der Verzinsung des nach diesem Ansatz bewerteten Vermögenswerts zugewiesen.\n\n4. Analyse und Überleitung des EBITA\n\nDie Abstimmung der Einkommensbeiträge der Vermögenswerte der SW mit dem Einkommen der Gesellschaft in Tab. 2 auf S. 57 zeigt, dass sich das EBITA aus den Einkommensbeiträgen der immateriellen Vermögenswerte vor Steuern sowie der Verzinsung des in die Sachanlagen und des in das Net Working Capital investierten Kapitals vor Steuern zusammensetzt. Da die Einkommensbciträgc der immateriellen Vermögenswerte neben der Verzinsung des in diese Vermögenswerte investierten Kapitals auch die Veränderung des investierten Kapitals beinhalten, ist das EBITA sowohl durch die Verzinsung des in die immateriellen und materiellen Vermögenswerte investierten Kapitals als auch durch die Veränderung des in die immateriellen Vermögenswerte investierten Kapitals bestimmt.\n\nIn Tab. 5 auf S. 61 wird das EBITA nach Stcucrn in die Verzinsung des in das Unternehmen investierten Kapitals übergeleitet.\n\n— Hierzu wird das EBITA nach Steuern zunächst um die Steuermmderung erhöht, d ie aus den Abschreibungen der immateriellen Vermögenswerte resultiert. Das so bestimmte adjustierte EBITA nach Steuern wird anschließend um die Veränderungen des in die immateri ellen Vermögenswerte investierten Kapitals bereinigt und dadurch in die Verzinsung des in alle Vermögenswerte investierten Kapitals übergeleitet; dies bestätigt ein Vergleich mit Tab. 4.\n\nDamit ist der unter III. 3. erläuterte Zusammenhang dargelegt. Die Verzinsung des in das Unternehmen investierten Kapitals ergibt sich in Tab. 5 auf S. 61 schließlich durch Hinzurechnung der Veränderung des bei der Erklärung des Entity Value und des Goodwill durch die Vermögenswerte des Unternehmens aufgetretenen Differenzbetrags (der oben erläuterten Bewertungsdifferenz). Diese Überleitung folgt dem unter 111.2. auß gezeigten Zusammenhang.\n\nTab. 5 auf S. 61 zeigt weiter, dass der Zusammenhang zwischen dem adjustierten EBITA nach Steuern und der Verzinsung des in das Unternehmen investierten Kapitals auch durch die Veränderung des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in die materiellen Vermögengwerte investierten Kapitals erklärt werden kann. Dieser Zusam menhang wurde ebenso unter 111.2. abgeleitet.\n\nEin Vergleich der beiden Überleitungen zwischen dem adjustierten EBITA nach Steuern und der Verzinsung des in das Unternehmen investierten Kapitals bestätigt:\n\n— Dic Veränderung des in die immateriellen Vermögenswerte investierten Kapitals zzgl. der Veränderung der bei der Erklärung des EntityValue aufgetretenen Bewertu ngsdifferenz ist identisch mit\n\n— der Veränderung des in das Unternehmen investierten Kapitals abzgl. der Veränderung des in dic materiellen Vermögenswert,e investierten Kapitals. \'1 Dieser Zusammenhang bringt zum Ausdrtfck, dass dic Veränderung des in das Untcrnchmcn investierten Kapitals sich zusammensetzt:\n\naus der Veränderung des in die immateriellen Vermögenswerte investierten Kapitals,\n\n02 \n\n\twww.der-betrieb.de\tAufsatz\n\nTab. 5: Überleitung des EBITA nach Steuern in die Verzinsung des in die SW investierten Kapitals\n\nYear\n\nRef. \n\n2017 \n\n2018 \n\n2019 \n\n2020 \n\n2021 \n\n2022\n\n2023\n\n2024\n\n2025\n\n2026\n\n2027\n\nTax-effecting EBITA\n\nTab. 1 \n\n6.570,7 \n\n6.734,9 \n\n6.886,5 \n\n7.024,2 \n\n7.129/6 \n\n7.200,8\n\n7212,9\n\n7.309,2\n\n7.345,8\n\n7.345/8\n\n7345,8\n\nTax Benefit of Amortization\n\nTab.3 \n\n1.594,4 \n\n1.594,4 \n\n1.594,4 \n\n1.594,4 \n\n968,2 \n\n968,2\n\n968,2\n\n968,2\n\n968,2\n\n96812\n\n\n\nTax-effecting EBITA adjusted forTax Benefit of Amortization\n\n\n\n8.165,1 \n\n8.329,3 \n\n8.480,9 \n\n8.618,6 \n\n8.097,8 \n\n8.169,1\n\n8.241,1\n\n8.277,4 \n\n8.314,0\n\n8.314,0\n\n7.345,8\n\nless Incremental Invested Capital in Intangible Assetsa\'\n\nTab.3 \n\n-249,7 \n\n-431,8 \n\n-619,6 \n\n-814,6 \n\n-371,2 \n\n-477,3\n\n-596,3\n\n-692,0\n\n-798,2\n\n-878,9\n\n\n\nReturn on Intangible and Tangible Assets\n\nTab.3 \n\n7.915,4 \n\n7.897,6 \n\n7.861,3 \n\n7.804,0 \n\n7.726ó \n\n7.691,8\n\n7ó44,8\n\n7.585,4 \n\n7.515r8\n\n7.435,1\n\n7.345,8\n\nIncremental Valuation Difference\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReturn on EnitityValue incl. Amortization\n\nTab. 3 \n\n7.924,9 \n\n7.905,) \n\n7.867,4 \n\n7.808,1 \n\n7.728,5 \n\n7.693,3 \n\n7.645,9 \n\n7.586,2 \n\n7.516J2 \n\n7.435A\n\n7.345,8\n\nIncrernental Entity Value\n\nTab. 3 \n\n192,8 \n\n3/0,6 \n\n581,8 \n\n780,8 \n\n344,3 \n\n465,5 \n\n584,9 \n\n686,0 \n\n792,5 \n\n878,6\n\n\n\n[ess Incremental Workind Capital and Tangible Fixed Assets \n\nTab. 3\n\n47,3\n\n53,5\n\n31,6\n\n29,1\n\n25,1\n\n10,2\n\n10,3\n\n5,2\n\n\n\n\n\n\n\nTax-effecting EBITA adjusted forTax Benefit of Amortization\n\n\n\n8.165,1 \n\n8,32913 \n\n8.480,9 \n\n8.618,6 \n\n8.097,8 \n\n8.169,1 \n\n8.241,1 \n\n8.277,4 \n\n8.314,0 \n\n8.314,0\n\n7.345/\n\nInvested Capital Total Intangible Assets (Software, Service Contrarts, Trademark, Assembled Workforce) t less Invested Capital Total Intangible Assets t+l\n\nder Veränderung der bei der Erklärung des Entity Value\n\nmeÁsführung sowie der Beurteilung der Plausibilität von\n\naufgetretenen Bewertungsdifferenz sowie\n\nWachstumsannahmen bei Unternehmensbewertungen in\n\nder Veränderung des in die materiellen Vermögenswerte investierten Kapitals.\n\nV. Zusammenfassung\n\nIm vorliegenden Beitrag wurde aufgezeigt, dass sich das EBITA nach Abzug von Steuern aus der Summe der Verzinsungen des in die VermÖgenswerte des Unternehmens investicrtcn Kapitals zzgl. der Summe der Veränderungen des in die immateriellen Vermögenswerte investierten Kapitals abzgl. der durch die Abschreibungen der immateriellen Vermögenswertc bedingten Steuerminderung zusammensetzt. Damit kann das EBITA nach Steuern — bei Bereinigung der aus der Abschreibung der immateriellen Vermögenswcrte resultierenden Steuerwirkungcn — auf die Einkommensbeiträge der immateriellen Vermögenswerte zzgl. der Verzin-\n\nBetracht,\n\nsungcn des in die materiellen Vermögenswerte investierten\n\nWP/StB Prof. Dr. Ulrich Moser, CVA, lehrt\n\nKapitals zurückgeführt werden. Weiter wurde dargelegt,\n\nRechnungswesen und Steuern an der Fachhochschule\n\ndass das EBITA nach Steuern und nach Bereinigung der aus\n\nErfurt Den Schwerpunkt seiner Forschungstätigkeit\n\nder Abschreibung der immateriellen Vermögenswerte resul-\n\nbilden die Bewertung von immateriellen\n\ntiercnden Steuerwirkungen auch durch die Verzinsung des\n\nVermögenswerten, Unternehmenstransaktionen sowie Unternehrnensbewertung- Er ist Mitglied des\n\nin das Unternehmen investierten Kapitals zzgl. der Verände-\n\nWissenschaftlichen Beirats der Dornbach Valuation\n\nrung des in die immateriellen Vermögenswerte investierten\n\nKapitals sowie der Veränderung der bei Anwendung der\n\nGmbH/ Saarbrücken.\n\nMPEEM auftretenden Bewertungsdifferenz zusammen\n\nDr. Thomas Tesche, CMA ist Prokurist der\n\nsetzt. Die Zusammenhänge wurden formal abgeleitet und\n\nDornbach Valuation GmbH, Saarbrücken. Ein\n\nanhand eines aus der Praxis der Kaufpreisallokation stam-\n\nSchwerpunkt seinerTätigkeit liegt in der Bewertung von\n\nmenden Fallbeispiels verdeutlicht.\n\nDie dargelegten Erklärungen des EBITA sind insb. für die Bewertung immatcricllcr Vermögenswerte — bspw. bei Kaufpreisallokationen = von erheblicher Bedeutung. Dies ist darin begründet, dass diese Analysen Inkonsistenzen\n\nUnternehmen und immateriellen Vermögenswerten.\n\nder abgeleiteten Bewertungsergebnisse sowie Modellie-\n\nWP/StB Prof. Christoph Hell, CVA ist Partner\n\nrungsfehler aufdecken können, die bei den in der Praxis\n\nin der Dornbach Gruppe und Geschäftsführer\n\nzumeist durchgeführten Plausibilitätsbeurteilungen durch\n\nder Dornbach Valuation GmbH, Saarbrücken, Ein\n\nAbstimmung der vermögenswertspezifischen Zinssätze\n\nSchwerpunkt seiner Tätigkeit liegt in der Bewertung von\n\nmittels WARA-AnaIyse nicht zu crkennen sind.\n\nDie erläuterten Zusammenhänge kommen darüber hinaus u.a. als Grundlage der Analyse von Profil Split-Faktoren, der Bestimmung von Verrechnungspreisen, der Untersuchung von Steuerungsgrößen der wertorientierten Unterneh-\n\nUnternehmen und immateriel len Verrntgenswerten.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">horn</span> <span class="o">=</span> <span class="n">docx2txt</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s1">'Horn2017.docx'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">horn</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[12]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'Bewertung\twww.cf-fachportal.de\tBewertung\n\n\t\tBewertung\twww.cf-fachportal.de\tBewertung\n\n\t\tBewertung\twww.cf-fachportal.de\tBewertung\n\nwww.cf-fachportal.de\n\n\n\nMagnus P. Horn, Karlsruhe Institute ofTechnology (KIT), Dr. Daniel Hoang, Head of Research Group, Institute for Finance, Banking, and Insurance Ét Karlsruhe Institute ofTechnology (KIT), Heiko Emmel, DZ BANKAS Group Treasury, Sebastian Gatzer, Karlsruhe Institute ofTechnology (KIT), Jun.-Prof. Dr. Alexander Lahmann, Chair ofM&amp;A in Small- and Midsized Entities at Handelshochschule\n\nLeipzig, Michael Schmidt, Deutsche Bank AG, Head of Grcup Valuations.\n\nKontakt: autor@tf-fachportal.de\n\n\n\nEvaluating investments in international (and particularly in emerging) markets often leads to confusion and controversy among academics and practitioners. Various theories propose competing models, whereas practitioners build their own alternatives. Our study provides an assessment of the most widely used methods of assessing country risk and shows that practitioners should carefully choose their country risk model. Current models produce a wide range of cost of equity estimates that can considerably affect management decisions.\n\nl. Introductionl\n\nFirms Iosc billions of Euros in emerging markets. Many of these losses stem from regulatoryviolations, bribery, fraud, or damage to reputation, all ofwhich are aspectsofso-called „countryrisk"2 This paper examines how to incorporate country risk into the cost of capital when determining the value of investments in international markets — particularly in emerging markets.\n\nAlthough the Capital Asset Pricing Model (the standard CAPM) has become the undisputed approach of choice in finance and management textbooks for developed markets, many executives do not believe that it adequately estimates thc cost of equity in the international context. In their seminal work, Graham and Harvey (2001)3 show that approximately one-third of firms add „some extra risk factors" to the CAPM when estimating their cost of equity capital. The most recent KPMG cost of capital study4 supports these results, revealing that approximately 40% of the surveyed firms add a country risk premium (CRP) to the standard CAPM formula. In practice, there is a wide range of models that firms apply to calculate discount rates for their international investment portfolios.\n\nIn recent years, numerous methodologies that consider country risk in the calculation of the cost of equity have emerged in the\n\nThe contents ofthis paperarefor discussion purposes only, represent the author\' views only,  and are not intended to represent the opinions of Deutsche Bank and DZ BANK. Although this\n\n\n\ndocument was crafted with the greatest care, the authors nonetheless accept no liability arising from errors, misinterpretations or misstatements that may be contained herein.\n\n A recent survey published in the Harvard Business Review revealed that 83% ofthe surveyed firms (150 companies from North America and Europe with more than USDI.O bn in revenues} nsuffered significant losses since 2010"from their investments in emerging markets; see Hochberg, Klick, and Reilly. Harvard Business Review, What companies have learned from losing billions in emerging markets, available at: http://hbfm.linW2290, retrieved 01.09.2011, 3 Graham/Harvey,JournaI of Financial Economics 2001 p. 187.\n\n4\tKPMG, Kapitalkostenstudie 2016, Wertmessung — quo vadis?, available at: http:tjhbfm. link/2291, retrieved01.09.2017.\n\ntion.7 Additionally, calculating the International CAPM-beta in segmented marketsg can be further complicated by the low correlation between local and international markets, which can significantly reduce the beta.9 However, even if global markets are integrated — and risk could thus be diversified globally — the average investor may be „home biased", which can result in overexposure to familiar markets and severely limit global diversification.u\n\n9.98%\n\n\n\n9.55%\n\n\n\n9.26%\n\n\n\n8.73%\n\n\n\n9.10%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTo u ndcrscore our argument, we compute the cost ofequity with the International CAPM for compan ies located in countries with financial management literature5. Because the application of various risk profiles-Il The results are depicted in Figure I. these methods is wide-ranging (e.g., in mergers and acquisitions, for impairment testing, or for performance measurement), theFigure 1: Cost of Equity as of June 30, 2016 (risk-free rate: 3.5%, inappropriate choice of a particular country risk model mayMRP: lead to unintended (and possibly severe) investment distortions. This paper aims to mitigate these possible distortions: we assess\n\nthe most widelyused methods, discuss their impact on cost of\n\nobjectives that are commonly important for various groups of\n\nSberbank\n\nItaú Unibanco\n\nGrupo\n\nBankof\n\nJ.P. Morgan\n\ninvestors, regulators, academics and valuation analysts: (I) the-\n\n\n\nHolding\n\nFinanciero\n\nIreland\n\n\n\nequity estimates and provide actionable recommendations for the reader, These recommendations are based on five valuation\n\noretical foundations, (2) the degree ofdiscretionary elements, (3)Galicia transparency, (4) data availability, and (5) ease ofuse.Russia Brazil Argentina Ireland U.S.\n\nWe also provide a case study that compares the cost of equity estimates of 20 well-known country risk models for referenceThe costs of equitybased on the International CAPM as ofJune companies in typical emerging markets (i.e„ thc BRIC countries30, 2016, range from 8.73% (for the Bank oflreland) to 9.98% (for — Brazil, Russia, India and China). Our analysis reveals hugeSberbank).12 The U.S. bankJ.P. Morgan, which might be considespreads between the models\' results of up to 25+6 percentagered less affected by country risk than its peers in this example,\n\n\n\n\n\nmates for the reference banks from Brazil and Russia, however,\n\nll. Why do Many Financial Executives Adjust the Standard\n\n\n\nare relatively on par with those ofJ.P. Morgan\'S.\n\nCAPM for International Cost of Equity Estimates?\n\n\n\nSome analysts may find these results counterintuitive and may\n\nWhen calculating the cost of cqtlit:y for foreign investments,\n\n\n\nfeel that the relatively small difference of 45-88 basis points in\n\nmany financial executives and investors believe that a company\'s\n\n\n\nthe cost of equity estimate of the reference banks from Brazil\n\ncost ofequity as calculated by (variants of) the standard CAPM is\n\n\n\nand Russia relative toJ .P. Morgan does not compensate for the\n\ntoo low, particularly for countries with a high perceived country\n\n\n\ncou ntry risk to which an investor is exposed.\n\nrisk, To demonstrate this, take the International CAPM, a vari-\n\n\n\nIn fact, although these (perceived) shortcomings ofthe Interna-\n\nant of the standard CAPM, as an example. In its simplest form,\n\n\n\ntional CAPM are well known, no approach to including country\n\nthe International CAPM uses the CAPIM framework with global\n\n\n\nrisk in business valuations has been successfully established as\n\nparameters, i.e., with a global risk-free rate, a global market risk\n\n\n\nthe standard pricing model across the investor spectrum. To\n\npremium and a beta measured against the global market By\n\n\n\nthe best of our knowledge, no method is wide y accepted by all\n\napplying this model, the investor assumes that any non-diversi-\n\n\n\nmarket participants, resulting in many different approaches\n\nfiable risk is appropriately captured in the stock\'s beta factor as\n\n\n\nsuggested by both academics and practitioners. We present\n\nmeasured against a global index (e.g., MSCIWorld).\n\nOne key reason that practitioners arc frequently reluctant to\n\n\n\nthese methods in the following section.\n\npoints per company and 15.4 percentage points on average.has an estimated cost of equity of 9.1%. The cost of equity esti-\n\napply the International CAPM when valuing firms from emer-Ill. Cost of Equity Models and Country Risk ging markets is that the International CAPM often results in aAcademics and practitioners frequently apply a variety of CAPM lower cost of equity estimate than that expected by the analyst.approaches that „correct" tor country risk. Figure 2 provides an The (perceived) inappropriately low cost of equity estimates result from many investors\' limited ability to sufficiently diversify away the idiosyncratic risk associated with investments in emerging markets. This potential imperfect diversification of\n\nsystematic risk may lead investors to demand higher returns\n\nthan those estimated by the International CAPM. The reasons for such limits to diversification include, intev, alia, market barriers and segmented markets. Market barriers, such as discriminatory taxation and/or national legal/institut.ional frameworks, can result in partial segmentation and limit global diversifica-\n\nßekaert/Haruey/LundbIad/5iegel/Journal cfftrporate Financž 2016 p. 1\n\nA discussion ofthe International CAPM and its formal definition follow in Section [11.1.\n\noverview of the main approaches that include country risk in thè cost OfeqtuLy estimation\n\nWe classify the various approaches into three main groups: conceptual models, empirical models and heuristic models. The models in the first two groups have been widely approved by academics and generally have a strong foundation in economic theory. However, these models have been perceived as either limited or unfeasible for application in a daily business setting, at least by some practitioners. Therefore, valuation analysts have also developed alternative models. These models are more or less „loosely" based on the CAPM framework and include adjustments for specific country-related risks, for example, by including a CRP or by adjusting the exposure (beta) to systematic risk. Most ofthese models involve deviations from and adjustments to the standard CAPM.\n\nStandard CAPM\n\n+ (MRP x Betat)\n\nwhere E[,] represents the expectation operator, r is the return of risky asset i, r is the risk-free rate14 MRP is the market risk premium, and Beta is the beta factor of asset i measured as with rm as the return of the market portfolio. In subsequent sections, we present the most representative methods of assessing country risk for each ofthe different groups of models. We emphasize that our summary is not a detailed step-by-step guide to apply these models; our aim is instead to outline the general workings of these models. Table Al in the\n\nAppendix contains a comprehensive and detailed description of the remaining approaches not discussed in the main text,\n\nA) International CAPM\n\nConceptual forrnola .\n\nwhere rf_globalis the global risk-free rate, MRP globalis the global market risk premium, and Betai,g/nhøi is the beta factor of the company with respect to the global market.\n\nIn its simplest form, the International CAPM uses the standard CAPM framework with global parameters. This approach is in line with the standard CAPM theory and is theoretically sound if markets -are globally integrated. In general, this approach is easy to implement, the data availability is good, and it can be applied to companies in most countries. However, in many cases, this approach does not result in the expected increased cost of equity for emerging markets (see example in Figure l), which is counterintuitive. The key reason is the observed low correlation between local emerging and global markets that occurs when these markets are fully or partially segmented. This low correlation leads to lowbetas and lower than expected costs ofequity.15\n\n\n\nCarrieri/Chaieb/Errunzat Review of Financial Studies 2013 p, 1694.\n\nBy segmented markets, we mean markets that are sufficiently isolated such that investors domiciled in one market cannot access the other market, and vice versa,\n\nErb/Campbell/Harvey/TadasNiskarta, Country Risk in Global Financial Management, the\t13We referto Table Al in the Appendix fora complete list ofthese 20 approaches including calcuResearch Foundation ofthe Institute of Chartered Financial Analysts, 1997, available at: http://\tlation formulas,\n\nhbfm.linkf2292, retrieved 01.09.2017.\t14\tFor further details and a discussion on the estimation ofthe risk-free rate („Basiszin&lt;\'), see Kru10\tDamodaran, Equity Risk Premiums (ERP): Determinants, Estimation and Implications— the 2013schwitz/Löffler, wpg 2008 p. 805 (806).\n\nEdition, 2013, available at: http://hbfm.Iink/2293, retrieved 01.09.2017. 15 The Beta for the MSCI Emerging Frontier Markets Africa ex South Africa Index (EM Index) against 11 The investor in this example is U.S.-based, and the valuation is performed in USD For illustrati- MSCI World is only 0,46, although the EM index is more volatile and considered riskier than the on, we select Russia, Brazil, Ireland, and Argentina—all countrieswith substantial country-riskMSG World. This result can be attributed primarily to the low correlation between those two marexposures. The companies are from the finance irdustry and mainly operate in their domestic kets The beta is calculated as ofJune 30, 2016, based on two years ofhi5torical weekly returns.\n\nmarkets. 16 There is no consistent name convention. The group of models presented herein is frequently 12 Detailed calculations for the Ilustrative example in Figure 1 are available on request. called Global CAPM, World CAPM, or Single-Factor International CAPM.\n\n\n\n\t\t292\tNr. 09-10 25.09Q017\t293\n\nThere are also other versions of the International CAPM. For instance, Pratt and Grabowski (2008)17 argue that given the size and the maturity of U.S. financial markets, analysts can use the U.S. risk-free rate as a proxy for the global risk-free rate, the U.S. MRP as a proxy for the global MRP, and the company beta with respect to the U.S. market as a proxy for the global beta, The result is the so-called International CAPIM (US proxy).\n\n\tInternational CAPM\t\n\nE[ri] \t-k (Beta \tX MRPq!obul) International CAPM ( US proa:y) :\n\nE[rJ — rf_US + (Beta,us x MRPÜ$)\n\nBefore continuing, we should note that there are also variants of the International CAPM that explicitly incorporate risks arising out of deviations from the purchasing power parity, which is done by adding an additional risk factor that measu- res the exchange-rate risk between local and base currency. To provide clear-cut results, we assume throughout this paper that the purchasing power parity holds in the long run for real investments, which implies that exchange risk is not priced. We refer the interested reader to Ruiz de Vargaz and Breuer (2012a; 2012b) or Sabal (2004)18 for excellent discussions on currency effects in the context of the International CAPM.\n\nB) Local CAPM\n\nThe local CAPM assumes the segmentation of capital markets and implies that only the local market is relevant for the asset\treturn:\n\n\t\t\t\t\tElril \t\t\t\t\t\t\t\n\n17 Pratt/Grabowski, Cost ofCapital, Applications and Examples, 2008.\n\n18 Breuer/Ruiz de Vargas, BewP 2015 p. 2; Breuer/Ruizde Vargasr BewP 2015 p. 50; SabaIiJournaI ofApplied Corporate Finance 2004p. 155.\n\nwhere r is the local risk-free rate, the local market "local risk premium, and Beta is the beta factor of the company with respect to the local market.\n\nAs for the international version of the CAPM, the local CAPM is theoretically sound, i.e., consistent with the CAPM theory, butonly if markets are segmented and the local market can be regarded as the relevantmarkct portfolio. In practice, estimating the local beta and market risk premium might be challenging in illiquid and inefficient markets because ofpoor data quality stemming from issues such as low liquidity and short time series. Additionally, in some cases, the emerging country\'s government bonds (used to determine the local risk-free rate) may notbe free ofdefault risk.\n\nC) Mixture Model of Bekaert and Harvey\n\nInstead of choosing between local and global betas and local and global market risk premiums, Bekaert and Harvey19 suggest including both because both parameters may be relevant to a company\'s rcturn, An additional factor, Lambda, models the proportional impact ofLhe global beta and the global market risk premium on the return ofthc risky asset.\n\n\t\t\t\t= \t+ (1- Lambda) x \tX\n\n+ Lambda x (Beta,agiebal x MRP91„bqò.\n\nThus, Lambda represents the level ofthe local country\'s integration into the world market. With a Lambda of one, the Bekacrt and Harvey mixture approach assumes perfectly integrated markets; conversely, when Lambda equals zero, markets are perfectly segmented.\n\nD) Credit Rating Model\n\nCredit rating models are based on the idea that historical returns and ratings can predict future returns. Erb et al. (1996)\n\n\n\n19 Bekaert/Harvey,Journal of Finance 1995 p. 403. Described in Harvey, 12 Ways to Calculate the International Cost of Capital, 2005, available at: http://hbfmflnk/2299, retrieved 01.09.2017,\n\nFigure 2: Country Risk - Cost of equity estimation: Main methodologies\n\n\n\nwww.cf-fach portal.de\n\npresent several versions of the credit rating model.20 They fit a regression model using equity market data and survey-based \n\nFor example, Damodaran (2013)25 suggests multiplying the CRP\n\nwith the \n\n\n\ncredit ratings from countries with liquid equity markets. Using these estimates, they forecast „out-of-sample" the expected returns for\n\nmarkets with ratings but without equity market.\n\nE) Additive CRP\n\nModels in this category include an additive CRP.\n\nConcept\'uað formula\n\n(MRPu, x Betai,vs) + CRP,\n\n-where r is the U.S. risk-free rate, MRP is the U.Swmarket risk LUS premium, Beta, Us is the beta factor ofthe companywith respect to the U.S. market, and CRP is the country risk premium added.\n\nThis type ofadjustment is widely accepted among practitioners. Normally, this approach uses both the beta and the market risk premium of a mature market with good data availability, e.g. from the U.S., as a baseline and then adds a CRP to incorporate those parts of the idiosyncratic risk that investors believe to be important and not diversifiable.\n\nThere are different approaches to estimating the CRP21. The most widely applied methodn is to define the CRP as the country\'s default spread?? The main intuition behind applying the default spread comes from assuming that a company\'s country risk is driven by many of the same factors as government default risk, such as political instability. Because this risk is already priced into the government bond market, it also serves as a convenient and always up-to-date proxy for a company\'s country risk. Aswath Damodaran regularly publishes CRPs based on country ratings, default spreads and CDS spreads\' In addition to the different approaches to estimating the CRP, various authors have proposed adjusting the CRP in various ways that are based on company or market specific factors.\n\nDamodaran #1.\n\nvs+BetajvsxMRPvs+CRP\n\n\n\nIota/\n\nlocal \n\n,\n\nB\n\nIota/\n\nlocal \n\n,\n\nBDamodœran +2 :\n\nDarnodaran, f 3 .\n\nat.rs\n\nHorn et al. :\n\n\t\t\t\try_UŠ + \tX \t+ CRP + Ceiling Risk Premium\n\nSalomon — Smith — Barney :\n\n\t\t\t+ \tx MRP9!obJ\n\nGamma 1 + Gamma + Gamma g\n\n+ CRP x\n\n30\n\nrelative equity market volatility over the bond market volatility (o local,E / B) to reflect the additional volatility in the equity market that is not incorporated in the default spread (Damodaran #2). In contrast, Zenner and Akaydin argue that the default spread (and hence the government default risk) is the maximum countryspecific risk faced by every company operating in that country. Consequently, they recommend downward adjusting the CRP based on a particular company\'s\n\nexposure to political risk, defined by three factors that surn-\n\nmarily represent an entity\'s total exposure to political risk (the Salomon-Smith-Barney approach)27,\n\nHorn et al. present a further enhancement to the CRP concept by adding a ceiling risk premium to the CRP (Horn et al. approach), The notion ofa ceiling risk premium captures the transfer risk, which occurs when companies transfer money through several countries on the way to the parent entity. Transfer risk can be particularly relevant to corporations with complex holding structures, in which cashflows arc transferred between subsidiaries different countries. Furthermore, this approach outlines a frameworkto estimate the CRP easily and transparently.\n\nFinally, Damodaran (2013) suggests adjusting the CAPIVI by considering the relative volatility between the local market and a chosen mature equity market, such as the U.S. equity market (Damodaran #3 approach). This volatility ratio is multiplied by the market risk premium to add an implicit CRP to the standard CAPM.\n\nF) Beta-Adjustments\n\nModels in this category adjust the asset beta to incorporate country risk.\n\nConceptual formula : = (MRP x\n\nwhere r is the U.S. risk-free rate, MRP is the market risk premium (either U.S. or global), and Beta . is the adjusted beta factor ofthe company that seeks to incorporate countr risk in\n\nthe adjusted beta calculation.\n\nFor example, Lessard (1996)29 suggests multiplying the company beta by the local country\'s beta, both with respect to the U.S. market (Lessard Approach). As discussed earlier, a low correlation between the local and the global stock markets may lead to\n\n\textraordinary low betas. Ibbotson \taddresses this problem\n\nand considers the volatility in different markets when estimating exposure tothemarketriskpremium:Befa adj / a VS(Ibbotson approach), thereby omitting the correlation between company stock and reference index. as input in the beta calculation.\n\nThe Downside CAPM is defined as the International CAPM with a downside beta (Estrada, 2002)31. The downside beta is calculated using semi-variance, which is a measure of the dispersion of all observations below the mean. Estrada argues that the semi-\n\nvariance of returns is a better measure for risk than variance\n\n\n\n25 See Damodaran, op. cit. (fn. 10).\n\n26Zenner/Akaydint A Practical Approach to the International Valuation and Capital Allocation Puzzle (Global Corporate Finance, SalomonSmithBarney, 2002).\n\n20 Erb/CarnpbellJViskanta,The Journal ofPortfcIio Management 1996 (Spring) p. 46. 27The three criteria are as follows: i) access to capital markets, ii) exposure cf investment to po21 See Damodaran, op. cit. (fn. 10). litical risk, and iiii the importance of the investment to the investor, represented by Gammav 22 García-Sánchez/Preve/Sarria-AIIende, Journal ofApplied Corporate Finance 2010 g. 100.Gammazr and Gamma3 in the formula.\n\n23 The default spread Is defned as the spread between two countries\'government bonds with similar 28 Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157. denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a 29Lessard, Journal of Applied Corporate Finance 1996 p. 52.\n\nU.S. government bond is chosen risk-free benchmark, and both bondsare denominated in USD.30 Morningstar/lbbotson, International Cost ofCapital Report 2011 24 Current figures found at http;/fpages.stern,nyu.eduAdamodar/. 31 Estrada, Emerging Markets Review 2002 p. 365.\n\n\n\n\t\t294\t25+09.2017\t295\n\n\n\nfor three reasons: (1) investors dislike only downside volatility; (2) semi-variance is more useful if the underlying distribution is asymmetric; and (3) semi-variance combines the information provided by both the variance and the skewness, which makes it useful for a one-factor return model. \n\nA final model in this group is the CSFB Approach by Hauptman and Natella (1997)32; which is a model quoted by a few academic studies, e.g., Harvey (2001)33, but rarely used bypractitioners. This approach multiplies the local beta with the ratio ofthe coefficient \n\n\n\nof variation in the local market and the coefficient of variation of the U.S. market (ratio defined as Al c 1), which in turn is multiplied with 0.60. Harvey (2001) concludes his description of the approach by stating that „this model is a perfect example of the confusion that exists in measuring the cost of capital "\n\nLessard Approach, x MRPus\n\nIbbotson Approach :\n\n\n\nG) Both: Additive CRP and Beta-Adjustments\n\nFinally, some authors have proposed further adjustments to beta in addition to adding a country risk premium. Two examples thereof are the Godfrey-Espinosa approach34 and the Goldman Sachs approach35. Models in this group are based on the following conceptual formula:\n\nConceptual formula ; us + (MRPus x + CRP\n\nwhere r is the U.S.risk-freerate,MRP is the U.S. marketrisk\n\n.Ï_U.s\n\npremium, Beta adjis the adjusted beta factor ofthe company that seeks to incorporate country risk in the adjusted beta calcula-\n\ntion, and CRP is the country risk premium.\n\nIn gcncral, these adjustments to the CAPM consider the relative equity volatility between the local and the U.S. market, or global market, The derivation of these models is relatively ad hoc, and their notation is relatively complex. For instance, the GodfreyEspinosa approach distinguishes two types ofrisks: „commercial risks" and „sovereign risks". „Sovereign risks" (as measured by the country credit spread) arc captured in the additive CRP. „Commercial risks" (from operating in the local market relative to the home market) are captured by an „adjusted beta", which is defined as the ratio of the volatility of the local stock market relative to the volatility of the U.S. (or world) market. Because both types ofrisks are likely interdependent, the authors propose\n\nto reduce the adjusted beta by 40% to avoid double counting risk. This adjustment, however, is admittedly ad hoc.\n\n\n\nHauptman/Natella, The cost of equity jn Latin America: The eternal doubt, Credit Suisse First Boston, Equity Research, May 20 1997.\n\nSee Harvey, The International Cost of Capital and Risk Calculator (ICRC), 2001, available at: http://hbfm.link/2295, retrieved or Harvey, op,cit, (fn, 19), 34 Godfrey/Espinosa, Journal ofApplied Corporate Finance 1996 p. 80.\n\n35 Mariscal/Hargis,A long-term perspective on short-term risk: Long-term discount ratesforemerging markets, Goldman Sachs Investment Research, 1999.\n\n296\n\n\n\nThe Goldman Sachs approach refines the Godfrey-Espinosa approach and proposes an alternative beta adjustment to address the abovementioned double-counting. The authors propose to multiply the company beta (measured against the local market) with the previously introduced ratio of the volatilities and with one minus the observed correlation between the stock and bond market. This adjustment shall isolate from changes in the economy that similarly affect movements in sovereign spreads and equity market volatility. The approach\n\nalso allows for adding further components (O) to account for further company-specific characteristics. We refer to the original articles for further dctails to these models.\n\n\n\n\n\ncrs\n\ncrsGodfrey — Espinosa Approach us + MRPusx\n\nGoldman Sachs Appro h :\n\n+MRPusx (1-psy)x\n\nIn summary, this presentation ofthc various methods to incorporate country risk demonstrates that there is a broad range Of different approaches available to the analyst. We again note that the focus of our summary was on the most representative models within each model category of Figure 2 and on the general workings ofthese models. The formal definitions of the comprehensive list of country risk approaches from Figurc 2, including references to the original works, are in Table Al in the Appendix.\n\nIV. Cost of Equity Estimation -A Comparison of\n\nMethodologies\n\nWe estimate the cost of equity for three large companies in each of the four sample countries: Brazil, Russia, India and China (which are well known as the so-called BRIC countries). We show that the models presented previously result in a remarkably wide range of cost of equity estimates in a realworld setting. For the twelve reference companies (see Table the maximum and minimum cost of equity estimates largely depend on the approach chosen, and the differences among these estimates can be dramatic,\n\nTable 1: Companies included in the case study\n\nZI\n\n\n\nCountry\n\n\n\nIndustry (ICB)\n\nBrazil\n\nPetróleo Brasileiro\n\nOil &amp; Gas\n\n\n\nVale\n\nBasic Materials\n\n\n\nItau Unibanco\n\nFinancials\n\nRussia\n\nGazprom\n\nOil &amp; Gas\n\n\n\nNorilsk Nickel\n\nBasic Materials\n\n\n\nSberbank\n\nFinancials\n\nIndia\n\nReliance Industries\n\nOil &amp; Gas\n\n\n\nCoal India\n\nBasic Materials\n\n\n\nHDFC Bank\n\nFinancials\n\nChina\n\nPetroChina\n\nOil &amp;Gas\n\n\n\nChina Shenhua Energy\n\nBasic Materials\n\n\n\nIndustrial &amp; Commercial Bank of China\n\nFinancials\n\n\n\n\n\n\n\nClassification fallows the FTSE Industry Classification Benchmark (ICB).\n\n\n\nWc calculate the different estimates from the perspective of an U.S. investor who has proj ected the companies\' cashflows in USD\n\nThe three companies from cach countrywere selected based on three criteria:\n\nwww.cf-fachportal.de\n\nFigure 3: Range of cost of equity estimates split by companies\n\n\n\n0%\n\n5%\n\n0%\n\n5%\n\nCost of Equity\n\n1. country ofincorporation,\n\n2, among the largest 20 public companies by market capita-\n\nResults\n\nFigure 3 summarizes the results from the cost of equity (COE)\n\nlization listed on the main local index, and\n\n3. operating in either of three domestic market-focused busi-\n\nestimates calculated for each company as of the end ofJune 2016. We apply all models depicted in Figure 2. The average \n\nnesses within each country with substantial exposure to local country risk: oil and gas, basic materials, and financials.\n\nWe select the MSCI World Index as a proxy for the world market. The S&amp;P 500 serves as a proxy for the U.S. market, Bovespa for the Brazilian, Micex for the Russian, S&amp;P CNX Nifty for the Indian, and Shanghai Shenzhen CSI 300 Index for the Chinese market. All local market risk premiums are based on the Fernandez 2016 surveys, the U.S. market risk premium is 6.25% as per Damodaranåð, and the global market risk premium is approximated by the U.S. MRP. To calculate betas, we use two years of weekly returns. All stock market data are from Bloomberg. Finally, for all cost of equity calculations, the cutoff date is June 30, 2016 \n\nCOE calculated using the various approaches ranges from 8.6% (International CAPM) up to 16.7% (Local CAPM). The mean of all the approaches is 11.5%, the median is 10.6%, and approximately two thirds of the calculated COES are situated within the range of 8% to 14%. The full set of model parameters and case study results are in Table Al-A33Y in the appendix.\n\na) Initial Key Findings\n\n  The first obvious finding is the wide range of cost of equity estimates for each company that are calculated using the different. approaches, The average range between the maximum and minimum estimate for each company is 15,4 p ercentage points.\n\n As a reference, we show where estimates from three benchmark models (Local CAPM, International CAPN•\'I, Damodaran #1) are situated. Consistent with theory, the use\n\n\t\t\t\n\nINDIA\n\nCHINA\n\nBRAZIL\n\nRUSSIA\n\nINDIA\n\nCHINA\n\nBRAZIL\n\nRUSSIA Range of all approaches\t International CAPM C) Damodaran #1\tLocal CAPM\t Mean estimate\n\n\n\nFernandez/0rtiz/Acín, Market Risk Premium Used in 71 Countries in 2016: A Survey with 6,932 of the local CAPM results in higher COE than the use of the Answers, SSRN Scholarly Paper 2016, http://papers.ssrn.com/abstract=2776636, retrieved International CAPM, on average and consistently across all\n\n\t\t\t01.09.2017.\twhich results from the International CAPM\'s\n\ncompanies, \n\nDamodaran regularly publishes market risk premium estimates on his homepage: http://pages. Accessed August 2016.\n\nOur Eth-Harvey-Viskanta (1996) estimates are based on published numbers from year-end\t39 Tahle A3 is online availaåle under XQI 249764 in the CORPORATE FINANCE Database {www.cf-\n\n\t\t\t2014/ but the results nonetheless offer an indication cfthe COE estimates level.\tfachportal.de) and under http://hbfm.link/2345,\n\n\t\t\t25.09.2017\t297\n\nFigure 4: Median-adjusted cost of equity estimates per model\n\n\n\nimplicit assumption that country risk is diversifiable in an international portfolio. The Damodaran #1 approach, a widely used method, delivers results that hover closely around the mean across models. This quasi-consensus estimates of the Darnodaran approach across all relevant models might be one reason for its wide application and popularity among practitioners. A more detailed analysis across models follows below.\n\n— The mean/median COE estimate for each country shows clear differences between the countries that may reflect their specific country risk. The median COE for Brazil is the highest, at 14.0%, followed by China at 11.0%, Russia at 10.1% and India at 8.9%.\n\nWe further investigate the results from the various models relativc to each other and calculate median-adjusted cost ofequity estimateŠ (Figure 4). The median-adjusted cost of equity is the difference between the actual estimate (from a specific model) and the median estimate across all models (for a specific firm), which accounts for firm heterogeneity and enables model comparisons across firms.o This analysis is particularly useful for assessing the dispersion of the models\' cost of equity estimates. Each dot in the figure relates to a specific company. Thc blue crosses represent the average estimate for each model.\n\nb) Additional Findings\n\n— Some models do not deliver COE estimates that lie consistently above or below the average/median COE estimate across companies and countries (e.g., the CSFB approach and the Goldman Sachs approach); in other words, they result in large variations in cost of equity estimates in the cross-section (Figure 4), This lack of consistency is a main drawback for analysts. For instance, the CSFB approach\n\nleads to the highest cost ofequity for Brazilian companies and the lowest for Chinese companies. The main reason for this variation is the inclusion of the mean returns and volatility of local stock market indices, Additionally, the Goldman Sachs approach shows a large variation around the median across all firms. This approach results in the highest estimates for the Chinese companies and estimates around the mean for all other companies, primarily because of large variations in the correlation between local equity and the sovereign bond market. In contrast, the Bekaert and Harvey Mixture Model is the model that leads to the most focused estimates, all between -1.5% and +1.3%, compared to the median across all models.\n\n— The Local CAPM is the model with the highest cost of equity compared to the median, followed by the Erb-Harvey-Viskanta model and the Damodaran #2 approach. For the ref@\'rence firms, these models imply relatively „defensive" investment behavior and low asset values on average. On the other end of the scale, the most „aggressive"models in the case study — resulting in the lowest cost of equity and thus highest asset value — are the various variants of the International CAPM. In particular, the International CAPM (Ibbotson) resultS in very low cost of equity, as this approach uses the local country beta instead of the local company beta and, here, the average local country beta is lower than the average company beta (both measured against a global index). Finally, model estimates based on the Salomon-Smith-Barney, the Damodaran or the Bekaert-and-Harvcy models do not have substantial outliers from the mean/median across all models.\n\n2. What are the Implications of a Changing COE? Sensitivity Analysis Using Gazprom\n\n\n\n\n\n40 For instance, for Rellance (India), the Local CAPM produces a cost of equity of 15.6% and the median estimate across all models is 8.9%; hence, the median-adjusted cost Of equity is 6.7%.\n\n\n\nTo understand the impact of aEJarge variance among cost of equity estimates for the individual firm, we discuss the valu-\n\nMedian COE\n\nFigure 5: Conceptual estimation of Gazprom\'s implied COE\n\nImplied valuation range\n\n5%\n\nCSFB\tErb-Harvey-\tCost of Approach\tViskanta\tEquity a) As of June 30, 2016\n\n\n\nation of the Russian company Gazprom. The cost of equity estimates for Gazprom range from a minimum of 6.3% up to 16.3%.\n\nAll cost of equity estimates for Gazprom — and the target share price that is dependent on the cost of equity applied — are depicted in Figure 5, We are running a discounted cashflow (DCF) valuation model with consensus cashflows over the next ten years, a 2.0% perpetual growth rate, a target debt ratio of 37.0% and static cost of debt of 6.0%. Applying the min or max cost of equity would lead to completely different valuations, with the min COE cstimate of 6.3% resulting in a share value approximately six times higher than the max COE value of 16.3%. The implied cost of equity (given the share price as of June 30, 2016) is approximately 12%. This market-implied cost of equity is slightly higher than the median of all estimates, which is 10. I Yo.\n\nV. Conclusions: Recommendations for Practitioners Based on the analysis ofthe previous sections, we provide some general conclusions. First, current models result in a wide range of cost of equity estimates that can considerably affect management decisions. Therefore, analysts must be clear about the assumptions and drawbacks of each model when valuing investment opportunities in emerging markets, and practitioners should choose their model of country risk with caution. Practitioners may also find our analysis of variation across models useful (see Figure 3). Although the results for individual models (e.g., the low dispersion across estimates of the Bekaertand Harvey Mixture Model) may not generalize to applications beyond the BRIC countries or the three analyzed industries, analysts may use the median-adjusted cost of equity approach to assess the within-variation for each model for its corresponding application, e.g., country or industry. Our case study of 20 well-known country risk models for reference companies in the BRIC countries (Brazil, Russia, India and China) reveals huge spreads between the models\' results of up to 25.6 percentage points for individual firms and 15.4 percentage points on average. Second, none of the presented methods has gained wide acceptance or use. In the short term, despite effbrts from both academics and practitioners, reaching con-\n\nsensus on how to appropriately incorporate country risk seems unlikely.\n\nNevertheless, we can draw lessons learned to provide concluding recommendations. These recommendations build upon five qualitative valuation objectives that are frequently important for investment analysts when choosing a valuation model: (1) theoretical foundations, (2) the degree of discretionary elements, (3) transparency, (4) data availability, and (5) ease of use (see Table 2).\n\nValuation objective\n\nTheoretical foundations\n\nRecommended models\n\nInternational CAPM\n\nLocal CAPM\n\nDownside CAPM\n\nErb-Harvey-Viskanta Model\n\nHigh number of discretionary elements\n\nSalomon-Smith-Barney Approach\n\nTransparency\n\n\n\nLocal CAPM\n\nInternational CAPM\n\nDownside CAPM\n\nLessard Approach\n\nData availability\n\nDamodaran Approaches\n\nInternational CAPM\n\nHorn et al. Approach\n\nEase of use\n\n\tDamodaran\troaches\n\nTable 2: Model recom mendations based on various valuation objectives\n\nFor analysts who regard the theoretical foundation of a method as the most important objective, for instance, because the application is in a strict regulatory framework, we recommend applying either of the CAPM versions from the group of conceptual models or the empirical modcl from Erb-Harveyu Viskanta. In other cases, analysts may want to adjust the cost of equity based on many discretionary elements, ifcompany or sector complexity requires it. In that case, we suggest applying the Salomon-Smith-Barney model. Moreover, if both data availability and ease oj\'use are important model characteristics for the valuation analyst — which is often the case in a normal business setting with both time and resource constraints — we suggest applying, e.g., the Damodaran approaches. Finally, the Lessard approach and the Local, International and Downside CAPM models provide the analyst with transparent calculations, which are relatively easy to fòllow and verify for third parties.\n\nIf several models meet the analyst\'s requirements, then the analyst can use this subset of models and average the results. Of cou rse, other typical robustness checks in investment valuat,ion, such as sensitivity analysis, peer comparison, historic transaction analysis and consensus estimate verification, are also critical in the context ofcountry risk models. Nevertheless, the valuation of investment opportunities in an international context remains challenging. Developing the standard pricing model for evaluating risk in global markets certainly remains a fruitful area for future research.\n\nVI. Appendix\n\nIn the following tables you will find the summarized models described in the article and the case study results in detail.\n\n\n\nwww.cf-fachportal.de\n\n\n\n\t\t298\t25.09.2017\t299\n\n\n\n\n\n\n\nBewertung\n\nBewertung\n\nwww.cf-fachportalde\n\nwww.cf-fachportalde\n\nBewertung\n\nBewertung•910t\'0Eaunr 0 0一一、一n 、 一一一nba一0一8巴-2\tn冖=SMOLLLISO,SôlUedLtmaqlSTe…Oa、\n\n冖\n\n冖w aIIV一n- pn一一山0\n\n冖\n\n一1\n\n冖\n\n一1\n\n\n\n6\n\n0\'6\n\n「8\n\n66\n\n9L\n\nYOL\n\n「9L\n\n9\'5\n\nLL\n\n8•EL\n\n0kff0L\n\n匚」\n\n%E\'OL\n\nOL\n\n67\n\n一6\n\n7一\n\nOL\n\nL\'9\n\n\n\n\n\n£6\n\n\n\n\n\n\n\n\n\n\n\nLte!PðLhl\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n0kEOL\n\n9•6\n\n969\'8\n\n96 6\n\n96r9\n\n968d【\n\n8\n\n0/oÜOL\n\n96 CL\n\n969 L\n\n96 ;\n\n\n\n969\' \n\n96 ;\n\n\n\n9 一8\n\n%Z\'LL\n\n9667L\n\n\n\n969d\n\n\t%CLL \t\n\n\n\nO/cTEL\n\nO/cVOL\n\n\t零 ;\t\n\n\n\n\n\n\n\nS-\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nenquaqs\n\neU!LD\n\n6\n\n\n\n966」6\n\n969•L\n\n「0L\n\n96tZL\n\n「IL\n\nEL\n\n93\n\n\n\n\n\n0•\n\n969•OL\n\n%L\'OL\n\nLL\n\n8\n\n6\n\nO\'L【\n\n\n\n爫6S\n\n寸•\n\n%LZt\n\nEL\n\nVocLl\n\n\n\n%S\'寸\n\n9a7\n\n9\'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n艹0\n\n6\n\n\n\n8Z\n\n9\n\n8;\n\no冖\n\n\n\n93\n\n\n\n%YOL\n\n6\n\n\n\n8\n\n\n\n\n\n\n\n%OZL\n\nT6\n\n\n\n寸•CL\n\n%TIC\n\nEL\n\nOL\n\n爫 •6\n\n\n\n%CLC\n\n9\n\nu28\n\n•cutuO)\n\n•pul\n\nVNIH)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n0•LL\n\n9\n\n9\n\n96\n\n%Þ\'LL\n\n寸·EL\n\n93\n\n冖\n\n67L\n\n\n\n%OZL\n\n%Z\'LL\n\n96LZL\n\nff6\n\n%0•oL\n\nOf60ZL\n\n96 LL\n\n96S\n\n96•Cl\n\n9 7\n\n0/08£L\n\n%û\'LL\n\n9 •\n\n\n\n\n\n9 ZL\n\nILI)\n\n-003d\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ne-!PLII一\n\n\n\n\n\n\n\n96L•8\n\n96 OL\n\n\n\n\n\n6•丶\n\n966\n\n9$•6\n\n6寸I\n\n0/6S\'Z\n\n…u\n\nYOS·6\n\n96 6\n\n9 •9\n\n2~\n\n96 6\n\n96 8\n\n0/06\n\n\n\n96 6 \n\n969\'9\n\n%S•6\n\n966•\n\n966•寸\n\n0/06\'LL\n\n960•EL\n\nue一-a8 )dOH\n\nVIONI\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n8\n\n\'卜\n\n96 8\n\n6\n\n969 L\n\n96r6\n\n966•LL\n\n68\n\n9•6\n\n0/0CVL\n\n\n\n2/14\n\n•6\n\n6•8\n\n9\'9\n\n\n\n6\n\n96 8\n\n\n\n966·8\n\n96 OL\n\n6•9\n\nYOS\'6\n\n9668\n\n96寸\n\n\n\n966\'LL\n\n96S7L\n\n\n\npu一\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n96\n\n96「\n\n9\n\n0/61"LL\n\n0/0C0\n\nW67\n\n96a8\n\n66\n\n\t9 \' \t\t\n\n8•L\n\nP-/u\n\n8•6\n\n968 \n\n%C\'L\n\ne/Ll\n\n•6\n\n8•8 \n\no、9\n\n966\n\nLL\n\n\n\n8♂\n\n8\n\n0•9\n\n966•LL\n\n\n\n\n\n怎8\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n凹\n\n\n\n\n\n\n\n96 9\n\n966•OL\n\n\n\n%C9L\n\n6\n\n9\n\n%ECL\n\nE•0\n\n8\'8\n\n6、8\n\nLL\n\n\n\nL\'6\n\n「9\n\n8\n\n66L\n\n9$\'丶\n\n•9\n\n%COL\n\n960\n\n\n\n9$\n\no」6\n\n96E9\n\n「9\n\n%LEOL\n\nYON\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1u2\n\n\n\n寸•OL\n\n8\n\n•9\n\n」9【\n\n66\n\n\n\n「0冖\n\n\n\nLZL\n\nEL\n\n%CYOL\n\nZL\n\n7L\n\n「6\n\n6\n\n6·0L\n\n6·OL\n\n96 9\n\no【\n\n8\n\n9\n\n6一OL\n\n96XOL\n\n、9\n\n59L\n\n70\n\naq\n\n5n8\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOL\n\n9L\n\n%E\'9L\n\n9 \'6\n\n\n\n969•\n\n96 OL\n\n丶•\n\n7\n\n0/650【\n\n0/6001\n\n9Z\n\n9\n\n6\'0【\n\n96 8\n\n9\n\nOL\n\n\n\n\n\n0\n\no【\n\n96 9\n\n96 9【\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n%SEL\n\n%SZL\n\n5\'6\n\n9$•tL\n\n966•\n\n0/08\'SL\n\n87【\n\n•CL\n\n9 \'LL\n\n9 7\n\n6•9\n\n%ü0L\n\n96C•S【\n\n96\n\n9 7\n\n9 •9\n\nO/c9VL\n\n96S L\n\n6\'83\n\n98-ÞL\n\n9 •tL\n\n\n\nS【\n\n「 L\n\n6\'6\n\n\n\n6 \n\n966•8\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOôlooad\n\n1一7V88\n\n0- 一\n\n\n\n%üEL\n\n966•6\n\n\n\n969\'\n\n969 【 \n\n67 96 9\n\n8L\n\n67Z\n\n6ZL\n\n0/68EL\n\n\n\n零0\'9\n\n\n\n9699L\n\n9 【\n\n「L\n\n%S\'SÉ\n\n0/6ffÞL\n\n968•\n\n9 【\n\n96 9\n\nS•寸L\n\n66\n\n96 SS\n\n0/09SZ\n\n\n\n28\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-!un\n\n0)ueq\n\n96 0【\n\n96 6\n\n6\'6\n\n9•卜\n\n%üLt\n\nTOL\n\n67L\n\n•SL\n\nL\'寸L\n\n61\n\n97\n\n\n\n07\n\nL\n\n9$•6\n\n\n\n%C£L\n\n9 L\n\n6\'0【\n\n%CLt\n\n♂ L\n\n\n\n%O\'LL\n\nEL\n\n%EZL\n\nYL\n\n\n\n969\'6L\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n乇eoJddvao\n\n\n\n冖ÁXOüd(n)\n\n(uonoqqI)Wdvyet-10!121-üêlUI\n\napqes)bNdV)IPUO!IPUIÐIUI\n\n一281\n\n\tlêPOVN\t&gt;“PH 1-12 a\n\nd Pä1SêUKIleC101Ð\n\n冖pp.adsllnepa)冖-ON\n\n(KI!IIIPIOA 一一b」\t(\'ONu 0E20\n\n\t\t &gt;一12P3E\'ONu巴2POE20\n\n一9一巴 一•vNd\\i)一281PaSn()V\n\nI-peo.JddV I-MOH\n\neoxldv we 亖WS,8E0一es\n\nI-peoJddy\n\n(041ëJBd)LAJdVJpuqÁHpalsn()v\n\n(uoswqql)\n\n\t\t\tㄗepue\t一\n\nap!SüM0(I\n\nl.peoaddv\n\nesouIdsÄ-KëWOÐ\n\n1.131204ddyslpes-uetUPIOD\n\ndT\n\n\n\n一 LAI\n\nI-I!LAJ\n\nxeVN\n\n\n\n\n\n\n\n\n\n\n\n一\n\n3\n\n冖9一\n\n一巴\n\n(d)\n\n一26一\n\n冖q6一\n\n(36)\n\n6冖…\n\n;…\n\n(tL)\n\n冖一\n\n守冖一\n\n冖S一\n\n冖9冖一\n\n冖[L)\n\n(81)\n\n冖61)\n\n(00\n\n\n\n\n\n\n\n\n\n\n\n\n\n09\n\n一\n\n10 \n\n.09\n\n,\n\n2017\n\n09\n\n一\n\n10 \n\n.09\n\n,\n\n2017O\n\nsnatfJlO!/Li!paanS03W=3\n\nop u ~ H 3\n\n冖 O] 3辷 §O)Ⅱ\n\n\n\n\t\t\t\tSIUõPlJ4ðDIIO/SS3J6aU=g、\t七a\tW00丨\n\n\t\t\t飞0/\t冖Úsn)U\'03èUDnLJLlD-!UtaS=\n\n8D9一 &amp;\n\n(SLO •一2 LIAO工\n\n(toot)U!PÁewpue.laUUëZ\n\n一965Dp」 s\n\no 一9\n\n(£100uoqoqq一\n\n(toot)\n\n一LODZ) ~仝\n\n\t冖966ㄈesouldsa℃\tO)\n\n一666DS!6ÆHpue\n\n(osn\n\n\t…666D\tpueueeMsao\n\n(poaJdspuoqLDdIü0D丶•bra)\n\n\n\n\n\n\n\nW7DppaLlVOJ/\'XOJd5DpaqddOIIDDPOWDGÅqpaqsqqnd\n\npoaadswlt)}appuoq"10Ð=ð,8—\n\n\n\nX\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nX\n\n\n\nX\n\n\n\n\n\nX\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nG ,L)乂\tx丶。 丶 +\t+\t(0-1PRd)lNdV)一巴\t6冖一十\t(ú!l!IelOAÁnunODBA!leta8)E•ON\t冖36…\n\nSD\n\n\t\t\t\tdèID+d8D+\t十 ,~\t\'JJOH 冖冖\n\ntpe0\'ddvKat-ue8-1-B!l-us-UOœ101es …ZL…\n\n\t\t\tdunx(\tt-pewddv 1 (EL)\n\n\t\t(t 』一 ldìIJ\'Vx\t(oa!a-tad)\tpalsn()Y 冖ÞL)\n\n\t\t\t\t\t一 、 ~ x\t乛+\t(UOSIoqql)PPOIN\t冖SL)\n\n\n\n\t\t\t09dx一 Y一丶\t+\n\n\tO+冖 丶 0)H09\'0]x\t乛+ 、~\n\n\t\t+dè{O+ 。~ 一丶 、\td-l)]x\t乛\n\nP)VDI-U\n\n" d8W tun/冖&amp; ~ IU qO!9丨 d&amp;jl\'V\n\nunutaJd¥SJJ13WOUtlD07=121001dk_lW\n\n=dY)\n\n(")lU-J3Jd¥SJ4KunbaPlJOM31/4J0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLAJdnaP!S1-1MOCI 冖9冖一\n\n亠S) (LL)\n\n\ttspeo]ddveso一=一d\t09 冖81)\n\n一一eu一 一91--peœddystpesUëlUP109 冖6L)\n\n87Ⅱ\n\ntppmddv 6」 d「 (01)\n\naJr»aag-þ!]lD901Ð—\n\npuoqÁPDJ80JO{)P!ÆpaddtJ3S=\n\n\tDu…~ £\ta\n\nW w qo~62 0: q~一、 O*ag=\n\nÞWDlü\'ST)ðWOJ»adsaa Dè8=\n\n€å10,\'ÑSfi\n\n…~S!\' 110… 3\n\n\t\t\t~\t…OA\t冖\tPOO/\n\n\t\t\t\t\txapll!」\t丶\t~\t冖“…O,、一Ⅱ\n\naaWDW/fatnbðSTi40ÁI!,WD!O/I\n\n、9£A冖\n\n…DD!J!lOdOuUëU-OSèhU!JOÁàIl!qUd3)SfiS=CK\n\n3 D冖 d Oi VⅡ\n\n\n\n\n\nX \n\nX \n\nX\n\nX \n\nX \n\nX\n\nX \n\nX\n\nX \n\nX()L 怎」2POE200ËOD)x dHJ\'Vx\n\n\t\t(ELOt)uuepoueaD/\'\tx D+\tx 十 ,丶 一 一一一艹2一0&gt;“一一一nb3 一一2一 …TONu\n\n( LOC)uuepocueaD+ d 、\t十\t(peaJdSlInPJaa)l.\'ON\t冖26一 (ELCZ)uo»oqq一\t+ clèÐ x\tL\'NdY)\t2q0一9 冖一 (9661)\'Itnaq]d\tX\t\'a+(èIOD)u1x¶4D—\tIBPOLAJ21u2 一&gt;, ~PH,q (t) 冖 一 “一“仝/(S66L) &gt; H\n\n\t\t冖90R一 0 占 2\tX\t一00凵 冖S)\n\n\t\t\t\t\tW「x Y)十s\t…一eqes一l/"dYD一28一一\t0\t一\n\n一寸000leqes\n\n\t冖ELOC)uoswqql\t…uos40qqI)\n\n\t\t\t\t\tX\tX\t(ÁXOJd(n)IAdY)\t(O\n\n\t\t\t\n\nðSt1 \n\nJO\n\nðSt1 \n\nJO\n\nK)ueaedsu\n\n丄\n\nK)ueaedsu\n\n丄\n\nSWðUlBla\n\nKJeuO!Iô.DS!O\n\nSWðUlBla\n\nKJeuO!Iô.DS!O00D9一a」£\tX\tX\t\'AdVDlet-IO!2121-lJëlUI\n\n\t\t\t(=u]Y)\tupeo.•ddv\n\n5 u a8\n\n\t\t\t\t\t\t\t一 A… 黑go\t、no一\tpaseq\t6L1!Pnpu!) q eo•ldde 一 十\tAO\tq\n\nCORPORATE FINANCE Nr. \n\nCORPORATE FINANCE Nr. \n\nCORPORATE FINANCE Nr. \n\n\tCORPORATE FINANCE Nr. 09-10 25.09.2017\tCORPORATE FINANCE \n\n\tCORPORATE FINANCE Nr. 09-10 25,09.2017\tCORPORATE FINANCE Nr.09-10 \n\n\tCORPORATE FINANCE Nr. 09-10 25,09.2017\tCORPORATE FINANCE Nr.09-10'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Country-Risk---Cost-of-Equity-Measurement:">Country Risk - Cost of Equity Measurement:<a class="anchor-link" href="#Country-Risk---Cost-of-Equity-Measurement:">¶</a></h1><h2 id="Methodologies-and-Implications">Methodologies and Implications<a class="anchor-link" href="#Methodologies-and-Implications">¶</a></h2><p>Magnus P. Horn, Karlsruhe Institute ofTechnology (KIT), Dr. Daniel Hoang, Head of Research Group, Institute for Finance, Banking, and Insurance Ét Karlsruhe Institute ofTechnology (KIT), Heiko Emmel, DZ BANKAS Group Treasury, Sebastian Gatzer, Karlsruhe Institute of Technology (KIT), Jun.-Prof. Dr. Alexander Lahmann, Chair ofM&amp;A in Small- and Midsized Entities at Handelshochschule\n\nLeipzig, Michael Schmidt, Deutsche Bank AG, Head of Group Valuations.
Kontakt: autor@tf-fachportal.de</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Evaluating investments in international (and particularly in emerging) markets often leads to confusion and controversy among academics and practitioners. Various theories propose competing models, whereas practitioners build their own alternatives. Our study provides an assessment of the most widely used methods of assessing country risk and shows that practitioners should carefully choose their country risk model. Current models produce a wide range of cost of equity estimates that can considerably affect management decisions.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="I.-Introduction[1](#1)">I. Introduction<sup>[1](#1)</sup><a class="anchor-link" href="#I.-Introduction[1](#1)">¶</a></h1><p>Firms lose billions of Euros in emerging markets. Many of these losses stem from regulatory violations, bribery, fraud, or damage to reputation, all of which are aspects of so-called „country risk".<sup>[2](#2)</sup> This paper examines how to incorporate country risk into the cost of capital when determining the value of investments in international markets — particularly in emerging markets.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Although the Capital Asset Pricing Model (the <i>standard</i> CAPM) has become the undisputed approach of choice in finance and management textbooks for developed markets, many executives do not believe that it adequately estimates the cost of equity in the international context. In their seminal work, <b>Graham and Harvey (2001)</b><sup>[3](#3)</sup> show that approximately one-third of firms add „some extra risk factors" to the CAPM when estimating their cost of equity capital. The most recent KPMG cost of capital study<sup>[4](#4)</sup> supports these results, revealing that approximately 40% of the surveyed firms add a country risk premium (CRP) to the standard CAPM formula. In practice, there is a wide range of models that firms apply to calculate discount rates for their international investment portfolios.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In recent years, numerous methodologies that consider country risk in the calculation of the cost of equity have emerged in the financial management literature<sup>[5](#5)</sup>. Because the application of  these methods is wide-ranging (e.g., in mergers and acquisitions, for impairment testing, or for performance measurement), the inappropriate choice of a particular country risk model may lead to unintended (and possibly severe) investment distortions. This paper aims to mitigate these possible distortions: we assess he most widelyused methods, discuss their impact on cost of equity estimates and provide actionable recommendations for the reader, These recommendations are based on five valuation objectives that are commonly important for various groups of investors, regulators, academics and valuation analysts: (1) theoretical foundations, (2) the degree of discretionary elements, (3) transparency, (4) data availability, and (5) ease of use.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also provide a case study that compares the cost of equity estimates of 20 well-known country risk models for reference companies in typical emerging markets (i.e., the BRIC countries  — Brazil, Russia, India and China). Our analysis reveals huge spreads between the models' results of up to 25.6 percentage points per company and 15.4 percentage points on average.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="II.-Why-do-Many-Financial-Executives-Adjust-the-Standard-CAPM-for-International-Cost-of-Equity-Estimates?">II. Why do Many Financial Executives Adjust the Standard CAPM for International Cost of Equity Estimates?<a class="anchor-link" href="#II.-Why-do-Many-Financial-Executives-Adjust-the-Standard-CAPM-for-International-Cost-of-Equity-Estimates?">¶</a></h2><p>When calculating the cost of eqity for foreign investments, many financial executives and investors believe that a company's cost of equity as calculated by (variants of) the standard CAPM is too low, particularly for countries with a high perceived country risk. To demonstrate this, take the International CAPM, a variant of the standard CAPM, as an example. In its simplest form, the International CAPM uses the CAPM framework with global parameters, i.e., with a global risk-free rate, a global market risk premium and a beta measured against the global market.<sup>[6](#6)</sup> By applying this model, the investor assumes that any non-diversifiable risk is appropriately captured in the stock's beta factor as measured against a global index (e.g., MSCI World).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One key reason that practitioners are frequently reluctant to apply the International CAPM when valuing firms from emerging markets is that the International CAPM often results in a lower cost of equity estimate than that expected by the analyst. The (perceived) inappropriately low cost of equity estimates result from many investors\' limited ability to sufficiently diversify away the idiosyncratic risk associated with investments in emerging markets. This potential imperfect diversification of systematic risk may lead investors to demand higher returns than those estimated by the International CAPM. The reasons for such limits to diversification include, inter alia, market barriers and segmented markets. Market barriers, such as discriminatory taxation and/or national legal/institutional frameworks, can result in partial segmentation and limit global diversification.<sup>[7](#7)</sup> Additionally, calculating the International CAPM-beta in segmented markets<sup>[8](#8)</sup> can be further complicated by the low correlation between local and international markets, which can significantly reduce the beta.<sup>[9](#9)</sup> However, even if global markets are integrated — and risk could thus be diversified globally — the average investor may be „home biased", which can result in overexposure to familiar markets and severely limit global diversification.<sup>[10](#10)</sup></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To underscore our argument, we compute the cost of equity with the International CAPM for companies located in countries with various risk profiles.<sup>[11](#11)</sup> The results are depicted in <a href="#Figure1">Figure I</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [401]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">highcharts</span> <span class="k">import</span> <span class="n">Highchart</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">Highchart</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">750</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

<span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="mf">9.98</span><span class="p">,</span> <span class="mf">9.55</span><span class="p">,</span> <span class="mf">9.26</span><span class="p">,</span> <span class="mf">8.73</span><span class="p">,</span> <span class="p">{</span><span class="s1">'y'</span><span class="p">:</span> <span class="mf">9.1</span><span class="p">,</span> <span class="s1">'color'</span><span class="p">:</span><span class="s2">"#00FF00"</span><span class="p">}]</span>
<span class="c1">#data2 = [133, 156, 947, 408, 6]</span>
<span class="c1">#data3 = [973, 914, 4054, 732, 34]</span>
<span class="c1">#data4 = [1052, 954, 4250, 740, 38]</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Figure 1: Cost of Equity as of June 30, 2016 (risk-free rate: 3.5%, MRP: 5%)'</span>
    <span class="p">},</span>
    <span class="s1">'subtitle'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Source: &lt;a id="Figure1" href="https://en.wikipedia.org/wiki/World_population"&gt;Wikipedia.org&lt;/a&gt;'</span>
    <span class="p">},</span>
    <span class="s1">'xAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'categories'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Sberbank&lt;br&gt;&lt;strong&gt;Russia&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Itaú &lt;a id="Figure1"&lt;/a&gt; Unibanco Holding&lt;br&gt;&lt;strong&gt;Brazil&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Grupo Financiero Galicia&lt;br&gt;&lt;strong&gt;Argentina&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Bank of Ireland&lt;br&gt;&lt;strong&gt;Ireland&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'J.P. Morgan&lt;br&gt;&lt;strong&gt;U.S.&lt;/strong&gt;'</span><span class="p">],</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="kc">None</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'min'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">'max'</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'CoE (%)'</span><span class="p">,</span>
            <span class="c1">#'align': 'center'</span>
        <span class="p">},</span>
        <span class="s1">'labels'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'overflow'</span><span class="p">:</span> <span class="s1">'justify'</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'tooltip'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'valueSuffix'</span><span class="p">:</span> <span class="s1">' %'</span>
    <span class="p">},</span>
    <span class="c1">#'legend': {</span>
     <span class="c1">#   'layout': 'vertical',</span>
      <span class="c1">#  'align': 'right',</span>
      <span class="c1">#  'verticalAlign': 'top',</span>
      <span class="c1">#  'x': -40,</span>
      <span class="c1">#  'y': 5,</span>
      <span class="c1">#  'floating': True,</span>
      <span class="c1">#  'borderWidth': 1,</span>
      <span class="c1">#  'backgroundColor': "((Highcharts.theme &amp;&amp; Highcharts.theme.legendBackgroundColor) || '#FFFFFF')",</span>
      <span class="c1">#  'shadow': True</span>
    <span class="c1">#},</span>
    <span class="s1">'credits'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">},</span>
    <span class="s1">'plotOptions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'bar'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'dataLabels'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">H</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'Year 2016'</span><span class="p">)</span>
<span class="c1">#H.add_data_set(data2, 'bar', 'Year 1900')</span>
<span class="c1">#H.add_data_set(data3, 'bar', 'Year 2008')</span>
<span class="c1">#H.add_data_set(data4, 'bar', 'Year 2012')</span>
<span class="n">lined</span> <span class="o">=</span> <span class="p">[</span><span class="mf">9.1</span><span class="p">,</span><span class="mf">9.1</span><span class="p">,</span><span class="mf">9.1</span><span class="p">,</span><span class="mf">9.1</span><span class="p">,</span><span class="mf">9.1</span><span class="p">]</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">lined</span><span class="p">,</span> <span class="s1">'spline'</span><span class="p">,</span> <span class="s1">'J.P. Morgan Benchmark'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="n">dashStyle</span><span class="o">=</span><span class="s1">'shortdot'</span><span class="p">)</span>
<span class="c1">#tooltip={'enabled':False},</span>
<span class="n">H</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[401]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<iframe height="300" srcdoc='&lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;link href="https://www.highcharts.com/highslide/highslide.css" rel="stylesheet" /&gt; &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/highcharts.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/highcharts-more.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/modules/heatmap.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/modules/exporting.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body style="margin:0;padding:0"&gt; &lt;div id="container" style="width:750px;height:300px;"&gt;Loading....&lt;/div&gt; &lt;script&gt; $(function(){ Highcharts.setOptions({"lang": {}, "global": {}}); var option = {"drilldown": {}, "series": {}, "legend": {}, "pane": {}, "title": {"text": "Figure 1: Cost of Equity as of June 30, 2016 (risk-free rate: 3.5%, MRP: 5%)"}, "labels": {}, "navigation": {}, "chart": {"renderTo": "container", "width": 750, "height": 300}, "xAxis": {"categories": ["Sberbank&lt;br&gt;&lt;strong&gt;Russia&lt;/strong&gt;", "Ita\u00fa &lt;a id=\"Figure1\"&lt;/a&gt; Unibanco Holding&lt;br&gt;&lt;strong&gt;Brazil&lt;/strong&gt;", "Grupo Financiero Galicia&lt;br&gt;&lt;strong&gt;Argentina&lt;/strong&gt;", "Bank of Ireland&lt;br&gt;&lt;strong&gt;Ireland&lt;/strong&gt;", "J.P. Morgan&lt;br&gt;&lt;strong&gt;U.S.&lt;/strong&gt;"], "title": {"text": null}}, "credits": {"enabled": true}, "colors": {}, "subtitle": {"text": "Source: &lt;a id=\"Figure1\" href=\"https://en.wikipedia.org/wiki/World_population\"&gt;Wikipedia.org&lt;/a&gt;"}, "tooltip": {"valueSuffix": " %"}, "plotOptions": {"bar": {"dataLabels": {"enabled": false}}}, "loading": {}, "exporting": {}, "yAxis": {"labels": {"overflow": "justify"}, "max": 15, "min": 0, "title": {"text": "CoE (%)"}}}; var chart = new Highcharts.Chart(option); var data = [{"name": "Year 2016", "type": "bar", "data": [9.98, 9.55, 9.26, 8.73, {"y": 9.1, "color": "#00FF00"}]}, {"marker": {"enabled": false}, "type": "spline", "dashStyle": "shortdot", "name": "J.P. Morgan Benchmark", "data": [9.1, 9.1, 9.1, 9.1, 9.1]}]; var dataLen = data.length; for (var ix = 0; ix &lt; dataLen; ix++) { chart.addSeries(data[ix]); } }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;' style="border:0;outline:none;overflow:hidden" width="750"></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [224]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">highcharts</span> <span class="k">import</span> <span class="n">Highchart</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">Highchart</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">950</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

<span class="n">data1</span> <span class="o">=</span> <span class="p">[{</span><span class="mf">9.98</span><span class="p">,</span> <span class="mf">9.55</span><span class="p">,</span> <span class="mf">9.26</span><span class="p">,</span> <span class="mf">8.73</span><span class="p">,</span> <span class="mf">9.10</span><span class="p">},</span> <span class="p">{</span>
    <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Sea-Level Pressure'</span><span class="p">,</span>
    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'spline'</span><span class="p">,</span>
    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="p">[</span><span class="mf">9.1</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">],</span>
    <span class="s1">'marker'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">},</span>
    <span class="s1">'dashStyle'</span><span class="p">:</span> <span class="s1">'shortdot'</span>
  <span class="p">}]</span>
<span class="c1">#data2 = [133, 156, 947, 408, 6]</span>
<span class="c1">#data3 = [973, 914, 4054, 732, 34]</span>
<span class="c1">#data4 = [1052, 954, 4250, 740, 38]</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Figure 1: Cost of Equity as of June 30, 2016 (risk-free rate: 3.5%, MRP: 5%)'</span>
    <span class="p">},</span>
    <span class="s1">'subtitle'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Source: &lt;a id="Figure1" href="https://en.wikipedia.org/wiki/World_population"&gt;Wikipedia.org&lt;/a&gt;'</span>
    <span class="p">},</span>
    <span class="s1">'xAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'categories'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Sberbank&lt;br&gt;&lt;strong&gt;Russia&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Itaú &lt;a id="Figure1"&lt;/a&gt; Unibanco Holding&lt;br&gt;&lt;strong&gt;Brazil&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Grupo Financiero Galicia&lt;br&gt;&lt;strong&gt;Argentina&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'Bank of Ireland&lt;br&gt;&lt;strong&gt;Ireland&lt;/strong&gt;'</span><span class="p">,</span><span class="s1">'J.P. Morgan&lt;br&gt;&lt;strong&gt;U.S.&lt;/strong&gt;'</span><span class="p">],</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="kc">None</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s1">'min'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">'max'</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'CoE (%)'</span><span class="p">,</span>
            <span class="c1">#'align': 'center'</span>
        <span class="p">},</span>
        <span class="s1">'labels'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'overflow'</span><span class="p">:</span> <span class="s1">'justify'</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span> <span class="c1"># Tertiary yAxis</span>
    <span class="c1">#gridLineWidth: 0,</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Sea-Level Pressure'</span><span class="p">,</span>
      <span class="s1">'style'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"Highcharts.getOptions().colors[1]"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'labels'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'</span><span class="si">{value}</span><span class="s1"> mb'</span><span class="p">,</span>
      <span class="s1">'style'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"Highcharts.getOptions().colors[1]"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'opposite'</span><span class="p">:</span> <span class="kc">True</span>
  <span class="p">}],</span>
    <span class="s1">'tooltip'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'valueSuffix'</span><span class="p">:</span> <span class="s1">' %'</span>
    <span class="p">},</span>
    <span class="c1">#'legend': {</span>
     <span class="c1">#   'layout': 'vertical',</span>
      <span class="c1">#  'align': 'right',</span>
      <span class="c1">#  'verticalAlign': 'top',</span>
      <span class="c1">#  'x': -40,</span>
      <span class="c1">#  'y': 5,</span>
      <span class="c1">#  'floating': True,</span>
      <span class="c1">#  'borderWidth': 1,</span>
      <span class="c1">#  'backgroundColor': "((Highcharts.theme &amp;&amp; Highcharts.theme.legendBackgroundColor) || '#FFFFFF')",</span>
      <span class="c1">#  'shadow': True</span>
    <span class="c1">#},</span>
    <span class="s1">'credits'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">},</span>
    <span class="s1">'plotOptions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'bar'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'dataLabels'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">H</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'Year 2016'</span><span class="p">)</span>
<span class="c1">#H.add_data_set(data2, 'bar', 'Year 1900')</span>
<span class="c1">#H.add_data_set(data3, 'bar', 'Year 2008')</span>
<span class="c1">#H.add_data_set(data4, 'bar', 'Year 2012')</span>

<span class="n">H</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-224-07c46c3ed60d&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">     10</span>       <span class="ansi-blue-intense-fg ansi-bold">'enabled'</span><span class="ansi-yellow-intense-fg ansi-bold">:</span> <span class="ansi-green-intense-fg ansi-bold">False</span>
<span class="ansi-green-fg">     11</span>     },
<span class="ansi-green-intense-fg ansi-bold">---&gt; 12</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-blue-intense-fg ansi-bold">'dashStyle'</span><span class="ansi-yellow-intense-fg ansi-bold">:</span> <span class="ansi-blue-intense-fg ansi-bold">'shortdot'</span>
<span class="ansi-green-fg">     13</span>   }]
<span class="ansi-green-fg">     14</span> <span class="ansi-red-intense-fg ansi-bold">#data2 = [133, 156, 947, 408, 6]</span>

<span class="ansi-red-intense-fg ansi-bold">TypeError</span>: unhashable type: 'list'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>&lt;a id="Figure1" &lt;/a&gt;</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [191]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">Highchart</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">850</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

<span class="sd">"""</span>
<span class="sd">Drilldown chart can be created using add_drilldown_data_set method: </span>

<span class="sd">add_drilldown_data_set(data, series_type, id, **kwargs):</span>
<span class="sd">id is the drilldown parameter in upperlevel dataset (Ex. drilldown parameters in data)</span>
<span class="sd">drilldown dataset is constructed similar to dataset for other charts</span>
<span class="sd">"""</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Microsoft Internet Explorer"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">56.33</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="s2">"Microsoft Internet Explorer"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Chrome"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">24.030000000000005</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="s2">"Chrome"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Firefox"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">10.38</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="s2">"Firefox"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Safari"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">4.77</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="s2">"Safari"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Opera"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">0.9100000000000001</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="s2">"Opera"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'name'</span><span class="p">:</span> <span class="s2">"Proprietary or Undetectable"</span><span class="p">,</span>
            <span class="s1">'y'</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
            <span class="s1">'drilldown'</span><span class="p">:</span> <span class="kc">None</span>
        <span class="p">}]</span>

<span class="n">data_1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"v11.0"</span><span class="p">,</span> <span class="mf">24.13</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v8.0"</span><span class="p">,</span> <span class="mf">17.2</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v9.0"</span><span class="p">,</span> <span class="mf">8.11</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v10.0"</span><span class="p">,</span> <span class="mf">5.33</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v6.0"</span><span class="p">,</span> <span class="mf">1.06</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v7.0"</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">data_2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"v40.0"</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v41.0"</span><span class="p">,</span> <span class="mf">4.32</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v42.0"</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v39.0"</span><span class="p">,</span> <span class="mf">2.96</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v36.0"</span><span class="p">,</span> <span class="mf">2.53</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v43.0"</span><span class="p">,</span> <span class="mf">1.45</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v31.0"</span><span class="p">,</span> <span class="mf">1.24</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v35.0"</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v38.0"</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v32.0"</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v37.0"</span><span class="p">,</span> <span class="mf">0.38</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v33.0"</span><span class="p">,</span> <span class="mf">0.19</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v34.0"</span><span class="p">,</span> <span class="mf">0.14</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v30.0"</span><span class="p">,</span> <span class="mf">0.14</span><span class="p">]</span>      
<span class="p">]</span>

<span class="n">data_3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"v35"</span><span class="p">,</span> <span class="mf">2.76</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v36"</span><span class="p">,</span> <span class="mf">2.32</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v37"</span><span class="p">,</span> <span class="mf">2.31</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v34"</span><span class="p">,</span> <span class="mf">1.27</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v38"</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v31"</span><span class="p">,</span> <span class="mf">0.33</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v33"</span><span class="p">,</span> <span class="mf">0.22</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v32"</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">data_4</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"v8.0"</span><span class="p">,</span> <span class="mf">2.56</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v7.1"</span><span class="p">,</span> <span class="mf">0.77</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v5.1"</span><span class="p">,</span> <span class="mf">0.42</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v5.0"</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v6.1"</span><span class="p">,</span> <span class="mf">0.29</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v7.0"</span><span class="p">,</span> <span class="mf">0.26</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v6.2"</span><span class="p">,</span> <span class="mf">0.17</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">data_5</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"v12.x"</span><span class="p">,</span> <span class="mf">0.34</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v28"</span><span class="p">,</span> <span class="mf">0.24</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v27"</span><span class="p">,</span> <span class="mf">0.17</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"v29"</span><span class="p">,</span> <span class="mf">0.16</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'chart'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'column'</span>
    <span class="p">},</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Browser market shares. January, 2015 to May, 2015'</span>
    <span class="p">},</span>
    <span class="s1">'subtitle'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Click the columns to view versions. Source: &lt;a href="http://netmarketshare.com"&gt;netmarketshare.com&lt;/a&gt;.'</span>
    <span class="p">},</span>
    <span class="s1">'xAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'category'</span>
    <span class="p">},</span>
    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Total percent market share'</span>
        <span class="p">}</span>

    <span class="p">},</span>
    <span class="s1">'legend'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">},</span>
    <span class="s1">'plotOptions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'series'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'borderWidth'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">'dataLabels'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'</span><span class="si">{point.y:.1f}</span><span class="s1">%'</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s1">'tooltip'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'headerFormat'</span><span class="p">:</span> <span class="s1">'&lt;span style="font-size:11px"&gt;</span><span class="si">{series.name}</span><span class="s1">&lt;/span&gt;&lt;br&gt;'</span><span class="p">,</span>
        <span class="s1">'pointFormat'</span><span class="p">:</span> <span class="s1">'&lt;span style="color:</span><span class="si">{point.color}</span><span class="s1">"&gt;</span><span class="si">{point.name}</span><span class="s1">&lt;/span&gt;: &lt;b&gt;</span><span class="si">{point.y:.2f}</span><span class="s1">%&lt;/b&gt; of total&lt;br/&gt;'</span>
    <span class="p">},</span> 
    
<span class="p">}</span>
   
<span class="n">H</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s2">"Brands"</span><span class="p">,</span> <span class="n">colorByPoint</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_drilldown_data_set</span><span class="p">(</span><span class="n">data_1</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s1">'Microsoft Internet Explorer'</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'Microsoft Internet Explorer'</span> <span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_drilldown_data_set</span><span class="p">(</span><span class="n">data_2</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s1">'Chrome'</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'Chrome'</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_drilldown_data_set</span><span class="p">(</span><span class="n">data_3</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s1">'Firefox'</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'Firefox'</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_drilldown_data_set</span><span class="p">(</span><span class="n">data_4</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s1">'Safari'</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'Safari'</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_drilldown_data_set</span><span class="p">(</span><span class="n">data_5</span><span class="p">,</span> <span class="s1">'column'</span><span class="p">,</span> <span class="s1">'Opera'</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">'Opera'</span><span class="p">)</span>

<span class="n">H</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[191]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<iframe height="400" srcdoc='&lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;link href="https://www.highcharts.com/highslide/highslide.css" rel="stylesheet" /&gt; &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/highcharts.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/highcharts-more.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/modules/heatmap.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="https://code.highcharts.com/modules/exporting.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="http://code.highcharts.com/modules/drilldown.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body style="margin:0;padding:0"&gt; &lt;div id="container" style="width:850px;height:400px;"&gt;Loading....&lt;/div&gt; &lt;script&gt; $(function(){ Highcharts.setOptions({"lang": {}, "global": {}}); var option = {"drilldown": {}, "series": {}, "legend": {"enabled": false}, "pane": {}, "title": {"text": "Browser market shares. January, 2015 to May, 2015"}, "labels": {}, "navigation": {}, "chart": {"renderTo": "container", "type": "column", "width": 850, "height": 400}, "xAxis": {"type": "category"}, "credits": {"enabled": false}, "colors": {}, "subtitle": {"text": "Click the columns to view versions. Source: &lt;a href=\"http://netmarketshare.com\"&gt;netmarketshare.com&lt;/a&gt;."}, "tooltip": {"pointFormat": "&lt;span style=\"color:{point.color}\"&gt;{point.name}&lt;/span&gt;: &lt;b&gt;{point.y:.2f}%&lt;/b&gt; of total&lt;br/&gt;", "headerFormat": "&lt;span style=\"font-size:11px\"&gt;{series.name}&lt;/span&gt;&lt;br&gt;"}, "plotOptions": {"series": {"dataLabels": {"format": "{point.y:.1f}%", "enabled": true}, "borderWidth": 0}}, "loading": {}, "exporting": {}, "yAxis": {"title": {"text": "Total percent market share"}}}; var drilldowndata = [{"type": "column", "id": "Microsoft Internet Explorer", "name": "Microsoft Internet Explorer", "data": [["v11.0", 24.13], ["v8.0", 17.2], ["v9.0", 8.11], ["v10.0", 5.33], ["v6.0", 1.06], ["v7.0", 0.5]]}, {"type": "column", "id": "Chrome", "name": "Chrome", "data": [["v40.0", 5], ["v41.0", 4.32], ["v42.0", 3.68], ["v39.0", 2.96], ["v36.0", 2.53], ["v43.0", 1.45], ["v31.0", 1.24], ["v35.0", 0.85], ["v38.0", 0.6], ["v32.0", 0.55], ["v37.0", 0.38], ["v33.0", 0.19], ["v34.0", 0.14], ["v30.0", 0.14]]}, {"type": "column", "id": "Firefox", "name": "Firefox", "data": [["v35", 2.76], ["v36", 2.32], ["v37", 2.31], ["v34", 1.27], ["v38", 1.02], ["v31", 0.33], ["v33", 0.22], ["v32", 0.15]]}, {"type": "column", "id": "Safari", "name": "Safari", "data": [["v8.0", 2.56], ["v7.1", 0.77], ["v5.1", 0.42], ["v5.0", 0.3], ["v6.1", 0.29], ["v7.0", 0.26], ["v6.2", 0.17]]}, {"type": "column", "id": "Opera", "name": "Opera", "data": [["v12.x", 0.34], ["v28", 0.24], ["v27", 0.17], ["v29", 0.16]]}]; option.drilldown.series = drilldowndata; var chart = new Highcharts.Chart(option); var data = [{"name": "Brands", "type": "column", "colorByPoint": true, "data": [{"y": 56.33, "name": "Microsoft Internet Explorer", "drilldown": "Microsoft Internet Explorer"}, {"y": 24.030000000000005, "name": "Chrome", "drilldown": "Chrome"}, {"y": 10.38, "name": "Firefox", "drilldown": "Firefox"}, {"y": 4.77, "name": "Safari", "drilldown": "Safari"}, {"y": 0.9100000000000001, "name": "Opera", "drilldown": "Opera"}, {"y": 0.2, "name": "Proprietary or Undetectable", "drilldown": null}]}]; var dataLen = data.length; for (var ix = 0; ix &lt; dataLen; ix++) { chart.addSeries(data[ix]); } }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;' style="border:0;outline:none;overflow:hidden" width="850"></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The costs of equity based on the International CAPM as of June 30, 2016, range from 8.73% (for the Bank of Ireland) to 9.98% (for Sberbank).<sup>[12](#12)</sup> The U.S. bank J.P. Morgan, which might be considered less affected by country risk than its peers in this example, has an estimated cost of equity of 9.1%. The cost of equity estimates for the reference banks from Brazil and Russia, however, are relatively on par with those ofJ.P. Morgan's.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some analysts may find these results counterintuitive and may feel that the relatively small difference of 45-88 basis points in the cost of equity estimate of the reference banks from Brazil and Russia relative to J.P. Morgan does not compensate for the country risk to which an investor is exposed.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In fact, although these (perceived) shortcomings ofthe International CAPM are well known, no approach to including country risk in business valuations has been successfully established as the standard pricing model across the investor spectrum. To the best of our knowledge, no method is wide y accepted by all market participants, resulting in many different approaches suggested by both academics and practitioners. We present these methods in the following section.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="III.-Cost-of-Equity-Models-and-Country-Risk">III. Cost of Equity Models and Country Risk<a class="anchor-link" href="#III.-Cost-of-Equity-Models-and-Country-Risk">¶</a></h2><p>Academics and practitioners frequently apply a variety of CAPM approaches that „correct" tor country risk. <a href="'Figure2">Figure 2</a> provides an overview of the main approaches that include country risk in the cost of equity estimation.<sup>[13](#13)</sup></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We classify the various approaches into three main groups: <i>conceptual models, empirical models</i> and <i>heuristic models</i>. The models in the first two groups have been widely approved by academics and generally have a strong foundation in economic theory. However, these models have been perceived as either limited or unfeasible for application in a daily business setting, at least by some practitioners. Therefore, valuation analysts have also developed alternative models. These models are more or less „loosely" based on the CAPM framework and include adjustments for specific country-related risks, for example, by including a CRP or by adjusting the exposure (beta) to systematic risk.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Most ofthese models involve deviations from and adjustments to the <i>standard</i> CAPM.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Standard CAPM:
$$E[r_{i}] = r_f + \left(MRP \times Beta_i \right)$$</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>where $E[\bullet]$ represents the expectation operator, $r_i$ is the return of risky asset $i$, $r$ is the risk-free rate<sup>[14](#14)</sup>, $MRP$ is the market risk premium, and $Beta_i$ is the beta factor of asset $i$ measured as $Cov(r_i,r_m)/Var(r_m)$, with $r_m$ as the return of the market portfolio. In subsequent sections, we present the <i>most representative</i> methods of assessing country risk for each of the different groups of models. We emphasize that our summary is not a detailed step-by-step guide to apply these models; our aim is instead to outline the general workings of these models. <a href="#Table1">Table Al</a> in the Appendix contains a comprehensive and detailed description of the remaining approaches not discussed in the main text.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="A)-International-CAPM">A) International CAPM<a class="anchor-link" href="#A)-International-CAPM">¶</a></h3><p><strong>Conceptual formula:</strong></p>
<p>$$E[r_i] = r_{f\_global} + \left(MRP_{global}\times Beta_{i,global}\right)$$</p>
<p>where $r_{f\_global}$ is the global risk-free rate, $MRP_{global}$ is the global market risk premium, and $Beta_{i,global}$ is the beta factor of the company with respect to the global market.</p>
<p>In its simplest form, the International CAPM uses the standard CAPM framework with global parameters. This approach is in line with the standard CAPM theory and is theoretically sound if markets are globally integrated. In general, this approach is easy to implement, the data availability is good, and it can be applied to companies in most countries. However, in many cases, this approach does not result in the expected increased cost of equity for emerging markets (see example in <a href="#Figure1">Figure 1</a>), which is counterintuitive. The key reason is the observed low correlation between local emerging and global markets that occurs when these markets are fully or partially segmented. This low correlation leads to low betas and lower than expected costs of equity.<sup>[15](#15), [16](#16)</sup></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [182]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">latex</span><span class="p">(</span><span class="n">iCAPM</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[182]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'E[r_{i}] = MRP_{global} \\beta_{i,global} + r_{f\\_global}'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are also other versions of the International CAPM. For instance, Pratt and Grabowski (2008)<sup>17</sup> argue that given the size and the maturity of U.S. financial markets, analysts can use the U.S. risk-free rate as a proxy for the global risk-free rate, the U.S. MRP as a proxy for the global MRP, and the company beta with respect to the U.S. market as a proxy for the global beta. The result is the so-called International CAPM (US proxy).</p>
<p><strong>International CAPM:</strong></p>
<p>$$E[r_i] = r_{f\_global} + \left(Beta_{i,global} \times MRP_{global}\right) $$</p>
<p><strong>International CAPM (US proxy):</strong></p>
<p>$$E[r_i] = r_{f\_US} + \left(Beta_{i,US} \times MRP_{US}\right)$$</p>
<p>Before continuing, we should note that there are also variants of the International CAPM that explicitly incorporate risks arising out of deviations from the purchasing power parity, which is done by adding an additional risk factor that measures the exchange-rate risk between local and base currency. To provide clear-cut results, we assume throughout this paper that the purchasing power parity holds in the long run for real investments, which implies that exchange risk is not priced. We refer the interested reader to Ruiz de Vargaz and Breuer (2012a; 2012b) or Sabal (2004)<sup>[18](#18)</sup> for excellent discussions on currency effects in the context of the International CAPM.</p>
<h3 id="B)-Local-CAPM">B) Local CAPM<a class="anchor-link" href="#B)-Local-CAPM">¶</a></h3><p>The local CAPM assumes the segmentation of capital markets and implies that only the local market is relevant for the asset return:</p>
<p>$$E[r_i] = r_{f_local} + \left(MRP_{local} \times Beta_{i,local}\right),$$</p>
<p>where $r_{f\_local}$ is the local risk-free rate, $MRP_{local}$ is the local market risk premium, and $Beta_{i,local}$ is the beta factor of the company with respect to the local market.</p>
<p>As for the international version of the CAPM, the local CAPM is theoretically sound, i.e., consistent with the CAPM theory, but only if markets are segmented and the local market can be regarded as the relevant market portfolio. In practice, estimating the local beta and market risk premium might be challenging in illiquid and inefficient markets because of poor data quality stemming from issues such as low liquidity and short time series. Additionally, in some cases, the emerging country's government bonds (used to determine the local risk-free rate) may not be free of default risk.</p>
<h3 id="C)-Mixture-Model-of-Bekaert-and-Harvey">C) Mixture Model of Bekaert and Harvey<a class="anchor-link" href="#C)-Mixture-Model-of-Bekaert-and-Harvey">¶</a></h3><p>Instead of choosing between local and global betas and local and global market risk premiums, Bekaert and Harvey<sup>[19](#19)</sup> suggest including both because both parameters may be relevant to a company's return. An additional factor, Lambda, models the proportional impact of the global beta and the global market risk premium on the return of the risky asset.</p>
<p>$$ E[r_i] = r_{f\_US} + \left(1 - Lambda\right) \times \left(Beta_{i,local} \times MRP_{local}\right) + Lambda \times \left(Beta_{i,global} \times MRP_{global}\right).$$</p>
<p>Thus, Lambda represents the level ofthe local country's integration into the world market. With a Lambda of one, the Bekaert and Harvey mixture approach assumes perfectly integrated markets; conversely, when Lambda equals zero, markets are perfectly segmented.</p>
<h3 id="D)-Credit-Rating-Model">D) Credit Rating Model<a class="anchor-link" href="#D)-Credit-Rating-Model">¶</a></h3><p>Credit rating models are based on the idea that historical returns and ratings can predict future returns. Erb et al. (1996) present several versions of the credit rating model.<sup>[20](#20)</sup> They fit a regression model using equity market data and survey-based credit ratings from countries with liquid equity markets. Using these estimates, they forecast „out-of-sample" the expected returns for markets with ratings but without equity market.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Figure 2: Country Risk - Cost of equity estimation: Main methodologies</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="E)-Additive-CRP">E) Additive CRP<a class="anchor-link" href="#E)-Additive-CRP">¶</a></h3><p>Models in this category include an additive CRP.</p>
<p><strong>Concept formula:</strong></p>
<p>$$E[r_i] = r_{f\_US} + \left(MRP_{US} \times Beta_{i,US}\right) + CRP,$$</p>
<p>where $r_{f\_US}$ is the U.S. risk-free rate, $MRP$ is the U.S. market risk premium, $Beta_{i,US}$ is the beta factor of the company with respect to the U.S. market, and $CRP$ is the country risk premium added. This type of adjustment is widely accepted among practitioners. Normally, this approach uses both the beta and the market risk premium of a mature market with good data availability, e.g. from the U.S., as a baseline and then adds a CRP to incorporate those parts of the idiosyncratic risk that investors believe to be important and not diversifiable.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are different approaches to estimating the CRP.<sup>[21](#21)</sup> The most widely applied method<sup>[22](#22)</sup> is to define the CRP as the country's default spread.<sup>[23](#23)</sup> The main intuition behind applying the default spread comes from assuming that a company's country risk is driven by many of the same factors as government default risk, such as political instability. Because this risk is already priced into the government bond market, it also serves as a convenient and always up-to-date proxy for a company's country risk. Aswath Damodaran regularly publishes CRPs based on country ratings, default spreads and CDS spreads.<sup>[24](#24)</sup></p>
<p>In addition to the different approaches to estimating the CRP, various authors have proposed adjusting the CRP in various ways that are based on company or market specific factors.</p>
<p><strong>Damodaran #1:</strong></p>
<p>$$E[r_i] = r_{f\_US} + Beta_{i,US} \times MRP_{US} +CRP$$</p>
<p><strong>Damodaran #2:</strong></p>
<p>$$E[r_i] = r_{f\_US} + Beta_{i,US} \times MRP_{US} +CRP\times \frac{\sigma_{local,E}}{\sigma_{local,B}}$$</p>
<p><strong>Damodaran #3:</strong></p>
<p>$$E[r_i] = r_{f\_US} + Beta_{i,US} \times MRP_{US} \times \frac{\sigma_{local}}{\sigma_{US}}$$</p>
<p><strong>Horn et al.:</strong></p>
<p>$$E[r_i] = r_{f\_US} + Beta_{i,US} \times MRP_{US} + CRP + Ceiling\;Risk\;Premium$$</p>
<p><strong>Salomon — Smith — Barney:</strong></p>
<p>$$E[r_i] = r_{f\_US} + \left(Beta_{i\,global} \times  MRP_{global}\right) +CRP \times \frac{Gamma_1 + Gamma_2 + Gamma_3}{30}$$</p>
<p>For example, <strong>Damodaran (2013)</strong><sup>[25](#25)</sup> suggests multiplying the CRP with the with the relative equity market volatility over the bond market volatility $(\sigma_{local,E}/\sigma_{local,B})$ to reflect the additional volatility in the equity market that is not incorporated in the default spread (Damodaran #2). In contrast, <strong>Zenner and Akaydin (2002)</strong><sup>[26](#26)</sup> argue that the default spread (and hence the government default risk) is the maximum country-specific risk faced by every company operating in that country. Consequently, they recommend downward adjusting the CRP based on a particular company's exposure to political risk, defined by three factors that summarily represent an entity's total exposure to political risk (the <i>Salomon-Smith-Barney approach</i>).<sup>[27](#27)</sup></p>
<p><strong>Horn et al. (2015)</strong><sup>[28](#28)</sup> present a further enhancement to the CRP concept by adding a ceiling risk premium to the CRP (Horn et al. approach). The notion of a ceiling risk premium captures the transfer risk, which occurs when companies transfer money through several countries on the way to the parent entity. Transfer risk can be particularly relevant to corporations with complex holding structures, in which cashflows are transferred between subsidiaries in different countries. Furthermore, this approach outlines a framework to estimate the CRP easily and transparently.</p>
<p>Finally, <strong>Damodaran (2013)</strong> suggests adjusting the CAPM by considering the relative volatility between the local market and a chosen mature equity market, such as the U.S. equity market (Damodaran #3 approach). This volatility ratio is multiplied by the market risk premium to add an implicit CRP to the <i>standard</i> CAPM.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="F)-Beta-Adjustments">F) Beta-Adjustments<a class="anchor-link" href="#F)-Beta-Adjustments">¶</a></h3><p>Models in this category adjust the asset beta to incorporate country risk.</p>
<p>Conceptual formula:
$$E[r_i]=r_{f\_US} + \left( MRP \times Beta_{adj}\right),$$</p>
<p>where $r$ is the U.S. risk-free rate, $MRP$ is the market risk premium (either U.S. or global), and $Beta_{adj}$ is the adjusted beta factor ofthe company that seeks to incorporate countr risk in the adjusted beta calculation.</p>
<p>For example, Lessard (1996)<sup>[29](#29)</sup> suggests multiplying the company beta by the local country's beta, both with respect to the U.S. market (Lessard Approach). As discussed earlier, a low correlation between the local and the global stock markets may lead to extraordinary low betas. Ibbotson(2013)<sup>[30](#30)</sup> addresses this problem and considers the volatility in different markets when estimating exposure to the market risk premium: $Beta_{adj} = \sigma_{local}/\sigma_{US}$ (Ibbotson approach), thereby omitting the correlation between company stock and reference index as input in the beta calculation.</p>
<p>The <i>Downside CAPM</i> is defined as the International CAPM with a downside beta (Estrada, 2002)<sup>[31](#31)</sup>. The downside beta is calculated using semi-variance, which is a measure of the dispersion of all observations below the mean. Estrada argues that the semi-variance of returns is a better measure for risk than variance for three reasons: (1) investors dislike only downside volatility; (2) semi-variance is more useful if the underlying distribution is asymmetric; and (3) semi-variance combines the information provided by both the variance and the skewness, which makes it useful for a one-factor return model.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A final model in this group is the CSFB Approach by Hauptman and Natella (1997)<sup>[32](#32)</sup>, which is a model quoted by a few academic studies, e.g., Harvey (2001)<sup>[33](#33)</sup>, but rarely used bypractitioners. This approach multiplies the local beta with the ratio ofthe coefficient \n\n\n\nof variation in the local market and the coefficient of variation of the U.S. market (ratio defined as $A_{loca1}$), which in turn is multiplied with 0.60. Harvey (2001) concludes his description of the approach by stating that „this model is a perfect example of the confusion that exists in measuring the cost of capital".</p>
<p><strong>Lessard Approach:</strong></p>
<p>$$E[r_i] = r_f + \left(Beta_{i,US} \times + Beta_{local,US} \right)\times MRP_{US}$$</p>
<p><strong>Ibbotson Approach:</strong></p>
<p>$$E[r_i] = r_{f\_US} + MRP_{us} \times + \frac{\sigma_{local}}{\sigma_{US}}$$</p>
<p><strong>Downside CAPM:</strong></p>
<p>$$E[r_i] = r_{f\_US} + MRP_{global} \times Downside\;Beta_{i,global}$$</p>
<p><strong>CSFB Approach:</strong>
$$E[r_i] = r_{f\_B} + Beta_{i,local} \times  MRP_{US} \times A_{local} \times 0.60 $$</p>
<h3 id="G)-Both:-Additive-CRP-and-Beta-Adjustments">G) Both: Additive CRP and Beta-Adjustments<a class="anchor-link" href="#G)-Both:-Additive-CRP-and-Beta-Adjustments">¶</a></h3><p>Finally, some authors have proposed further adjustments to beta in addition to adding a country risk premium. Two examples thereof are the Godfrey-Espinosa approach<sup>[34](#34)</sup> and the Goldman Sachs approach<sup>[35](#35)</sup>. Models in this group are based on the following conceptual formula:</p>
<p><strong>Conceptual formula:</strong></p>
<p>$$E[r_i] = r_{f\_US} + \left(MRP_{US} \times Beta_{adj}\right) + CRP$$</p>
<p>where $r$ is the U.S.risk-freerate, $MRP$ is the U.S. market risk premium, $Beta_{adj}$ is the adjusted beta factor of the company that seeks to incorporate country risk in the adjusted beta calculation, and $CRP$ is the country risk premium.</p>
<p>In general, these adjustments to the CAPM consider the relative equity volatility between the local and the U.S. market, or global market, The derivation of these models is relatively ad hoc, and their notation is relatively complex. For instance, the Godfrey-Espinosa approach distinguishes two types of risks: „commercial risks" and „sovereign risks". „Sovereign risks" (as measured by the country credit spread) are captured in the additive CRP. „Commercial risks" (from operating in the local market relative to the home market) are captured by an „adjusted beta", which is defined as the ratio of the volatility of the local stock market relative to the volatility of the U.S. (or world) market. Because both types of risks are likely interdependent, the authors propose to reduce the adjusted beta by 40% to avoid double counting risk. This adjustment, however, is admittedly ad hoc.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Goldman Sachs approach refines the Godfrey-Espinosa approach and proposes an alternative beta adjustment to address the abovementioned double-counting. The authors propose to multiply the company beta (measured against the local market) with the previously introduced ratio of the volatilities and with one minus the observed correlation between the stock and bond market. This adjustment shall isolate from changes in the economy that similarly affect movements in sovereign spreads and equity market volatility. The approach also allows for adding further components ($\varphi$) to account for further company-specific characteristics. We refer to the original articles for further details to these models.</p>
<p><strong>Godfrey — Espinosa Approach:</strong></p>
<p>$$E[r_i]=r_{f\_us} + MRP_{us} \times \left(0.60 \times \frac{\sigma_{local}}{\sigma_{US}} \right) + CRP$$</p>
<p><strong>Goldman Sachs Approach:</strong></p>
<p>$$E[r_i]=r_{f\_us} + MRP_{us} \times \left((1-\rho_{SB}) \times \frac{\sigma_{local}}{\sigma_{US}} \right) \times Beta_{i,local}+ \varphi + CRP$$</p>
<p>In summary, this presentation ofthc various methods to incorporate country risk demonstrates that there is a broad range of different approaches available to the analyst. We again note that the focus of our summary was on the most representative models within each model category of <a href="#Figure2">Figure 2</a> and on the general workings of these models. The formal definitions of the comprehensive list of country risk approaches from <a href="#Figure2">Figure 2</a>, including references to the original works, are in Table A1 in the Appendix.</p>
<h2 id="IV.-Cost-of-Equity-Estimation---A-Comparison-of-Methodologies">IV. Cost of Equity Estimation - A Comparison of Methodologies<a class="anchor-link" href="#IV.-Cost-of-Equity-Estimation---A-Comparison-of-Methodologies">¶</a></h2><p>We estimate the cost of equity for three large companies in each of the four sample countries: Brazil, Russia, India and China (which are well known as the so-called BRIC countries). We show that the models presented previously result in a remarkably wide range of cost of equity estimates in a realworld setting. For the twelve reference companies (see Table the maximum and minimum cost of equity estimates largely depend on the approach chosen, and the differences among these estimates can be dramatic.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">qgrid</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">Companies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Schmies_Horn_Companies.csv'</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">'Country'</span><span class="p">,</span><span class="s1">'Company'</span><span class="p">,</span><span class="s1">'Industry (ICB)'</span><span class="p">])</span><span class="c1">#pd.DataFrame(columns=['Country','Company','Industry (ICB)'],data=[['Brazil','Petróleo Brasileiro','Oil &amp; Gas']])</span>
<span class="n">Companies</span>
<span class="n">qgrid_widget</span> <span class="o">=</span> <span class="n">qgrid</span><span class="o">.</span><span class="n">show_grid</span><span class="p">(</span><span class="n">Companies</span><span class="p">,</span> <span class="n">show_toolbar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">qgrid_widget</span>

<span class="c1">#Table 1: Companies included in the case study</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="ca1ba299-965f-49d0-99df-bec686ac004a"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#ca1ba299-965f-49d0-99df-bec686ac004a');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "cd5fc8d10a884f99bfe81ba04a7ecd76", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pivvi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">Companies</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">"Country"</span><span class="p">,</span><span class="s2">"Industry (ICB)"</span><span class="p">],</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">"Company"</span><span class="p">],</span><span class="n">aggfunc</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">hover</span><span class="p">(</span><span class="n">hover_color</span><span class="o">=</span><span class="s2">"#ffff99"</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"tr:hover"</span><span class="p">,</span>
                <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"background-color"</span><span class="p">,</span> <span class="s2">"</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">hover_color</span><span class="p">)])</span>

<span class="n">styles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">hover</span><span class="p">(),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"th"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"font-size"</span><span class="p">,</span> <span class="s2">"150%"</span><span class="p">),</span>
                               <span class="p">(</span><span class="s2">"text-align"</span><span class="p">,</span> <span class="s2">"center"</span><span class="p">)]),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"caption"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"caption-side"</span><span class="p">,</span> <span class="s2">"bottom"</span><span class="p">)])</span>
<span class="p">]</span>
<span class="n">html</span> <span class="o">=</span> <span class="p">(</span><span class="n">pivvi</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
          <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">"&lt;a id='Table2'&gt;&lt;/a&gt;Pivot-Table"</span><span class="p">))</span>
<span class="n">html</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[24]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<style type="text/css">
    #T_75f8c830_6298_11e8_b4cd_00231814a6fb tr:hover {
          background-color: #ffff99;
    }    #T_75f8c830_6298_11e8_b4cd_00231814a6fb th {
          font-size: 150%;
          text-align: center;
    }    #T_75f8c830_6298_11e8_b4cd_00231814a6fb caption {
          caption-side: bottom;
    }</style>
<table id="T_75f8c830_6298_11e8_b4cd_00231814a6fb"><caption><a id="Table2"></a>Pivot-Table</caption>
<thead> <tr>
<th class="blank"></th>
<th class="blank level0"></th>
<th class="col_heading level0 col0">Company</th>
</tr> <tr>
<th class="index_name level0">Country</th>
<th class="index_name level1">Industry (ICB)</th>
<th class="blank"></th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel0_row0" rowspan="3">Brazil</th>
<th class="row_heading level1 row0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row0">Basic Materials</th>
<td class="data row0 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow0_col0">Vale</td>
</tr> <tr>
<th class="row_heading level1 row1" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row1">Financials</th>
<td class="data row1 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow1_col0">Itau Unibanco</td>
</tr> <tr>
<th class="row_heading level1 row2" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row2">Oil &amp; Gas</th>
<td class="data row2 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow2_col0">Petróleo Brasileiro</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel0_row3" rowspan="3">China</th>
<th class="row_heading level1 row3" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row3">Basic Materials</th>
<td class="data row3 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow3_col0">China Shenhua Energy</td>
</tr> <tr>
<th class="row_heading level1 row4" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row4">Financials</th>
<td class="data row4 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow4_col0">Industrial &amp; Commercial Bank of China</td>
</tr> <tr>
<th class="row_heading level1 row5" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row5">Oil &amp; Gas</th>
<td class="data row5 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow5_col0">Petro China</td>
</tr> <tr>
<th class="row_heading level0 row6" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel0_row6" rowspan="3">India</th>
<th class="row_heading level1 row6" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row6">Basic Materials</th>
<td class="data row6 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow6_col0">Coal India</td>
</tr> <tr>
<th class="row_heading level1 row7" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row7">Financials</th>
<td class="data row7 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow7_col0">HDFC Bank</td>
</tr> <tr>
<th class="row_heading level1 row8" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row8">Oil &amp; Gas</th>
<td class="data row8 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow8_col0">Reliance Industries</td>
</tr> <tr>
<th class="row_heading level0 row9" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel0_row9" rowspan="3">Russia</th>
<th class="row_heading level1 row9" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row9">Basic Materials</th>
<td class="data row9 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow9_col0">Norilsk Nickel</td>
</tr> <tr>
<th class="row_heading level1 row10" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row10">Financials</th>
<td class="data row10 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow10_col0">Sberbank</td>
</tr> <tr>
<th class="row_heading level1 row11" id="T_75f8c830_6298_11e8_b4cd_00231814a6fblevel1_row11">Oil &amp; Gas</th>
<td class="data row11 col0" id="T_75f8c830_6298_11e8_b4cd_00231814a6fbrow11_col0">Gazprom</td>
</tr></tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Companies</span><span class="o">.</span><span class="n">stack</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>Country                
Brazil   Company                             Petróleo Brasileiro
         Industry (ICB)                                Oil &amp; Gas
         Company                                            Vale
         Industry (ICB)                          Basic Materials
         Company                                   Itau Unibanco
         Industry (ICB)                               Financials
Russia   Company                                         Gazprom
         Industry (ICB)                                Oil &amp; Gas
         Company                                  Norilsk Nickel
         Industry (ICB)                          Basic Materials
         Company                                        Sberbank
         Industry (ICB)                               Financials
India    Company                             Reliance Industries
         Industry (ICB)                                Oil &amp; Gas
         Company                                      Coal India
         Industry (ICB)                          Basic Materials
         Company                                       HDFC Bank
         Industry (ICB)                               Financials
China    Company                                     Petro China
         Industry (ICB)                                Oil &amp; Gas
         Company                            China Shenhua Energy
         Industry (ICB)                          Basic Materials
         Company           Industrial &amp; Commercial Bank of China
         Industry (ICB)                               Financials
dtype: object</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [394]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Companies</span> <span class="o">=</span> <span class="n">qgrid_widget</span><span class="o">.</span><span class="n">get_changed_df</span><span class="p">()</span>
<span class="n">Companies</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="12b6763d-fce1-4e7a-ad09-949362130a73"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#12b6763d-fce1-4e7a-ad09-949362130a73');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "e1f991d4db614e76b138775faa71e459", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [395]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">qgrid</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
<span class="n">Companies</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[395]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Country</th>
<th>Company</th>
<th>Industry (ICB)</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Brazil</td>
<td>Petróleo Brasileiro</td>
<td>Oil &amp; Gas</td>
</tr>
<tr>
<th>1</th>
<td>Brazil</td>
<td>Vale</td>
<td>Basic Materials</td>
</tr>
<tr>
<th>2</th>
<td>Brazil</td>
<td>Itau Unibanco</td>
<td>Financials</td>
</tr>
<tr>
<th>3</th>
<td>Russia</td>
<td>Gazprom</td>
<td>Oil &amp; Gas</td>
</tr>
<tr>
<th>4</th>
<td>Russia</td>
<td>Norilsk Nickel</td>
<td>Basic Materials</td>
</tr>
<tr>
<th>5</th>
<td>Russia</td>
<td>Sberbank</td>
<td>Financials</td>
</tr>
<tr>
<th>6</th>
<td>India</td>
<td>Reliance Industries</td>
<td>Oil &amp; Gas</td>
</tr>
<tr>
<th>7</th>
<td>India</td>
<td>Coal India</td>
<td>Basic Materials</td>
</tr>
<tr>
<th>8</th>
<td>India</td>
<td>HDFC Bank</td>
<td>Financials</td>
</tr>
<tr>
<th>9</th>
<td>China</td>
<td>Petro China</td>
<td>Oil &amp; Gas</td>
</tr>
<tr>
<th>10</th>
<td>China</td>
<td>China Shenhua Energy</td>
<td>Basic Materials</td>
</tr>
<tr>
<th>11</th>
<td>China</td>
<td>Industrial &amp; Commercial Bank of China</td>
<td>Financials</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Set table up</span>
<span class="n">Recom</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Valuation objective'</span><span class="p">,</span><span class="s1">'Recommended models'</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="s1">'Theoretical foundations'</span><span class="p">,</span><span class="s1">'International CAPM'</span><span class="p">]])</span>
<span class="n">qgrid_widget2</span> <span class="o">=</span> <span class="n">qgrid</span><span class="o">.</span><span class="n">show_grid</span><span class="p">(</span><span class="n">Recom</span><span class="p">,</span> <span class="n">show_toolbar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">qgrid_widget2</span>
<span class="c1">#The add restant data manually</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="8c1d5809-d0bf-48df-ad8c-46eaae248020"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#8c1d5809-d0bf-48df-ad8c-46eaae248020');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "7caf16e213924ef69dc965b7810f041f", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [62]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Recommandations = qgrid_widget2.get_changed_df()</span>
<span class="c1">#Recommandations.to_csv('Schmies_Horn_Recommendations.csv')</span>
<span class="c1">#import</span>
<span class="n">Recommendations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Schmies_Horn_Recommendations.csv'</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># index_col=False, usecols=[1,2])#['Valuation objective', 'Recommended models']) #, index_col=0)</span>
<span class="c1">#Lulu #.reindex(fdrop)</span>
<span class="n">Recommendations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">Recommendations</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">"Valuation objective"</span><span class="p">],</span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">"Recommended models"</span><span class="p">],</span><span class="n">aggfunc</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">'&lt;br&gt;'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">html2</span> <span class="o">=</span> <span class="p">(</span><span class="n">Recommendations</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
          <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">"&lt;a id='Table2'&gt;&lt;/a&gt;Table 2: Model recommendations based on various valuation objectives"</span><span class="p">))</span>
<span class="n">html2</span>
<span class="c1">#Recommandations</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[62]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<style type="text/css">
    #T_4649441e_62b8_11e8_944a_00231814a6fb tr:hover {
          background-color: #ffff99;
    }    #T_4649441e_62b8_11e8_944a_00231814a6fb th {
          font-size: 150%;
          text-align: center;
    }    #T_4649441e_62b8_11e8_944a_00231814a6fb caption {
          caption-side: bottom;
    }</style>
<table id="T_4649441e_62b8_11e8_944a_00231814a6fb"><caption><a id="Table2"></a>Table 2: Model recommendations based on various valuation objectives</caption>
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">Recommended models</th>
</tr> <tr>
<th class="index_name level0">Valuation objective</th>
<th class="blank"></th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_4649441e_62b8_11e8_944a_00231814a6fblevel0_row0">Data availability</th>
<td class="data row0 col0" id="T_4649441e_62b8_11e8_944a_00231814a6fbrow0_col0">Damodaran Approaches<br/>International CAPM<br/>Horn et al. Approach</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_4649441e_62b8_11e8_944a_00231814a6fblevel0_row1">Ease of use</th>
<td class="data row1 col0" id="T_4649441e_62b8_11e8_944a_00231814a6fbrow1_col0">Damodaran Approaches</td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_4649441e_62b8_11e8_944a_00231814a6fblevel0_row2">High number of discretionary elements</th>
<td class="data row2 col0" id="T_4649441e_62b8_11e8_944a_00231814a6fbrow2_col0">Salomon-Smith-Barney Approach</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_4649441e_62b8_11e8_944a_00231814a6fblevel0_row3">Theoretical foundations</th>
<td class="data row3 col0" id="T_4649441e_62b8_11e8_944a_00231814a6fbrow3_col0">International CAPM<br/>Local CAPM<br/>Downside CAPM<br/>Erb-Harvey-Viskanta Model</td>
</tr> <tr>
<th class="row_heading level0 row4" id="T_4649441e_62b8_11e8_944a_00231814a6fblevel0_row4">Transparency</th>
<td class="data row4 col0" id="T_4649441e_62b8_11e8_944a_00231814a6fbrow4_col0">Local CAPM<br/>International CAPM<br/>Downside CAPM<br/>Lessard Approach</td>
</tr></tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [400]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hh</span> <span class="o">=</span> <span class="n">Companies</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Country'</span><span class="p">)</span>
<span class="n">hh</span>
<span class="n">Companies</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'Schmies_Horn_Companies.csv'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [59]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pini</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Schmies_Horn_Recommendations.csv'</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pini</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[59]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Recommended models</th>
</tr>
<tr>
<th>Valuation objective</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Theoretical foundations</th>
<td>International CAPM</td>
</tr>
<tr>
<th>Theoretical foundations</th>
<td>Local CAPM</td>
</tr>
<tr>
<th>Theoretical foundations</th>
<td>Downside CAPM</td>
</tr>
<tr>
<th>Theoretical foundations</th>
<td>Erb-Harvey-Viskanta Model</td>
</tr>
<tr>
<th>High number of discretionary elements</th>
<td>Salomon-Smith-Barney Approach</td>
</tr>
<tr>
<th>Transparency</th>
<td>Local CAPM</td>
</tr>
<tr>
<th>Transparency</th>
<td>International CAPM</td>
</tr>
<tr>
<th>Transparency</th>
<td>Downside CAPM</td>
</tr>
<tr>
<th>Transparency</th>
<td>Lessard Approach</td>
</tr>
<tr>
<th>Data availability</th>
<td>Damodaran Approaches</td>
</tr>
<tr>
<th>Data availability</th>
<td>International CAPM</td>
</tr>
<tr>
<th>Data availability</th>
<td>Horn et al. Approach</td>
</tr>
<tr>
<th>Ease of use</th>
<td>Damodaran Approaches</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Classification fallows the FTSE Industry Classification Benchmark (ICB).</p>
<p>We calculate the different estimates from the perspective of an U.S. investor who has projected the companies' cashflows in USD. The three companies from each country were selected based on three criteria:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [383]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">highcharts</span> <span class="k">import</span> <span class="n">Highchart</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">Highchart</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_JSscript</span><span class="p">(</span><span class="s1">'''Highcharts.SVGRenderer.prototype.symbols.cross = function (x, y, w, h) {</span>
<span class="s1">    return ['M', x, y, 'L', x + w, y + h, 'M', x + w, y, 'L', x, y + h, 'z'];</span>
<span class="s1">};</span>
<span class="s1">if (Highcharts.VMLRenderer) {</span>
<span class="s1">    Highcharts.VMLRenderer.prototype.symbols.cross = Highcharts.SVGRenderer.prototype.symbols.cross;</span>
<span class="s1">}'''</span><span class="p">,</span> <span class="s1">'head'</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_JSscript</span><span class="p">(</span><span class="s1">'''(function (H) {</span>
<span class="s1">        H.wrap(H.Legend.prototype, 'colorizeItem', function (proceed, item, visible) {</span>
<span class="s1">        	item.legendColor = item.options.legendColor;</span>
<span class="s1">            proceed.apply(this, Array.prototype.slice.call(arguments, 1));</span>
<span class="s1">        });</span>
<span class="s1">    }(Highcharts));'''</span><span class="p">,</span><span class="s1">'head'</span><span class="p">)</span>
<span class="n">H</span><span class="o">.</span><span class="n">set_options</span><span class="p">(</span><span class="s1">'chart'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'inverted'</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Range of cost of equity estimates split by companies'</span>
    <span class="p">},</span>

    <span class="c1">#'subtitle': {</span>
     <span class="c1">#   'text': 'Observed in Vik i Sogn, Norway, 2017'</span>
    <span class="c1">#},</span>

    <span class="s1">'xAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'categories'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Gazprom'</span><span class="p">,</span> <span class="s1">'Norilsk Nickel'</span><span class="p">,</span> <span class="s1">'Coal India'</span><span class="p">,</span> <span class="s1">'Reliance Industries'</span><span class="p">,</span> <span class="s1">'Sberbank'</span><span class="p">,</span> <span class="s1">'HDFC Bank'</span><span class="p">,</span>
            <span class="s1">'Ind &amp; Comm. Bank of China'</span><span class="p">,</span> <span class="s1">'China Shenhua Energy'</span><span class="p">,</span> <span class="s1">'PetroChina'</span><span class="p">,</span> <span class="s1">'Itau Unibanco'</span><span class="p">,</span> <span class="s1">'Vale'</span><span class="p">,</span> <span class="s1">'Petróleo Brasileiro'</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Cost of Equity ( % )'</span>
        <span class="p">},</span>
        <span class="s1">'min'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">'max'</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
    <span class="p">},</span>

    <span class="s1">'tooltip'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'valueSuffix'</span><span class="p">:</span> <span class="s1">'%'</span>
    <span class="p">},</span>

    <span class="s1">'plotOptions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'columnrange'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'dataLabels'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'</span><span class="si">{y}</span><span class="s1">%'</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s1">'legend'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'align'</span><span class="p">:</span><span class="s1">'middle'</span><span class="p">,</span>
        <span class="s1">'verticalAlign'</span><span class="p">:</span><span class="s1">'top'</span><span class="p">,</span>
        <span class="s1">'x'</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span>
        <span class="s1">'y'</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">'backgroundColor'</span><span class="p">:</span><span class="s2">"#cacaca"</span><span class="p">,</span><span class="c1">#'#FCFFC5'</span>
        <span class="s1">'borderRadius'</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
        <span class="s1">'borderWidth'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'layout'</span><span class="p">:</span><span class="s1">'vertical'</span>
    <span class="p">},</span>

<span class="p">}</span>

<span class="n">H</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
<span class="n">data2</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">6.3</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">6.3</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">4.9</span><span class="p">,</span> <span class="mf">17.9</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">5.4</span><span class="p">,</span> <span class="mf">17.9</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">6.4</span><span class="p">,</span> <span class="mf">16.9</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">17.9</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">4.4</span><span class="p">,</span> <span class="mf">21.2</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">22.1</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">22.2</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">7.6</span><span class="p">,</span> <span class="mf">27.2</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">9.9</span><span class="p">,</span> <span class="mf">28.9</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">9.9</span><span class="p">,</span> <span class="mf">35.5</span><span class="p">]]</span>
<span class="n">data3</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.1</span><span class="p">,</span><span class="mf">9.0</span><span class="p">,</span><span class="mf">8.9</span><span class="p">,</span><span class="mf">8.9</span><span class="p">,</span><span class="mf">10.8</span><span class="p">,</span><span class="mf">8.9</span><span class="p">,</span><span class="mf">9.7</span><span class="p">,</span><span class="mf">11.0</span><span class="p">,</span><span class="mf">11.8</span><span class="p">,</span><span class="mf">12.3</span><span class="p">,</span><span class="mf">14.3</span><span class="p">,{</span><span class="s1">'y'</span><span class="p">:</span> <span class="mf">14.5</span><span class="p">,</span> <span class="s1">'color'</span><span class="p">:</span><span class="s2">"#00FF00"</span><span class="p">}]</span>
<span class="n">lCAPM</span> <span class="o">=</span> <span class="p">[</span><span class="mf">16.2</span><span class="p">,</span><span class="mf">16.2</span><span class="p">,</span><span class="mf">14.4</span><span class="p">,</span><span class="mf">15.6</span><span class="p">,</span><span class="mf">16.9</span><span class="p">,</span><span class="mf">17.1</span><span class="p">,</span><span class="mf">11.8</span><span class="p">,</span><span class="mf">12.2</span><span class="p">,</span><span class="mf">12.3</span><span class="p">,</span><span class="mf">21.2</span><span class="p">,</span><span class="mf">21.9</span><span class="p">,</span><span class="mf">24.6</span><span class="p">]</span>
<span class="n">Damo1</span> <span class="o">=</span> <span class="p">[</span><span class="mf">11.6</span><span class="p">,</span><span class="mf">10.3</span><span class="p">,</span><span class="mf">9.6</span><span class="p">,</span><span class="mf">9.5</span><span class="p">,</span><span class="mf">13.5</span><span class="p">,</span><span class="mf">9.9</span><span class="p">,</span><span class="mf">9.7</span><span class="p">,</span><span class="mf">11.1</span><span class="p">,</span><span class="mf">12.2</span><span class="p">,</span><span class="mf">14.7</span><span class="p">,</span><span class="mf">17.7</span><span class="p">,</span><span class="mf">18.4</span><span class="p">]</span>
<span class="n">intCAPM</span> <span class="o">=</span> <span class="p">[</span><span class="mf">8.8</span><span class="p">,</span><span class="mf">7.9</span><span class="p">,</span><span class="mf">8.3</span><span class="p">,</span><span class="mf">8.1</span><span class="p">,</span><span class="mf">10.9</span><span class="p">,</span><span class="mf">8.8</span><span class="p">,</span><span class="mf">9.4</span><span class="p">,</span><span class="mf">10.6</span><span class="p">,</span><span class="mf">11.7</span><span class="p">,</span><span class="mf">10.3</span><span class="p">,</span><span class="mf">13.9</span><span class="p">,</span><span class="mf">14.5</span><span class="p">]</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data2</span><span class="p">,</span> <span class="s1">'columnrange'</span><span class="p">,</span> <span class="s1">'Range of all approaches'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"#00006F"</span><span class="p">)</span> <span class="c1">#"#FF006F"</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">intCAPM</span><span class="p">,</span> <span class="s1">'spline'</span> <span class="p">,</span> <span class="s1">'International CAPM'</span><span class="p">,</span> <span class="n">lineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'symbol'</span><span class="p">:</span><span class="s1">'diamond'</span><span class="p">,</span> <span class="s1">'fillColor'</span><span class="p">:</span><span class="s1">'#aaccee'</span><span class="p">,</span> <span class="s1">'lineColor'</span><span class="p">:</span><span class="s1">'#aaccee'</span><span class="p">,</span> <span class="s1">'enabled'</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">'radius'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'lineWidth'</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">lCAPM</span><span class="p">,</span> <span class="s1">'spline'</span> <span class="p">,</span> <span class="s1">'Local CAPM'</span><span class="p">,</span> <span class="n">lineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'symbol'</span><span class="p">:</span><span class="s1">'diamond'</span><span class="p">,</span> <span class="s1">'fillColor'</span><span class="p">:</span><span class="s1">'#AA88FF'</span><span class="p">,</span> <span class="s1">'enabled'</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">'radius'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,})</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">Damo1</span><span class="p">,</span> <span class="s1">'spline'</span> <span class="p">,</span> <span class="s1">'Damodaran #1'</span><span class="p">,</span> <span class="n">lineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'symbol'</span><span class="p">:</span><span class="s1">'circle'</span><span class="p">,</span> <span class="s1">'fillColor'</span><span class="p">:</span><span class="s1">'#FFFFFF'</span> <span class="p">,</span><span class="s1">'lineColor'</span><span class="p">:</span><span class="s1">'#FFFFFF'</span><span class="p">,</span> <span class="s1">'enabled'</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">'radius'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'lineWidth'</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">H</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data3</span><span class="p">,</span> <span class="s1">'spline'</span> <span class="p">,</span> <span class="s1">'Mean estimate'</span><span class="p">,</span> <span class="n">lineWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">legendColor</span><span class="o">=</span><span class="s2">"#00FF00"</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'symbol'</span><span class="p">:</span><span class="s1">'cross'</span><span class="p">,</span> <span class="s1">'lineWidth'</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span> <span class="c1">#'fillColor':'#00FFBB','lineColor':"#000000" ,</span>
<span class="n">H</span>
<span class="c1">#'lineColor':'null', 'enabled':True, 'radius': 5,</span>
<span class="c1">#"#00FFBB"</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[383]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<iframe height="500" srcdoc="&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;link href=&quot;https://www.highcharts.com/highslide/highslide.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/highcharts.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/highcharts-more.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/modules/heatmap.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/modules/exporting.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body style=&quot;margin:0;padding:0&quot;&gt; &lt;div id=&quot;container&quot; style=&quot;width:800px;height:500px;&quot;&gt;Loading....&lt;/div&gt; &lt;script&gt; $(function(){ Highcharts.SVGRenderer.prototype.symbols.cross = function (x, y, w, h) { return ['M', x, y, 'L', x + w, y + h, 'M', x + w, y, 'L', x, y + h, 'z']; }; if (Highcharts.VMLRenderer) { Highcharts.VMLRenderer.prototype.symbols.cross = Highcharts.SVGRenderer.prototype.symbols.cross; } (function (H) { H.wrap(H.Legend.prototype, 'colorizeItem', function (proceed, item, visible) { 	item.legendColor = item.options.legendColor; proceed.apply(this, Array.prototype.slice.call(arguments, 1)); }); }(Highcharts)); Highcharts.setOptions({&quot;lang&quot;: {}, &quot;global&quot;: {}}); var option = {&quot;drilldown&quot;: {}, &quot;series&quot;: {}, &quot;legend&quot;: {&quot;align&quot;: &quot;middle&quot;, &quot;y&quot;: 50, &quot;enabled&quot;: true, &quot;verticalAlign&quot;: &quot;top&quot;, &quot;borderWidth&quot;: 1, &quot;borderRadius&quot;: 5, &quot;x&quot;: 600, &quot;backgroundColor&quot;: &quot;#cacaca&quot;, &quot;layout&quot;: &quot;vertical&quot;}, &quot;pane&quot;: {}, &quot;title&quot;: {&quot;text&quot;: &quot;Range of cost of equity estimates split by companies&quot;}, &quot;labels&quot;: {}, &quot;navigation&quot;: {}, &quot;chart&quot;: {&quot;renderTo&quot;: &quot;container&quot;, &quot;width&quot;: 800, &quot;height&quot;: 500, &quot;inverted&quot;: true}, &quot;xAxis&quot;: {&quot;categories&quot;: [&quot;Gazprom&quot;, &quot;Norilsk Nickel&quot;, &quot;Coal India&quot;, &quot;Reliance Industries&quot;, &quot;Sberbank&quot;, &quot;HDFC Bank&quot;, &quot;Ind &amp; Comm. Bank of China&quot;, &quot;China Shenhua Energy&quot;, &quot;PetroChina&quot;, &quot;Itau Unibanco&quot;, &quot;Vale&quot;, &quot;Petr\u00f3leo Brasileiro&quot;]}, &quot;credits&quot;: {&quot;enabled&quot;: false}, &quot;colors&quot;: {}, &quot;subtitle&quot;: {}, &quot;tooltip&quot;: {&quot;valueSuffix&quot;: &quot;%&quot;}, &quot;plotOptions&quot;: {&quot;columnrange&quot;: {&quot;dataLabels&quot;: {&quot;enabled&quot;: true, &quot;format&quot;: &quot;{y}%&quot;}}}, &quot;loading&quot;: {}, &quot;exporting&quot;: {}, &quot;yAxis&quot;: {&quot;max&quot;: 40, &quot;min&quot;: 0, &quot;title&quot;: {&quot;text&quot;: &quot;Cost of Equity ( % )&quot;}}}; var chart = new Highcharts.Chart(option); var data = [{&quot;color&quot;: &quot;#00006F&quot;, &quot;type&quot;: &quot;columnrange&quot;, &quot;name&quot;: &quot;Range of all approaches&quot;, &quot;data&quot;: [[6.3, 16.3], [6.3, 16.3], [4.9, 17.9], [5.4, 17.9], [6.4, 16.9], [6.0, 17.9], [4.4, 21.2], [4.5, 22.1], [4.5, 22.2], [7.6, 27.2], [9.9, 28.9], [9.9, 35.5]]}, {&quot;marker&quot;: {&quot;symbol&quot;: &quot;diamond&quot;, &quot;lineColor&quot;: &quot;#aaccee&quot;, &quot;enabled&quot;: true, &quot;radius&quot;: 5, &quot;lineWidth&quot;: 2, &quot;fillColor&quot;: &quot;#aaccee&quot;}, &quot;lineWidth&quot;: 0, &quot;type&quot;: &quot;spline&quot;, &quot;name&quot;: &quot;International CAPM&quot;, &quot;data&quot;: [8.8, 7.9, 8.3, 8.1, 10.9, 8.8, 9.4, 10.6, 11.7, 10.3, 13.9, 14.5]}, {&quot;marker&quot;: {&quot;symbol&quot;: &quot;diamond&quot;, &quot;enabled&quot;: true, &quot;radius&quot;: 7, &quot;fillColor&quot;: &quot;#AA88FF&quot;}, &quot;lineWidth&quot;: 0, &quot;type&quot;: &quot;spline&quot;, &quot;name&quot;: &quot;Local CAPM&quot;, &quot;data&quot;: [16.2, 16.2, 14.4, 15.6, 16.9, 17.1, 11.8, 12.2, 12.3, 21.2, 21.9, 24.6]}, {&quot;marker&quot;: {&quot;symbol&quot;: &quot;circle&quot;, &quot;lineColor&quot;: &quot;#FFFFFF&quot;, &quot;enabled&quot;: true, &quot;radius&quot;: 5, &quot;lineWidth&quot;: 2, &quot;fillColor&quot;: &quot;#FFFFFF&quot;}, &quot;lineWidth&quot;: 0, &quot;type&quot;: &quot;spline&quot;, &quot;name&quot;: &quot;Damodaran #1&quot;, &quot;data&quot;: [11.6, 10.3, 9.6, 9.5, 13.5, 9.9, 9.7, 11.1, 12.2, 14.7, 17.7, 18.4]}, {&quot;marker&quot;: {&quot;symbol&quot;: &quot;cross&quot;, &quot;lineWidth&quot;: 2}, &quot;lineWidth&quot;: 0, &quot;type&quot;: &quot;spline&quot;, &quot;name&quot;: &quot;Mean estimate&quot;, &quot;data&quot;: [10.1, 9.0, 8.9, 8.9, 10.8, 8.9, 9.7, 11.0, 11.8, 12.3, 14.3, {&quot;y&quot;: 14.5, &quot;color&quot;: &quot;#00FF00&quot;}]}]; var dataLen = data.length; for (var ix = 0; ix &lt; dataLen; ix++) { chart.addSeries(data[ix]); } }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;" style="border:0;outline:none;overflow:hidden" width="800"></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>country of incorporation,</li>
<li>among the largest 20 public companies by market capitalization listed on the main local index, and</li>
<li>operating in either of three domestic market-focused businesses within each country with substantial exposure to local country risk: oil and gas, basic materials, and financials.</li>
</ol>
<p>We select the <i>MSCI World Index</i> as a proxy for the world market. The S&amp;P 500 serves as a proxy for the U.S. market, Bovespa for the Brazilian, <i>Micex</i> for the Russian, <i>S&amp;P; CNX Nifty</i> for the Indian, and Shanghai Shenzhen CSI 300 Index for the Chinese market. All local market risk premiums are based on the Fernandez 2016 surveys<sup>[36](#36)</sup>, the U.S. market risk premium is 6.25% as per Damodaran<sup>[37](#37)</sup>, and the global market risk premium is approximated by the U.S. MRP. To calculate betas, we use two years of weekly returns. All stock market data are from Bloomberg. Finally, for all cost of equity calculations, the cutoff date is June 30, 2016.<sup>[38](#38)</sup></p>
<h3 id="1.-Results">1. Results<a class="anchor-link" href="#1.-Results">¶</a></h3><p>Figure 3 summarizes the results from the cost of equity (COE) estimates calculated for each company as of the end ofJune 2016. We apply all models depicted in Figure 2. The average COE calculated using the various approaches ranges from 8.6% (International CAPM) up to 16.7% (Local CAPM). The mean of all the approaches is 11.5%, the median is 10.6%, and approximately two thirds of the calculated COES are situated within the range of 8% to 14%. The full set of model parameters and case study results are in Table A1-A3<sup>[39](#39)</sup> in the appendix.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="a)-Initial-Key-Findings">a) Initial Key Findings<a class="anchor-link" href="#a)-Initial-Key-Findings">¶</a></h4><ul>
<li>The first obvious finding is the wide range of cost of equity estimates for each company that are calculated using the different. approaches. The average range between the maximum and minimum estimate for each company is 15,4 p ercentage points.</li>
<li>As a reference, we show where estimates from three benchmark models (Local CAPM, International CAPM, Damodaran #1) are situated. Consistent with theory, the use of the local CAPM results in higher COE than the use of the International CAPM, on average and consistently across all companies,which results from the International CAPM's implicit assumption that country risk is diversifiable in an international portfolio. The Damodaran #1 approach, a widely used method, delivers results that hover closely around the mean across models. This quasi-consensus estimates of the Damodaran approach across all relevant models might be one reason for its wide application and popularity among practitioners. A more detailed analysis across models follows below.</li>
<li>The mean/median CoE estimate for each country shows clear differences between the countries that may reflect their specific country risk. The median CoE for Brazil is the highest, at 14.0%, followed by China at 11.0%, Russia at 10.1% and India at 8.9%.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Insert-Figure-4:-Median-adjusted-cost-of-equity-estimates-per-model">Insert Figure 4: Median-adjusted cost of equity estimates per model<a class="anchor-link" href="#Insert-Figure-4:-Median-adjusted-cost-of-equity-estimates-per-model">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We further investigate the results from the various models relative to each other and calculate <i>median-adjusted</i> cost of equity estimates (Figure 4). The median-adjusted cost of equity is the difference between the actual estimate (from a specific model) and the median estimate across all models (for a specific firm), which accounts for firm heterogeneity and enables model comparisons across firms.<sup>[48](#48)</sup> This analysis is particularly useful for assessing the dispersion of the models' cost of equity estimates. Each dot in the figure relates to a specific company. The blue crosses represent the average estimate for each model.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="b)-Additional-Findings">b) Additional Findings<a class="anchor-link" href="#b)-Additional-Findings">¶</a></h4><ul>
<li>Some models do not deliver CoE estimates that lie consistently above or below the average/median CoE estimate across companies and countries (e.g., the CSFB approach and the Goldman Sachs approach); in other words, they result in large variations in cost of equity estimates in the cross-section (Figure 4). This lack of consistency is a main drawback for analysts. For instance, the CSFB approach leads to the highest cost of equity for Brazilian companies and the lowest for Chinese companies. The main reason for this variation is the inclusion of the mean returns and volatility of local stock market indices. Additionally, the Goldman Sachs approach shows a large variation around the median across all firms. This approach results in the highest estimates for the Chinese companies and estimates around the mean for all other companies, primarily because of large variations in the correlation between local equity and the sovereign bond market. In contrast, the Bekaert and Harvey Mixture Model is the model that leads to the most focused estimates, all between -1.5% and +1.3%, compared to the median across all models.</li>
<li>The Local CAPM is the model with the highest cost of equity compared to the median, followed by the Erb-Harvey-Viskanta model and the Damodaran #2 approach. For the reference firms, these models imply relatively „defensive" investment behavior and low asset values on average. On the other end of the scale, the most „aggressive" models in the case study — resulting in the lowest cost of equity and thus highest asset value — are the various variants of the International CAPM. In particular, the International CAPM (Ibbotson) resultS in very low cost of equity, as this approach uses the local country beta instead of the local company beta and, here, the average local country beta is lower than the average company beta (both measured against a global index). Finally, model estimates based on the Salomon-Smith-Barney, the Damodaran or the Bekaert-and-Harvey models do not have substantial outliers from the mean/median across all models.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.-What-are-the-Implications-of-a-Changing-COE?-Sensitivity-Analysis-Using-Gazprom">2. What are the Implications of a Changing COE? Sensitivity Analysis Using Gazprom<a class="anchor-link" href="#2.-What-are-the-Implications-of-a-Changing-COE?-Sensitivity-Analysis-Using-Gazprom">¶</a></h3><p>To understand the impact of a large variance among cost of equity estimates for the individual firm, we discuss the valuation of the Russian company Gazprom. The cost of equity estimates for Gazprom range from a minimum of 6.3% up to 16.3%.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Insert:-Figure-5:-Conceptual-estimation-of-Gazprom's-implied-CoE">Insert: Figure 5: Conceptual estimation of Gazprom's implied CoE<a class="anchor-link" href="#Insert:-Figure-5:-Conceptual-estimation-of-Gazprom's-implied-CoE">¶</a></h1><p>Implied valuation range 5%</p>
<p>CSFB
Erb-Harvey
Cost of Approach
Viskanta
Equity 
a) As of June 30, 2016</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All cost of equity estimates for Gazprom — and the target share price that is dependent on the cost of equity applied — are depicted in Figure 5, We are running a discounted cashflow (DCF) valuation model with consensus cashflows<sup>[41](#41)</sup> over the next ten years, a 2.0% perpetual growth rate, a target debt ratio of 37.0% and static cost of debt of 6.0%. Applying the min or max cost of equity would lead to completely different valuations, with the min CoE estimate of 6.3% resulting in a share value approximately six times higher than the max CoE value of 16.3%. The implied cost of equity (given the share price as of June 30, 2016) is approximately 12%. This market-implied cost of equity is slightly higher than the median of all estimates, which is 10.1%.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="V.-Conclusions:-Recommendations-for-Practitioners">V. Conclusions: Recommendations for Practitioners<a class="anchor-link" href="#V.-Conclusions:-Recommendations-for-Practitioners">¶</a></h2><p>Based on the analysis of the previous sections, we provide some general conclusions. First, current models result in a wide range of cost of equity estimates that can considerably affect management decisions. Therefore, analysts must be clear about the assumptions and drawbacks of each model when valuing investment opportunities in emerging markets, and practitioners should choose their model of country risk with caution. Practitioners may also find our analysis of variation across models useful (see <a href="#Figure3">Figure 3</a>). Although the results for individual models (e.g., the low dispersion across estimates of the Bekaert and Harvey Mixture Model) may not generalize to applications beyond the BRIC countries or the three analyzed industries, analysts may use the median-adjusted cost of equity approach to assess the within-variation for each model for its corresponding application, e.g., country or industry. Our case study of 20 well-known country risk models for reference companies in the BRIC countries (Brazil, Russia, India and China) reveals huge spreads between the models' results of up to 25.6 percentage points for individual firms and 15.4 percentage points on average. Second, none of the presented methods has gained wide acceptance or use. In the short term, despite efforts from both academics and practitioners, reaching consensus on how to appropriately incorporate country risk seems unlikely.</p>
<p>Nevertheless, we can draw lessons learned to provide concluding recommendations. These recommendations build upon five qualitative valuation objectives that are frequently important for investment analysts when choosing a valuation model:
\begin{enumerate}[inline]
\item theoretical foundations,
\item the degree of discretionary elements, 
\item transparency,
\item data availability, and 
\item ease of use \end{enumerate}(see <a href="#Table2">Table 2</a>).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="Table2"></a> Table 2: Model recommendations based on various valuation objectives</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Valuation objective\n\nTheoretical foundations\n\nRecommended models\n\nInternational CAPM\n\nLocal CAPM\n\nDownside CAPM\n\nErb-Harvey-Viskanta Model\n\nHigh number of discretionary elements\n\nSalomon-Smith-Barney Approach\n\nTransparency\n\n\n\nLocal CAPM\n\nInternational CAPM\n\nDownside CAPM\n\nLessard Approach\n\nData availability\n\nDamodaran Approaches\n\nInternational CAPM\n\nHorn et al. Approach\n\nEase of use\n\n\tDamodaran\troaches\n\n\n\n</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For analysts who regard the <i>theoretical foundation</i> of a method as the most important objective, for instance, because the application is in a strict regulatory framework, we recommend applying either of the CAPM versions from the group of conceptual models or the empirical model from Erb-Harveyu Viskanta. In other cases, analysts may want to adjust the cost of equity based on many discretionary elements, ifcompany or sector complexity requires it. In that case, we suggest applying the Salomon-Smith-Barney model. Moreover, if both <i>data availability</i> and <i>ease of use</i> are important model characteristics for the valuation analyst — which is often the case in a normal business setting with both time and resource constraints — we suggest applying, e.g., the Damodaran approaches. Finally, the Lessard approach and the Local, International and Downside CAPM models provide the analyst with transparent calculations, which are relatively easy to follow and verify for third parties.</p>
<p>If several models meet the analyst's requirements, then the analyst can use this subset of models and average the results. Of course, other typical robustness checks in investment valuation, such as sensitivity analysis, peer comparison, historic transaction analysis and consensus estimate verification, are also critical in the context of country risk models. Nevertheless, the valuation of investment opportunities in an international context remains challenging. Developing the standard pricing model for evaluating risk in global markets certainly remains a fruitful area for future research.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="VI.-Appendix">VI. Appendix<a class="anchor-link" href="#VI.-Appendix">¶</a></h2><p>In the following tables you will find the summarized models described in the article and the case study results in detail.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sympy</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">init_printing</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [154]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_local</span><span class="p">,</span> <span class="n">r_us</span><span class="p">,</span> <span class="n">r_global</span><span class="p">,</span> <span class="n">beta_global</span><span class="p">,</span> <span class="n">mrp_global</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">'E[r_</span><span class="si">{i}</span><span class="s1">] r_{f\_local} r_{f\_US} r_{f\_global} </span><span class="se">\\</span><span class="s1">beta_{i\,global} MRP_global'</span><span class="p">)</span>
<span class="n">beta_localglobal</span><span class="p">,</span><span class="n">mrp_us</span><span class="p">,</span> <span class="n">beta_usglobal</span>  <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">'beta_localMarket\,global MRP_US beta_US\,global'</span><span class="p">)</span>
<span class="n">beta_us</span><span class="p">,</span> <span class="n">beta_p</span><span class="p">,</span> <span class="n">beta_local</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">'beta_i\,US beta_p beta_i\,local'</span><span class="p">)</span>
<span class="n">lambdah</span><span class="p">,</span> <span class="n">mrp_local</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">'lambda MRP_local'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [148]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">beta_usglobal</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[148]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\beta_{US,global}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [152]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lambdah</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[152]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\lambda$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [157]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">beta_local</span><span class="p">,</span> <span class="n">mrp_local</span><span class="p">,</span> <span class="n">beta_local</span><span class="p">,</span> <span class="n">beta_localglobal</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[157]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\left ( \beta_{\mathcal{i,lo}}, \quad MRP_{\mathcal{lo}}, \quad \beta_{\mathcal{i,lo}}, \quad \beta_{localMarket,global}\right )$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [158]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_global</span> <span class="o">+</span> <span class="p">(</span><span class="n">beta_global</span><span class="o">*</span><span class="n">mrp_global</span><span class="p">))</span>
<span class="n">iCAPMproxy</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_us</span> <span class="o">+</span> <span class="p">(</span><span class="n">beta_us</span><span class="o">*</span><span class="n">mrp_us</span><span class="p">))</span>
<span class="n">iCAPM_Ibbotson</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_us</span> <span class="o">+</span> <span class="n">beta_localglobal</span> <span class="o">*</span><span class="p">(</span><span class="n">mrp_us</span><span class="o">/</span><span class="n">beta_usglobal</span><span class="p">))</span>
<span class="n">modiCAPM</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_us</span><span class="o">+</span><span class="p">(</span><span class="n">beta_p</span><span class="o">*</span><span class="n">mrp_us</span><span class="p">))</span>
<span class="n">locCAPM</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_local</span> <span class="o">+</span> <span class="p">(</span><span class="n">beta_local</span><span class="o">*</span><span class="n">mrp_local</span><span class="p">))</span>
<span class="n">BHMM</span> <span class="o">=</span> <span class="n">Eq</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span> <span class="n">r_us</span><span class="o">+</span><span class="p">(</span><span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">lambdah</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">beta_local</span><span class="o">*</span><span class="n">mrp_local</span><span class="p">)</span><span class="o">+</span><span class="n">lambdah</span><span class="o">*</span><span class="p">(</span><span class="n">beta_global</span><span class="o">*</span><span class="n">mrp_global</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Show models:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [172]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">models</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[172]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\left [ E[r_{i}] = MRP_{global} \beta_{i,global} + r_{f\_global}, \quad E[r_{i}] = MRP_{US} \beta_{i,US} + r_{f\_US}, \quad E[r_{i}] = \frac{MRP_{US} \beta_{localMarket,global}}{\beta_{US,global}} + r_{f\_US}, \quad E[r_{i}] = MRP_{US} \beta_{p} + r_{f\_US}, \quad E[r_{i}] = MRP_{\mathcal{lo}} \beta_{\mathcal{i,lo}} + r_{f\_local}, \quad E[r_{i}] = MRP_{global} \beta_{i,global} \lambda + MRP_{\mathcal{lo}} \beta_{\mathcal{i,lo}} \left(- \lambda + 1\right) + r_{f\_US}\right ]$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [124]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[124]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = MRP_{global} \beta_{i,global} + r_{f\_global}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [125]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPMproxy</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[125]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = MRP_{US} \beta_{i,US} + r_{f\_US}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [85]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM_Ibbotson</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[85]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = \frac{MRP_{US} \beta_{localMarket,global}}{\beta_{US,global}} + r_{f\_US}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [130]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">modiCAPM</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[130]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = MRP_{US} \beta_{p} + r_{f\_US}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [160]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">locCAPM</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[160]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = MRP_{\mathcal{lo}} \beta_{\mathcal{i,lo}} + r_{f\_local}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [159]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">BHMM</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[159]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = MRP_{global} \beta_{i,global} \lambda + MRP_{\mathcal{lo}} \beta_{\mathcal{i,lo}} \left(- \lambda + 1\right) + r_{f\_US}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [90]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM_Ibbotson</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">r_us</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[90]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\frac{\partial}{\partial r_{f\_US}} E[r_{i}] = \frac{MRP_{US} \beta_{localMarket,global}}{\beta_{US,global}} + r_{f\_US}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [93]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Derivative</span><span class="p">(</span><span class="n">iCAPM_Ibbotson</span><span class="o">.</span><span class="n">rhs</span><span class="p">,</span> <span class="n">r_us</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[93]:</div>
<div class="output_latex output_subarea output_execute_result">
$$\frac{\partial}{\partial r_{f\_US}}\left(\frac{MRP_{US} \beta_{localMarket,global}}{\beta_{US,global}} + r_{f\_US}\right)$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Define a string of models</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [161]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model_names</span><span class="o">=</span><span class="p">[</span><span class="s1">'International CAPM'</span><span class="p">,</span><span class="s1">'International CAPM (US proxy)'</span><span class="p">,</span><span class="s1">'International CAPM (Ibbotson)'</span><span class="p">,</span><span class="s1">'Modified International CAPM (Sabal)'</span><span class="p">,</span><span class="s1">'Local CAPM'</span><span class="p">,</span><span class="s1">'Bekaert and Harvey Mixture Model'</span><span class="p">]</span>
<span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">iCAPM</span><span class="p">,</span> <span class="n">iCAPMproxy</span><span class="p">,</span> <span class="n">iCAPM_Ibbotson</span><span class="p">,</span> <span class="n">modiCAPM</span><span class="p">,</span> <span class="n">locCAPM</span><span class="p">,</span> <span class="n">BHMM</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [75]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">solve</span><span class="p">(</span><span class="n">iCAPM</span><span class="p">,</span> <span class="n">beta_global</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">e_ri</span><span class="p">,</span><span class="mf">0.15</span><span class="p">)</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">mrp_global</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[75]:</div>
<div class="output_latex output_subarea output_execute_result">
$$- \frac{r_{f\_global}}{MRP_{global}} + \frac{0.15}{MRP_{global}}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [69]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM</span><span class="o">.</span><span class="n">rhs</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[69]:</div>
<div class="output_latex output_subarea output_execute_result">
$$MRP_{global} \beta_{i,global} + r_{f\_global}$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [68]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">beta_global</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">r_global</span><span class="p">,</span><span class="mf">0.05</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">mrp_global</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">r_us</span><span class="p">,</span><span class="mf">0.11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[68]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = 0.17$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [78]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iCAPM</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">beta_global</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="n">r_global</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span><span class="n">mrp_global</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span><span class="n">r_us</span><span class="p">:</span><span class="mf">0.11</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[78]:</div>
<div class="output_latex output_subarea output_execute_result">
$$E[r_{i}] = 0.17$$
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>$r_{f\_global} + (\beta_{i,global}\times MRP_{global})$</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [168]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1"># try to put equalities in table and apply/map subs</span>
<span class="n">myDF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Approach'</span><span class="p">,</span><span class="s1">'Formula'</span><span class="p">,</span><span class="s1">'Expected return'</span><span class="p">])</span>
<span class="n">myDF</span><span class="p">[</span><span class="s1">'Approach'</span><span class="p">]</span><span class="o">=</span><span class="n">model_names</span>
<span class="n">myDF</span><span class="p">[</span><span class="s1">'Formula'</span><span class="p">]</span><span class="o">=</span><span class="n">models</span>
<span class="n">myDF</span><span class="p">[</span><span class="s1">'Expected return'</span><span class="p">]</span><span class="o">=</span><span class="mf">0.00</span>
<span class="n">myDF</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="6533ed52-c238-409b-80f5-71696594b565"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#6533ed52-c238-409b-80f5-71696594b565');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "2d8889f5dd0d4dfa9145d7d27ed6fc84", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [163]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myDF</span><span class="p">[</span><span class="s1">'Expected return'</span><span class="p">]</span><span class="o">=</span> <span class="mf">0.00</span>
<span class="n">myDF</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="a0b1313a-9c02-4930-a062-8439025ee6ac"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#a0b1313a-9c02-4930-a062-8439025ee6ac');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "5748c43781634ba2a0a9ad9c1fe11a82", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [178]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myDF</span><span class="p">[</span><span class="s1">'Expected return'</span><span class="p">]</span><span class="o">=</span><span class="n">myDF</span><span class="p">[</span><span class="s1">'Formula'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">.</span><span class="n">rhs</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">beta_global</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="n">r_global</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span><span class="n">mrp_global</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span><span class="n">r_us</span><span class="p">:</span><span class="mf">0.11</span><span class="p">,</span><span class="n">lambdah</span><span class="p">:</span><span class="mf">0.55</span><span class="p">,</span><span class="n">mrp_local</span><span class="p">:</span><span class="mf">0.12</span><span class="p">,</span><span class="n">mrp_us</span><span class="p">:</span><span class="mf">0.115</span><span class="p">,</span><span class="n">beta_us</span><span class="p">:</span><span class="mf">1.1</span><span class="p">,</span><span class="n">beta_local</span><span class="p">:</span><span class="mf">0.86</span><span class="p">,</span><span class="n">beta_localglobal</span><span class="p">:</span><span class="mf">0.77</span><span class="p">,</span><span class="n">beta_usglobal</span><span class="p">:</span><span class="mf">1.07</span><span class="p">,</span><span class="n">r_local</span><span class="p">:</span><span class="mf">0.045</span><span class="p">,</span><span class="n">beta_p</span><span class="p">:</span><span class="mf">1.344</span><span class="p">}))</span>    <span class="c1"># .df['a'] = df['a'].apply(lambda x: x + 1)</span>
<span class="n">myDF</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="4bc7b1a5-8c9f-4e5a-8a9b-a17dab5b4b9f"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#4bc7b1a5-8c9f-4e5a-8a9b-a17dab5b4b9f');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "0738db5992cb41fcbaea46050be778e5", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [171]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">qgrid</span>
<span class="n">qgrid</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<span class="n">myDF</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="3d0c729b-7afc-4419-b13f-93f7e1ffff86"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#3d0c729b-7afc-4419-b13f-93f7e1ffff86');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "08452c6261044591883414c378b6d1f9", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [114]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myDF</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">myDF</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">'Sympy'</span><span class="p">)</span>
<span class="n">myDF</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="d2556eb1-807b-4e5f-87ec-b1b4be4a0ced"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#d2556eb1-807b-4e5f-87ec-b1b4be4a0ced');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_minor": 0, "model_id": "be600b2684644d74b1e90fa8d36f2184", "version_major": 2}
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [110]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Latex</span>
<span class="n">lstring</span> <span class="o">=</span> <span class="n">myDF</span><span class="o">.</span><span class="n">to_latex</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lstring</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'sympytable.tex'</span><span class="p">,</span><span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">lstring</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>\begin{tabular}{lll}
\toprule
{} &amp;                                                  0 &amp;                                    Expected return \\
\midrule
0 &amp;  Eq(E[r\_\{i\}], MRP\_global*\textbackslash beta\_\{i,global\} + r\_\{... &amp;                                  0.170000000000000 \\
1 &amp;  Eq(E[r\_\{i\}], MRP\_US*beta\_localMarket,global/be... &amp;  MRP\_US*beta\_localMarket,global/beta\_US,global ... \\
\bottomrule
\end{tabular}

</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [81]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">hover</span><span class="p">(</span><span class="n">hover_color</span><span class="o">=</span><span class="s2">"#ffff99"</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"tr:hover"</span><span class="p">,</span>
                <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"background-color"</span><span class="p">,</span> <span class="s2">"</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">hover_color</span><span class="p">)])</span>

<span class="n">styles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">hover</span><span class="p">(),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"th"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"font-size"</span><span class="p">,</span> <span class="s2">"150%"</span><span class="p">),</span>
                               <span class="p">(</span><span class="s2">"text-align"</span><span class="p">,</span> <span class="s2">"center"</span><span class="p">)]),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"caption"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"caption-side"</span><span class="p">,</span> <span class="s2">"bottom"</span><span class="p">)])</span>
<span class="p">]</span>
<span class="n">html</span> <span class="o">=</span> <span class="p">(</span><span class="n">myDF</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
          <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">"&lt;a id='Table2'&gt;&lt;/a&gt;Table 2. Overview of CoE Approaches."</span><span class="p">))</span>
<span class="n">html</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-81-82b131c4c5fe&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      9</span>     dict<span class="ansi-yellow-intense-fg ansi-bold">(</span>selector<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-blue-intense-fg ansi-bold">"caption"</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> props<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-blue-intense-fg ansi-bold">"caption-side"</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> <span class="ansi-blue-intense-fg ansi-bold">"bottom"</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">     10</span> ]
<span class="ansi-green-intense-fg ansi-bold">---&gt; 11</span><span class="ansi-yellow-intense-fg ansi-bold"> html = (myDF.style.set_table_styles(styles)
</span><span class="ansi-green-fg">     12</span>           .set_caption("&lt;a id='Table2'&gt;&lt;/a&gt;Table 2. Overview of CoE Approaches."))
<span class="ansi-green-fg">     13</span> html

<span class="ansi-red-intense-fg ansi-bold">NameError</span>: name 'myDF' is not defined</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [98]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">latex</span><span class="p">(</span><span class="n">iCAPM_Ibbotson</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[98]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'E[r_{i}] = \\frac{MRP_{US} \\beta_{localMarket,global}}{\\beta_{US,global}} + r_{f\\_US}'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [225]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">highcharts</span> <span class="k">import</span> <span class="n">Highmap</span>
<span class="kn">from</span> <span class="nn">highmap_helper</span> <span class="k">import</span> <span class="n">jsonp_loader</span><span class="p">,</span> <span class="n">js_map_loader</span><span class="p">,</span> <span class="n">geojson_handler</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">Highmap</span><span class="p">()</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'chart'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'borderWidth'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'marginRight'</span><span class="p">:</span> <span class="mi">50</span> 
    <span class="p">},</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'US Counties unemployment rates, April 2015'</span>
    <span class="p">},</span>
    <span class="s1">'legend'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Unemployment&lt;br&gt;rate'</span><span class="p">,</span>
            <span class="s1">'style'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"(Highcharts.theme &amp;&amp; Highcharts.theme.textColor) || 'black'"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'layout'</span><span class="p">:</span> <span class="s1">'vertical'</span><span class="p">,</span>
        <span class="s1">'align'</span><span class="p">:</span> <span class="s1">'right'</span><span class="p">,</span>
        <span class="s1">'floating'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">'valueDecimals'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">'valueSuffix'</span><span class="p">:</span> <span class="s1">'%'</span><span class="p">,</span>
        <span class="s1">'backgroundColor'</span><span class="p">:</span> <span class="s2">"(Highcharts.theme &amp;&amp; Highcharts.theme.legendBackgroundColor) || 'rgba(255, 255, 255, 0.85)'"</span><span class="p">,</span>
        <span class="s1">'symbolRadius'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">'symbolHeight'</span><span class="p">:</span> <span class="mi">14</span>
    <span class="p">},</span>
    <span class="s1">'mapNavigation'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">},</span>
    <span class="s1">'colorAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'dataClasses'</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">'to'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#F1EEF6"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">'to'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#D4B9DA"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s1">'to'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#C994C7"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="s1">'to'</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#DF65B0"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s1">'to'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#DD1C77"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s1">'from'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"#980043"</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s1">'plotOptions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'map'</span><span class="p">:{</span>
            <span class="s1">'mapData'</span><span class="p">:</span> <span class="s1">'geojson'</span>
        <span class="p">},</span>
        <span class="s1">'mapline'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'showInLegend'</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s1">'enableMouseTracking'</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> 

<span class="n">chart</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

<span class="c1"># read data and map directly from url</span>
<span class="n">data_url</span> <span class="o">=</span> <span class="s1">'http://www.highcharts.com/samples/data/jsonp.php?filename=us-counties-unemployment.json&amp;callback=?'</span>
<span class="n">map_url</span> <span class="o">=</span> <span class="s1">'http://code.highcharts.com/mapdata/countries/us/us-all-all.js'</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">jsonp_loader</span><span class="p">(</span><span class="n">data_url</span><span class="p">)</span>
<span class="n">geojson</span> <span class="o">=</span> <span class="n">js_map_loader</span><span class="p">(</span><span class="n">map_url</span><span class="p">)</span>
<span class="n">mapdata</span> <span class="o">=</span> <span class="n">geojson_handler</span><span class="p">(</span><span class="n">geojson</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">geojson_handler</span><span class="p">(</span><span class="n">geojson</span><span class="p">,</span> <span class="s1">'mapline'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mapdata</span><span class="p">:</span>
    <span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">'name'</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">][</span><span class="s1">'hc-key'</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()})</span>

<span class="c1">#map(lambda x: x['properties'].update({'name':x['properties']['name']+', '+x['properties']['hc-key'].split('-')[1]}), geojson['features'])</span>

<span class="n">chart</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">'map'</span><span class="p">,</span> <span class="s1">'Unemployment rate'</span><span class="p">,</span> <span class="n">joinBy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'hc-key'</span><span class="p">,</span> <span class="s1">'code'</span><span class="p">],</span> 
    <span class="n">tooltip</span><span class="o">=</span><span class="p">{</span><span class="s1">'valueSuffix'</span><span class="p">:</span> <span class="s1">'%'</span><span class="p">},</span>
    <span class="n">borderWidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">states</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">'hover'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'color'</span><span class="p">:</span> <span class="s1">'#bada55'</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">([</span><span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="s1">'mapline'</span><span class="p">,</span> <span class="s1">'State borders'</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">'white'</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">([</span><span class="n">lines</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="s1">'mapline'</span><span class="p">,</span> <span class="s1">'Separator'</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">'gray'</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">add_map_data</span><span class="p">(</span><span class="n">mapdata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ImportError</span>                               Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-225-720ef2185ec9&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-green-intense-fg ansi-bold">from</span> highcharts <span class="ansi-green-intense-fg ansi-bold">import</span> Highmap
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span><span class="ansi-yellow-intense-fg ansi-bold"> </span><span class="ansi-green-intense-fg ansi-bold">from</span> highmap_helper <span class="ansi-green-intense-fg ansi-bold">import</span> jsonp_loader<span class="ansi-yellow-intense-fg ansi-bold">,</span> js_map_loader<span class="ansi-yellow-intense-fg ansi-bold">,</span> geojson_handler
<span class="ansi-green-fg">      3</span> 
<span class="ansi-green-fg">      4</span> chart <span class="ansi-yellow-intense-fg ansi-bold">=</span> Highmap<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      5</span> options = {

<span class="ansi-red-intense-fg ansi-bold">ImportError</span>: No module named 'highmap_helper'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [228]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">highcharts</span> <span class="k">import</span> <span class="n">Highchart</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">Highchart</span><span class="p">()</span>

<span class="n">chart</span><span class="o">.</span><span class="n">set_options</span><span class="p">(</span><span class="s1">'chart'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'inverted'</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Atmosphere Temperature by Altitude'</span>
    <span class="p">},</span>
    <span class="s1">'subtitle'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'According to the Standard Atmosphere Model'</span>
    <span class="p">},</span>
    <span class="s1">'xAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'reversed'</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Altitude'</span>
        <span class="p">},</span>
        <span class="s1">'labels'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'formatter'</span><span class="p">:</span> <span class="s1">'function () {</span><span class="se">\</span>
<span class="s1">                return this.value + "km";</span><span class="se">\</span>
<span class="s1">            }'</span>
        <span class="p">},</span>
        <span class="s1">'maxPadding'</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
        <span class="s1">'showLastLabel'</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">},</span>
    <span class="s1">'yAxis'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'title'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'text'</span><span class="p">:</span> <span class="s1">'Temperature'</span>
        <span class="p">},</span>
        <span class="s1">'labels'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'formatter'</span><span class="p">:</span> <span class="s2">"function () {</span><span class="se">\</span>
<span class="s2">                return this.value + '°';</span><span class="se">\</span>
<span class="s2">            }"</span>
        <span class="p">},</span>
        <span class="s1">'lineWidth'</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="s1">'legend'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">},</span>
    <span class="s1">'tooltip'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'headerFormat'</span><span class="p">:</span> <span class="s1">'&lt;b&gt;</span><span class="si">{series.name}</span><span class="s1">&lt;/b&gt;&lt;br/&gt;'</span><span class="p">,</span>
        <span class="s1">'pointFormat'</span><span class="p">:</span> <span class="s1">'</span><span class="si">{point.x}</span><span class="s1"> km: </span><span class="si">{point.y}</span><span class="s1">°C'</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">chart</span><span class="o">.</span><span class="n">set_dict_options</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span>  <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mf">56.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mf">46.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mf">22.1</span><span class="p">],</span> 
<span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mf">27.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="o">-</span><span class="mf">55.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.5</span><span class="p">]]</span>
<span class="n">chart</span><span class="o">.</span><span class="n">add_data_set</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">'spline'</span><span class="p">,</span> <span class="s1">'Temperature'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="p">{</span><span class="s1">'enabled'</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span> 

<span class="n">chart</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[228]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<iframe height="520" srcdoc="&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;link href=&quot;https://www.highcharts.com/highslide/highslide.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/highcharts.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/highcharts-more.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/modules/heatmap.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.highcharts.com/modules/exporting.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body style=&quot;margin:0;padding:0&quot;&gt; &lt;div id=&quot;container&quot; style=&quot;&quot;&gt;Loading....&lt;/div&gt; &lt;script&gt; $(function(){ Highcharts.setOptions({&quot;lang&quot;: {}, &quot;global&quot;: {}}); var option = {&quot;drilldown&quot;: {}, &quot;series&quot;: {}, &quot;legend&quot;: {&quot;enabled&quot;: false}, &quot;pane&quot;: {}, &quot;title&quot;: {&quot;text&quot;: &quot;Atmosphere Temperature by Altitude&quot;}, &quot;labels&quot;: {}, &quot;navigation&quot;: {}, &quot;chart&quot;: {&quot;renderTo&quot;: &quot;container&quot;, &quot;inverted&quot;: true}, &quot;xAxis&quot;: {&quot;labels&quot;: {&quot;formatter&quot;: function () { return this.value + &quot;km&quot;; }}, &quot;maxPadding&quot;: 0.05, &quot;showLastLabel&quot;: true, &quot;reversed&quot;: false, &quot;title&quot;: {&quot;enabled&quot;: true, &quot;text&quot;: &quot;Altitude&quot;}}, &quot;credits&quot;: {&quot;enabled&quot;: false}, &quot;colors&quot;: {}, &quot;subtitle&quot;: {&quot;text&quot;: &quot;According to the Standard Atmosphere Model&quot;}, &quot;tooltip&quot;: {&quot;pointFormat&quot;: &quot;{point.x} km: {point.y}\u00b0C&quot;, &quot;headerFormat&quot;: &quot;&lt;b&gt;{series.name}&lt;/b&gt;&lt;br/&gt;&quot;}, &quot;plotOptions&quot;: {}, &quot;loading&quot;: {}, &quot;exporting&quot;: {}, &quot;yAxis&quot;: {&quot;labels&quot;: {&quot;formatter&quot;: function () { return this.value + '°'; }}, &quot;lineWidth&quot;: 2, &quot;title&quot;: {&quot;text&quot;: &quot;Temperature&quot;}}}; var chart = new Highcharts.Chart(option); var data = [{&quot;marker&quot;: {&quot;enabled&quot;: false}, &quot;type&quot;: &quot;spline&quot;, &quot;name&quot;: &quot;Temperature&quot;, &quot;data&quot;: [[0, 15], [10, -50], [20, -56.5], [30, -46.5], [40, -22.1], [50, -2.5], [60, -27.7], [70, -55.7], [80, -76.5]]}]; var dataLen = data.length; for (var ix = 0; ix &lt; dataLen; ix++) { chart.addSeries(data[ix]); } }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;" style="border:0;outline:none;overflow:hidden" width="820"></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [260]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="k">import</span> <span class="n">HTML</span>
<span class="k">def</span> <span class="nf">css_styling</span><span class="p">():</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"../styles/custom2.css"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
<span class="n">css_styling</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[260]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<link href="http://fonts.googleapis.com/css?family=Fenix" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Alegreya+Sans:100,300,400,500,700,800,900,100italic,300italic,400italic,500italic,700italic,800italic,900italic" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400" rel="stylesheet" type="text/css"/>
<style>
    @font-face {
        font-family: "Computer Modern";
        src: url('https://fivethirtyeight.com/wp-content/themes/espn-fivethirtyeight/assets/fonts/ArnhemPro-Normal.woff2');
    }
    div.cell{
        width:950px;
        margin-left:10% !important;
        margin-right:auto;
    }
    h1 {
        font-family: 'Alegreya Sans', sans-serif;
    }
    h2 {
        font-family: 'Fenix', serif;
    }
    h3{
		font-family: 'Fenix', serif;
        margin-top:12px;
        margin-bottom: 3px;
       }
	h4{
		font-family: 'Fenix', serif;
       }
    h5 {
        font-family: 'Alegreya Sans', sans-serif;
    }	   
    div.text_cell_render{
        font-family: Computer Modern, "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;
        line-height: 135%;
        font-size: 120%;
        width:750px;
        margin-left:auto;
        margin-right:auto;
    }
    .CodeMirror{
            font-family: "Source Code Pro";
			font-size: 90%;
    }
/*    .prompt{
        display: None;
    }*/
    .text_cell_render h1 {
        font-weight: 200;
        font-size: 50pt;
		line-height: 100%;
        color:#CD2305;
        margin-bottom: 0.5em;
        margin-top: 0.5em;
        display: block;
    }	
    .text_cell_render h5 {
        font-weight: 300;
        font-size: 16pt;
        color: #CD2305;
        font-style: italic;
        margin-bottom: .5em;
        margin-top: 0.5em;
        display: block;
    }
    
    .warning{
        color: rgb( 240, 20, 20 )
        }  
</style>
<script>
    MathJax.Hub.Config({
                        TeX: {
                           extensions: ["AMSmath.js"]
                           },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                },
                displayAlign: 'center', // Change this to 'center' to center equations.
                "HTML-CSS": {
                    styles: {'.MathJax_Display': {"margin": 4}}
                }
        });
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [248]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">tabulate</span>
<span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">"Sun"</span><span class="p">,</span><span class="mi">696000</span><span class="p">,</span><span class="mi">1989100000</span><span class="p">],</span>
         <span class="p">[</span><span class="s2">"Earth"</span><span class="p">,</span><span class="mi">6371</span><span class="p">,</span><span class="mf">5973.6</span><span class="p">],</span>
         <span class="p">[</span><span class="s2">"Moon"</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mf">73.5</span><span class="p">],</span>
         <span class="p">[</span><span class="s2">"Mars"</span><span class="p">,</span><span class="mi">3390</span><span class="p">,</span><span class="mf">641.85</span><span class="p">]]</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">tabulate</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s1">'html'</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<table>
<tbody>
<tr><td>Sun  </td><td style="text-align: right;">696000</td><td style="text-align: right;">   1.9891e+09</td></tr>
<tr><td>Earth</td><td style="text-align: right;">  6371</td><td style="text-align: right;">5973.6       </td></tr>
<tr><td>Moon </td><td style="text-align: right;">  1737</td><td style="text-align: right;">  73.5       </td></tr>
<tr><td>Mars </td><td style="text-align: right;">  3390</td><td style="text-align: right;"> 641.85      </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [399]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table2</span><span class="o">=</span><span class="p">[[</span>  <span class="mi">27</span><span class="p">,</span><span class="s1">'The three criteria are as follows: i) access to capital markets, ii) exposure cf investment to po21 See Damodaran, op. cit. (fn. 10). litical risk, and iiii the importance of the investment to the investor, represented by Gammav 22 García-Sánchez/Preve/Sarria-AIIende, Journal ofApplied Corporate Finance 2010 g. 100.Gammazr and Gamma3 in the formula.</span><span class="se">\n\n</span><span class="s1">23 The default spread Is defned as the spread between two countries</span><span class="se">\'</span><span class="s1">government bonds with similar'</span><span class="p">],</span>
<span class="p">[</span><span class="mi">28</span><span class="p">,</span><span class="s1">'Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157. denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a '</span><span class="p">],</span>
<span class="p">[</span><span class="mi">29</span><span class="p">,</span><span class="s1">'Lessard, Journal of Applied Corporate Finance 1996 p. 52.</span><span class="se">\n\n</span><span class="s1">U.S. government bond is chosen risk-free benchmark, and both bondsare denominated in USD.'</span><span class="p">],</span>
<span class="p">[</span><span class="mi">30</span><span class="p">,</span><span class="s1">'Morningstar/lbbotson, International Cost ofCapital Report 2011 24'</span><span class="p">]]</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">tabulate</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table2</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s1">'html'</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<table>
<tbody>
<tr><td style="text-align: right;">27</td><td>The three criteria are as follows: i) access to capital markets, ii) exposure cf investment to po21 See Damodaran, op. cit. (fn. 10). litical risk, and iiii the importance of the investment to the investor, represented by Gammav 22 García-Sánchez/Preve/Sarria-AIIende, Journal ofApplied Corporate Finance 2010 g. 100.Gammazr and Gamma3 in the formula.

23 The default spread Is defned as the spread between two countries'government bonds with similar                                                                                                                                                 </td></tr>
<tr><td style="text-align: right;">28</td><td>Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157. denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a</td></tr>
<tr><td style="text-align: right;">29</td><td>Lessard, Journal of Applied Corporate Finance 1996 p. 52.

U.S. government bond is chosen risk-free benchmark, and both bondsare denominated in USD.                                                                                                                                                 </td></tr>
<tr><td style="text-align: right;">30</td><td>Morningstar/lbbotson, International Cost ofCapital Report 2011 24                                                                               </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Footnotes-Alt.-1">Footnotes Alt. 1<a class="anchor-link" href="#Footnotes-Alt.-1">¶</a></h2><ol>
<li><p><a id="1"></a> The contents of this paper are for discussion purposes only, represent the authors' views only,  and are not intended to represent the opinions of Deutsche Bank and DZ BANK. Although this document was crafted with the greatest care, the authors nonetheless accept no liability arising from errors, misinterpretations or misstatements that may be contained herein.</p>
</li>
<li><p><a id="2"></a>A recent survey published in the Harvard Business Review revealed that 83% ofthe surveyed firms (150 companies from North America and Europe with more than USD 1.0 bn in revenues) "suffered significant losses since 2010" from their investments in emerging markets; see Hochberg, Klick, and Reilly. Harvard Business Review, What companies have learned from losing billions in emerging markets, available at: <a href="http://hbfm.link/2290">http://hbfm.link/2290</a>, retrieved 01.09.2017.</p>
</li>
<li><p><a id="3"></a>Graham/Harvey, JournaI of Financial Economics 2001 p. 187.</p>
</li>
<li><p><a id="4"></a>KPMG, Kapitalkostenstudie 2016, Wertmessung — quo vadis?, available at: [<a href="http://hbfm.link/2291">http://hbfm.link/2291</a>], retrieved 01.09.2017.</p>
</li>
<li><p><a id="5"></a>Bekaert/Harvey/Lundblad/Siegel, Journal of Corporate Finance, 2016 p. 1</p>
</li>
<li><p><a id="6"></a> A discussion of the International CAPM and its formal definition follow in Section <a href="#sec.3.1">III.1</a></p>
</li>
<li><p><a id="7"></a> Carrieri/Chaieb/Errunza, Review of Financial Studies 2013 p. 1694.</p>
</li>
<li><p><a id="8"></a> By segmented markets, we mean markets that are sufficiently isolated such that investors domiciled in one market cannot access the other market, and vice versa.</p>
</li>
<li><p><a id="9"></a> Erb/Campbell/Harvey/Tadas/Viskanta, Country Risk in Global Financial Management, the Research Foundation ofthe Institute of Chartered Financial Analysts, 1997, available at: <a href="http://hbfm.linkf2292">http://hbfm.linkf2292</a>, retrieved 01.09.2017.</p>
</li>
<li><p><a id="10"></a> Damodaran, Equity Risk Premiums (ERP): Determinants, Estimation and Implications — the 2013 Edition, 2013, available at: <a href="http://hbfm.link/2293">http://hbfm.link/2293</a>, retrieved 01.09.2017.</p>
</li>
<li><p><a id="11"></a> The investor in this example is U.S.-based, and the valuation is performed in USD. For illustration, we select Russia, Brazil, Ireland, and Argentina — all countries with substantial country-risk exposures. The companies are from the finance irdustry and mainly operate in their domestic markets.</p>
</li>
<li><p><a id="12"></a>Detailed calculations for the Ilustrative example in Figure 1 are available on request.</p>
</li>
<li><p><a id="13"></a>We referto <a href="#TableA1">Table A1</a> in the Appendix for a complete list of these 20 approaches, including calculation formulas.</p>
</li>
<li><p><a id="14"></a> For further details and a discussion on the estimation of the risk-free rate („Basiszinz"), see Kruschwitz/Löffler, WPg 2008 p.805 (806).</p>
</li>
<li><p><a id="15"></a> The Beta for the MSCI Emerging Frontier Markets Africa ex South Africa Index (EM Index) against MSCI World is only 0.46, although the EM index is more volatile and considered riskier than the MSCI World. This result can be attributed primarily to the low correlation between those two markets. The beta is calculated as of June 30, 2016, based on two years of historical weekly returns.</p>
</li>
<li><p><a id="16"></a>There is no consistent name convention. The group of models presented herein is frequently called Global CAPM, World CAPM, or Single-Factor International CAPM.</p>
</li>
<li><p><a id="17"></a>Pratt/Grabowski, Cost of Capital, Applications and Examples, 2008.</p>
</li>
<li><p><a id="18"></a>Breuer/Ruiz de Vargas, BewP 2015 p. 2; Breuer/Ruiz de Vargas, BewP 2015 p. 50; Sabal, Journal of Applied Corporate Finance 2004 p. 155.</p>
</li>
<li><p><a id="19"></a>Bekaert/Harvey, Journal of Finance 1995 p. 403. Described in Harvey, 12 Ways to Calculate the International Cost of Capital, 2005, available at: <a href="http://hbfm.link/2299">http://hbfm.link/2299</a>, retrieved 01.09.2017.</p>
</li>
<li><p><a id="20"></a>Erb/Campbell/Viskanta, The Journal of Portfolio Management 1996 (Spring) p. 46.</p>
</li>
<li><p><a id="21"></a>See Damodaran, op. cit. (fn. 10).</p>
</li>
<li><p><a id="22"></a>García-Sánchez/Preve/Sarria-Allende, Journal of Applied Corporate Finance 2010 p. 100.</p>
</li>
<li><p><a id="23"></a>The default spread Is defned as the spread between two countries' government bonds with similar denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a U.S. government bond is chosen as the risk-free benchmark, and both bonds are denominated in USD.</p>
</li>
<li><p><a id="24"></a>Current figures found at <a href="http://pages.stern.nyu.edu/~adamodar/">http://pages.stern.nyu.edu/~adamodar/</a>.</p>
</li>
<li><p><a id="25"></a>See Damodaran, op. cit. (fn. 10).</p>
</li>
<li><p><a id="26"></a>Zenner/Akaydin, A Practical Approach to the International Valuation and Capital Allocation Puzzle (Global Corporate Finance, Salomon/Smith/Barney, 2002).</p>
</li>
<li><p><a id="27"></a>The three criteria are as follows: i) access to capital markets, ii) exposure of investment to political risk, and iii) the importance of the investment to the investor, represented by $Gamma_1$, $Gammaz_2$ and $Gamma_3$ in the formula.</p>
</li>
<li><p><a id="28"></a>Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157.</p>
</li>
<li><p><a id="29"></a>Lessard, Journal of Applied Corporate Finance 1996 p. 52.\n\n</p>
</li>
<li><p><a id="30"></a>Morningstar/lbbotson, International Cost ofCapital Report 2011</p>
</li>
<li><p><a id="30"></a>Estrada, Emerging Markets Review 2002 p. 365.</p>
</li>
<li><p><a id="32"></a>Hauptman/Natella, The cost of equity in Latin America: The eternal doubt, Credit Suisse First Boston, Equity Research, May 20 1997.</p>
</li>
<li><p><a id="33"></a>See Harvey, The International Cost of Capital and Risk Calculator (ICRC), 2001, available at: <a href="http://hbfm.link/2295">http://hbfm.link/2295</a>, retrieved 08.08.2017 or Harvey, op.cit. (fn. 19).</p>
</li>
<li><p><a id="34"></a>Godfrey/Espinosa, Journal of Applied Corporate Finance 1996 p. 80.</p>
</li>
<li><p><a id="35"></a>Mariscal/Hargis, A long-term perspective on short-term risk: Long-term discount rates for emerging markets, Goldman Sachs Investment Research, 1999.</p>
</li>
<li><p><a id="36"></a>Fernandez/0rtiz/Acín, Market Risk Premium Used in 71 Countries in 2016: A Survey with 6,932  Answers, SSRN Scholarly Paper 2016, <a href="http://papers.ssrn.com/abstract=2776636">http://papers.ssrn.com/abstract=2776636</a>, retrieved 01.09.2017.</p>
</li>
<li><p><a id="37"></a>Damodaran regularly publishes market risk premium estimates on his homepage: <a href="http://pages.stern.nyu.edu/~adamodar/">http://pages.stern.nyu.edu/~adamodar/</a>. Accessed August 2016.</p>
</li>
<li><p><a id="38"></a>Our Erb-Harvey-Viskanta (1996) estimates are based on published numbers from year-end 2014, but the results nonetheless offer an indication of the CoE estimates level.</p>
</li>
<li><p><a id="39"></a>Tahle A3 is online available under XQI1249764 in the CORPORATE FINANCE Database {www.cf-fachportal.de) and under <a href="http://hbfm.link/2345">http://hbfm.link/2345</a>.</p>
</li>
<li><p><a id="40"></a>For instance, for Reliance (India), the Local CAPM produces a cost of equity of 15.6% and the median estimate across all models is 8.9%; hence, the median-adjusted cost Of equity is 6.7%.</p>
</li>
<li><p><a id="41"></a>Based on anonymous equity research analyst estimates from global investment banks.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Footnotes">Footnotes<a class="anchor-link" href="#Footnotes">¶</a></h2><p><font face="Alegreya Sans"><a id="27"></a></font></p>
<p><table style="width:150%;font-size:102%;"></table></p>
<p><tr><td>1</td><td style="text-align:left;">'The three criteria are as follows: i) access to capital markets, ii) exposure cf investment to po21 See Damodaran, op. cit. (fn. 10). litical risk, and iiii the importance of the investment to the investor, represented by Gammav 22 García-Sánchez/Preve/Sarria-AIIende, Journal ofApplied Corporate Finance 2010 g. 100.Gammazr and Gamma3 in the formula.\n\n23 The default spread Is defned as the spread between two countries\'government bonds with similar'
</td></tr>
<tr><td>10</td><td>Damodaran, Equity Risk Premiums (ERP):Determinants, Estimation and Implications - the </td></tr>
&lt;/table&gt;&lt;/font&gt;</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [79]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FNotes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Footnotes.ssv'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">';'</span><span class="p">,</span> <span class="n">skip_blank_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">'Nr.'</span><span class="p">,</span><span class="s1">'Footnote'</span><span class="p">],</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">#FNotes = FNotes.reset_index(drop=True)</span>

<span class="n">styles2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">hover</span><span class="p">(),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"th"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"font-size"</span><span class="p">,</span> <span class="s2">"150%"</span><span class="p">),</span>
                               <span class="p">(</span><span class="s2">"text-align"</span><span class="p">,</span> <span class="s2">"left"</span><span class="p">)]),</span>
    <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">"caption"</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s2">"caption-side"</span><span class="p">,</span> <span class="s2">"bottom"</span><span class="p">)])</span>
<span class="p">]</span>


<span class="n">html</span> <span class="o">=</span> <span class="p">(</span><span class="n">FNotes</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
          <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">"&lt;a id='Table2'&gt;&lt;/a&gt;Table 2. Overview of CoE Approaches."</span><span class="p">))</span>
<span class="n">html</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[79]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<style type="text/css">
    #T_573e7df0_62bc_11e8_a364_00231814a6fb tr:hover {
          background-color: #ffff99;
    }    #T_573e7df0_62bc_11e8_a364_00231814a6fb th {
          font-size: 150%;
          text-align: center;
    }    #T_573e7df0_62bc_11e8_a364_00231814a6fb caption {
          caption-side: bottom;
    }</style>
<table id="T_573e7df0_62bc_11e8_a364_00231814a6fb"><caption><a id="Table2"></a>Table 2. Overview of CoE Approaches.</caption>
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">Footnote</th>
</tr> <tr>
<th class="index_name level0">Nr.</th>
<th class="blank"></th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row0">1</th>
<td class="data row0 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow0_col0"> <a id="1"></a> The contents of this paper are for discussion purposes only, represent the authors' views only,  and are not intended to represent the opinions of Deutsche Bank and DZ BANK. Although this document was crafted with the greatest care, the authors nonetheless accept no liability arising from errors, misinterpretations or misstatements that may be contained herein.</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row1">2</th>
<td class="data row1 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow1_col0"> <a id="2"></a>A recent survey published in the Harvard Business Review revealed that 83% ofthe surveyed firms (150 companies from North America and Europe with more than USD 1.0 bn in revenues) "suffered significant losses since 2010" from their investments in emerging markets</td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row2">3</th>
<td class="data row2 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow2_col0"> <a id="3"></a>Graham/Harvey, JournaI of Financial Economics 2001 p. 187.</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row3">4</th>
<td class="data row3 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow3_col0"> <a id="4"></a>KPMG, Kapitalkostenstudie 2016, Wertmessung — quo vadis?, available at: [http://hbfm.link/2291], retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row4" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row4">5</th>
<td class="data row4 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow4_col0"> <a id="5"></a>Bekaert/Harvey/Lundblad/Siegel, Journal of Corporate Finance, 2016 p. 1</td>
</tr> <tr>
<th class="row_heading level0 row5" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row5">6</th>
<td class="data row5 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow5_col0"> <a id="6"></a> A discussion of the International CAPM and its formal definition follow in Section [III.1](#sec.3.1)</td>
</tr> <tr>
<th class="row_heading level0 row6" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row6">7</th>
<td class="data row6 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow6_col0"> <a id="7"></a> Carrieri/Chaieb/Errunza, Review of Financial Studies 2013 p. 1694.</td>
</tr> <tr>
<th class="row_heading level0 row7" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row7">8</th>
<td class="data row7 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow7_col0"> <a id="8"></a> By segmented markets, we mean markets that are sufficiently isolated such that investors domiciled in one market cannot access the other market, and vice versa.</td>
</tr> <tr>
<th class="row_heading level0 row8" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row8">9</th>
<td class="data row8 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow8_col0"> <a id="9"></a> Erb/Campbell/Harvey/Tadas/Viskanta, Country Risk in Global Financial Management, the Research Foundation ofthe Institute of Chartered Financial Analysts, 1997, available at: http://hbfm.linkf2292, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row9" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row9">10</th>
<td class="data row9 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow9_col0"> <a id="10"></a> Damodaran, Equity Risk Premiums (ERP): Determinants, Estimation and Implications — the 2013 Edition, 2013, available at: http://hbfm.link/2293, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row10" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row10">11</th>
<td class="data row10 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow10_col0"> <a id="11"></a> The investor in this example is U.S.-based, and the valuation is performed in USD. For illustration, we select Russia, Brazil, Ireland, and Argentina — all countries with substantial country-risk exposures. The companies are from the finance irdustry and mainly operate in their domestic markets.</td>
</tr> <tr>
<th class="row_heading level0 row11" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row11">12</th>
<td class="data row11 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow11_col0"> <a id="12"></a>Detailed calculations for the Ilustrative example in Figure 1 are available on request.</td>
</tr> <tr>
<th class="row_heading level0 row12" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row12">13</th>
<td class="data row12 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow12_col0"> <a id="13"></a>We referto [Table A1](#TableA1) in the Appendix for a complete list of these 20 approaches, including calculation formulas.</td>
</tr> <tr>
<th class="row_heading level0 row13" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row13">14</th>
<td class="data row13 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow13_col0"> <a id="14"></a> For further details and a discussion on the estimation of the risk-free rate („Basiszinz"), see Kruschwitz/Löffler, WPg 2008 p.805 (806).</td>
</tr> <tr>
<th class="row_heading level0 row14" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row14">15</th>
<td class="data row14 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow14_col0"> <a id="15"></a> The Beta for the MSCI Emerging Frontier Markets Africa ex South Africa Index (EM Index) against MSCI World is only 0.46, although the EM index is more volatile and considered riskier than the MSCI World. This result can be attributed primarily to the low correlation between those two markets. The beta is calculated as of June 30, 2016, based on two years of historical weekly returns.</td>
</tr> <tr>
<th class="row_heading level0 row15" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row15">16</th>
<td class="data row15 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow15_col0"> <a id="16"></a>There is no consistent name convention. The group of models presented herein is frequently called Global CAPM, World CAPM, or Single-Factor International CAPM.</td>
</tr> <tr>
<th class="row_heading level0 row16" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row16">17</th>
<td class="data row16 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow16_col0"> <a id="17"></a>Pratt/Grabowski, Cost of Capital, Applications and Examples, 2008.</td>
</tr> <tr>
<th class="row_heading level0 row17" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row17">18</th>
<td class="data row17 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow17_col0"> <a id="18"></a>Breuer/Ruiz de Vargas, BewP 2015 p. 2, Breuer/Ruiz de Vargas, BewP 2015 p. 50</td>
</tr> <tr>
<th class="row_heading level0 row18" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row18">19</th>
<td class="data row18 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow18_col0"> <a id="19"></a>Bekaert/Harvey, Journal of Finance 1995 p. 403. Described in Harvey, 12 Ways to Calculate the International Cost of Capital, 2005, available at: http://hbfm.link/2299, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row19" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row19">20</th>
<td class="data row19 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow19_col0"> <a id="20"></a>Erb/Campbell/Viskanta, The Journal of Portfolio Management 1996 (Spring) p. 46. </td>
</tr> <tr>
<th class="row_heading level0 row20" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row20">21</th>
<td class="data row20 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow20_col0"> <a id="21"></a>See Damodaran, op. cit. (fn. 10). </td>
</tr> <tr>
<th class="row_heading level0 row21" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row21">22</th>
<td class="data row21 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow21_col0"> <a id="22"></a>García-Sánchez/Preve/Sarria-Allende, Journal of Applied Corporate Finance 2010 p. 100.</td>
</tr> <tr>
<th class="row_heading level0 row22" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row22">23</th>
<td class="data row22 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow22_col0"> <a id="23"></a>The default spread Is defned as the spread between two countries' government bonds with similar denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a U.S. government bond is chosen as the risk-free benchmark, and both bonds are denominated in USD.</td>
</tr> <tr>
<th class="row_heading level0 row23" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row23">24</th>
<td class="data row23 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow23_col0"> <a id="24"></a>Current figures found at http://pages.stern.nyu.edu/~adamodar/. </td>
</tr> <tr>
<th class="row_heading level0 row24" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row24">25</th>
<td class="data row24 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow24_col0"> <a id="25"></a>See Damodaran, op. cit. (fn. 10).</td>
</tr> <tr>
<th class="row_heading level0 row25" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row25">26</th>
<td class="data row25 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow25_col0"> <a id="26"></a>Zenner/Akaydin, A Practical Approach to the International Valuation and Capital Allocation Puzzle (Global Corporate Finance, Salomon/Smith/Barney, 2002).</td>
</tr> <tr>
<th class="row_heading level0 row26" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row26">27</th>
<td class="data row26 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow26_col0"> <a id="27"></a>The three criteria are as follows: i) access to capital markets, ii) exposure of investment to political risk, and iii) the importance of the investment to the investor, represented by $Gamma_1$, $Gammaz_2$ and $Gamma_3$ in the formula.</td>
</tr> <tr>
<th class="row_heading level0 row27" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row27">28</th>
<td class="data row27 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow27_col0"> <a id="28"></a>Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157. </td>
</tr> <tr>
<th class="row_heading level0 row28" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row28">29</th>
<td class="data row28 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow28_col0"> <a id="29"></a>Lessard, Journal of Applied Corporate Finance 1996 p. 52.</td>
</tr> <tr>
<th class="row_heading level0 row29" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row29">30</th>
<td class="data row29 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow29_col0"> <a id="30"></a>Morningstar/lbbotson, International Cost ofCapital Report 2011 </td>
</tr> <tr>
<th class="row_heading level0 row30" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row30">31</th>
<td class="data row30 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow30_col0"> <a id="30"></a>Estrada, Emerging Markets Review 2002 p. 365.</td>
</tr> <tr>
<th class="row_heading level0 row31" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row31">32</th>
<td class="data row31 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow31_col0"> <a id="32"></a>Hauptman/Natella, The cost of equity in Latin America: The eternal doubt, Credit Suisse First Boston, Equity Research, May 20 1997.</td>
</tr> <tr>
<th class="row_heading level0 row32" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row32">33</th>
<td class="data row32 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow32_col0"> <a id="33"></a>See Harvey, The International Cost of Capital and Risk Calculator (ICRC), 2001, available at: http://hbfm.link/2295, retrieved 08.08.2017 or Harvey, op.cit. (fn. 19).</td>
</tr> <tr>
<th class="row_heading level0 row33" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row33">34</th>
<td class="data row33 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow33_col0"> <a id="34"></a>Godfrey/Espinosa, Journal of Applied Corporate Finance 1996 p. 80.</td>
</tr> <tr>
<th class="row_heading level0 row34" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row34">35</th>
<td class="data row34 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow34_col0"> <a id="35"></a>Mariscal/Hargis, A long-term perspective on short-term risk: Long-term discount rates for emerging markets, Goldman Sachs Investment Research, 1999.</td>
</tr> <tr>
<th class="row_heading level0 row35" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row35">36</th>
<td class="data row35 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow35_col0"> <a id="36"></a>Fernandez/0rtiz/Acín, Market Risk Premium Used in 71 Countries in 2016: A Survey with 6,932  Answers, SSRN Scholarly Paper 2016, http://papers.ssrn.com/abstract=2776636, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row36" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row36">37</th>
<td class="data row36 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow36_col0"> <a id="37"></a>Damodaran regularly publishes market risk premium estimates on his homepage: http://pages.stern.nyu.edu/~adamodar/. Accessed August 2016.</td>
</tr> <tr>
<th class="row_heading level0 row37" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row37">38</th>
<td class="data row37 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow37_col0"> <a id="38"></a>Our Erb-Harvey-Viskanta (1996) estimates are based on published numbers from year-end 2014, but the results nonetheless offer an indication of the CoE estimates level.</td>
</tr> <tr>
<th class="row_heading level0 row38" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row38">39</th>
<td class="data row38 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow38_col0"> <a id="39"></a>Tahle A3 is online available under XQI1249764 in the CORPORATE FINANCE Database {www.cf-fachportal.de) and under http://hbfm.link/2345.</td>
</tr> <tr>
<th class="row_heading level0 row39" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row39">40</th>
<td class="data row39 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow39_col0"> <a id="40"></a>For instance, for Reliance (India), the Local CAPM produces a cost of equity of 15.6% and the median estimate across all models is 8.9%</td>
</tr> <tr>
<th class="row_heading level0 row40" id="T_573e7df0_62bc_11e8_a364_00231814a6fblevel0_row40">41</th>
<td class="data row40 col0" id="T_573e7df0_62bc_11e8_a364_00231814a6fbrow40_col0"> <a id="41"></a>Based on anonymous equity research analyst estimates from global investment banks.</td>
</tr></tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [80]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">html</span> <span class="o">=</span> <span class="p">(</span><span class="n">FNotes</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">styles</span><span class="p">)</span>
          <span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">"&lt;a id='Table2'&gt;&lt;/a&gt;Table 2. Overview of CoE Approaches."</span><span class="p">))</span>
<span class="n">html</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[80]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<style type="text/css">
    #T_615e2d48_62bc_11e8_bc51_00231814a6fb tr:hover {
          background-color: #ffff99;
    }    #T_615e2d48_62bc_11e8_bc51_00231814a6fb th {
          font-size: 150%;
          text-align: center;
    }    #T_615e2d48_62bc_11e8_bc51_00231814a6fb caption {
          caption-side: bottom;
    }</style>
<table id="T_615e2d48_62bc_11e8_bc51_00231814a6fb"><caption><a id="Table2"></a>Table 2. Overview of CoE Approaches.</caption>
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">Footnote</th>
</tr> <tr>
<th class="index_name level0">Nr.</th>
<th class="blank"></th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row0">1</th>
<td class="data row0 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow0_col0"> <a id="1"></a> The contents of this paper are for discussion purposes only, represent the authors' views only,  and are not intended to represent the opinions of Deutsche Bank and DZ BANK. Although this document was crafted with the greatest care, the authors nonetheless accept no liability arising from errors, misinterpretations or misstatements that may be contained herein.</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row1">2</th>
<td class="data row1 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow1_col0"> <a id="2"></a>A recent survey published in the Harvard Business Review revealed that 83% ofthe surveyed firms (150 companies from North America and Europe with more than USD 1.0 bn in revenues) "suffered significant losses since 2010" from their investments in emerging markets</td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row2">3</th>
<td class="data row2 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow2_col0"> <a id="3"></a>Graham/Harvey, JournaI of Financial Economics 2001 p. 187.</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row3">4</th>
<td class="data row3 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow3_col0"> <a id="4"></a>KPMG, Kapitalkostenstudie 2016, Wertmessung — quo vadis?, available at: [http://hbfm.link/2291], retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row4" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row4">5</th>
<td class="data row4 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow4_col0"> <a id="5"></a>Bekaert/Harvey/Lundblad/Siegel, Journal of Corporate Finance, 2016 p. 1</td>
</tr> <tr>
<th class="row_heading level0 row5" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row5">6</th>
<td class="data row5 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow5_col0"> <a id="6"></a> A discussion of the International CAPM and its formal definition follow in Section [III.1](#sec.3.1)</td>
</tr> <tr>
<th class="row_heading level0 row6" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row6">7</th>
<td class="data row6 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow6_col0"> <a id="7"></a> Carrieri/Chaieb/Errunza, Review of Financial Studies 2013 p. 1694.</td>
</tr> <tr>
<th class="row_heading level0 row7" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row7">8</th>
<td class="data row7 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow7_col0"> <a id="8"></a> By segmented markets, we mean markets that are sufficiently isolated such that investors domiciled in one market cannot access the other market, and vice versa.</td>
</tr> <tr>
<th class="row_heading level0 row8" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row8">9</th>
<td class="data row8 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow8_col0"> <a id="9"></a> Erb/Campbell/Harvey/Tadas/Viskanta, Country Risk in Global Financial Management, the Research Foundation ofthe Institute of Chartered Financial Analysts, 1997, available at: http://hbfm.linkf2292, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row9" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row9">10</th>
<td class="data row9 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow9_col0"> <a id="10"></a> Damodaran, Equity Risk Premiums (ERP): Determinants, Estimation and Implications — the 2013 Edition, 2013, available at: http://hbfm.link/2293, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row10" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row10">11</th>
<td class="data row10 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow10_col0"> <a id="11"></a> The investor in this example is U.S.-based, and the valuation is performed in USD. For illustration, we select Russia, Brazil, Ireland, and Argentina — all countries with substantial country-risk exposures. The companies are from the finance irdustry and mainly operate in their domestic markets.</td>
</tr> <tr>
<th class="row_heading level0 row11" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row11">12</th>
<td class="data row11 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow11_col0"> <a id="12"></a>Detailed calculations for the Ilustrative example in Figure 1 are available on request.</td>
</tr> <tr>
<th class="row_heading level0 row12" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row12">13</th>
<td class="data row12 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow12_col0"> <a id="13"></a>We referto [Table A1](#TableA1) in the Appendix for a complete list of these 20 approaches, including calculation formulas.</td>
</tr> <tr>
<th class="row_heading level0 row13" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row13">14</th>
<td class="data row13 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow13_col0"> <a id="14"></a> For further details and a discussion on the estimation of the risk-free rate („Basiszinz"), see Kruschwitz/Löffler, WPg 2008 p.805 (806).</td>
</tr> <tr>
<th class="row_heading level0 row14" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row14">15</th>
<td class="data row14 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow14_col0"> <a id="15"></a> The Beta for the MSCI Emerging Frontier Markets Africa ex South Africa Index (EM Index) against MSCI World is only 0.46, although the EM index is more volatile and considered riskier than the MSCI World. This result can be attributed primarily to the low correlation between those two markets. The beta is calculated as of June 30, 2016, based on two years of historical weekly returns.</td>
</tr> <tr>
<th class="row_heading level0 row15" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row15">16</th>
<td class="data row15 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow15_col0"> <a id="16"></a>There is no consistent name convention. The group of models presented herein is frequently called Global CAPM, World CAPM, or Single-Factor International CAPM.</td>
</tr> <tr>
<th class="row_heading level0 row16" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row16">17</th>
<td class="data row16 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow16_col0"> <a id="17"></a>Pratt/Grabowski, Cost of Capital, Applications and Examples, 2008.</td>
</tr> <tr>
<th class="row_heading level0 row17" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row17">18</th>
<td class="data row17 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow17_col0"> <a id="18"></a>Breuer/Ruiz de Vargas, BewP 2015 p. 2, Breuer/Ruiz de Vargas, BewP 2015 p. 50</td>
</tr> <tr>
<th class="row_heading level0 row18" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row18">19</th>
<td class="data row18 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow18_col0"> <a id="19"></a>Bekaert/Harvey, Journal of Finance 1995 p. 403. Described in Harvey, 12 Ways to Calculate the International Cost of Capital, 2005, available at: http://hbfm.link/2299, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row19" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row19">20</th>
<td class="data row19 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow19_col0"> <a id="20"></a>Erb/Campbell/Viskanta, The Journal of Portfolio Management 1996 (Spring) p. 46. </td>
</tr> <tr>
<th class="row_heading level0 row20" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row20">21</th>
<td class="data row20 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow20_col0"> <a id="21"></a>See Damodaran, op. cit. (fn. 10). </td>
</tr> <tr>
<th class="row_heading level0 row21" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row21">22</th>
<td class="data row21 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow21_col0"> <a id="22"></a>García-Sánchez/Preve/Sarria-Allende, Journal of Applied Corporate Finance 2010 p. 100.</td>
</tr> <tr>
<th class="row_heading level0 row22" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row22">23</th>
<td class="data row22 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow22_col0"> <a id="23"></a>The default spread Is defned as the spread between two countries' government bonds with similar denominations, yields,terms and currencies,where one ofthe bonds is defined as risk-free.Typically, a U.S. government bond is chosen as the risk-free benchmark, and both bonds are denominated in USD.</td>
</tr> <tr>
<th class="row_heading level0 row23" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row23">24</th>
<td class="data row23 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow23_col0"> <a id="24"></a>Current figures found at http://pages.stern.nyu.edu/~adamodar/. </td>
</tr> <tr>
<th class="row_heading level0 row24" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row24">25</th>
<td class="data row24 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow24_col0"> <a id="25"></a>See Damodaran, op. cit. (fn. 10).</td>
</tr> <tr>
<th class="row_heading level0 row25" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row25">26</th>
<td class="data row25 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow25_col0"> <a id="26"></a>Zenner/Akaydin, A Practical Approach to the International Valuation and Capital Allocation Puzzle (Global Corporate Finance, Salomon/Smith/Barney, 2002).</td>
</tr> <tr>
<th class="row_heading level0 row26" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row26">27</th>
<td class="data row26 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow26_col0"> <a id="27"></a>The three criteria are as follows: i) access to capital markets, ii) exposure of investment to political risk, and iii) the importance of the investment to the investor, represented by $Gamma_1$, $Gammaz_2$ and $Gamma_3$ in the formula.</td>
</tr> <tr>
<th class="row_heading level0 row27" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row27">28</th>
<td class="data row27 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow27_col0"> <a id="28"></a>Harn/Emmel/Schmidt/Gatzer, CF 2015 p. 157. </td>
</tr> <tr>
<th class="row_heading level0 row28" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row28">29</th>
<td class="data row28 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow28_col0"> <a id="29"></a>Lessard, Journal of Applied Corporate Finance 1996 p. 52.</td>
</tr> <tr>
<th class="row_heading level0 row29" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row29">30</th>
<td class="data row29 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow29_col0"> <a id="30"></a>Morningstar/lbbotson, International Cost ofCapital Report 2011 </td>
</tr> <tr>
<th class="row_heading level0 row30" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row30">31</th>
<td class="data row30 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow30_col0"> <a id="30"></a>Estrada, Emerging Markets Review 2002 p. 365.</td>
</tr> <tr>
<th class="row_heading level0 row31" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row31">32</th>
<td class="data row31 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow31_col0"> <a id="32"></a>Hauptman/Natella, The cost of equity in Latin America: The eternal doubt, Credit Suisse First Boston, Equity Research, May 20 1997.</td>
</tr> <tr>
<th class="row_heading level0 row32" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row32">33</th>
<td class="data row32 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow32_col0"> <a id="33"></a>See Harvey, The International Cost of Capital and Risk Calculator (ICRC), 2001, available at: http://hbfm.link/2295, retrieved 08.08.2017 or Harvey, op.cit. (fn. 19).</td>
</tr> <tr>
<th class="row_heading level0 row33" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row33">34</th>
<td class="data row33 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow33_col0"> <a id="34"></a>Godfrey/Espinosa, Journal of Applied Corporate Finance 1996 p. 80.</td>
</tr> <tr>
<th class="row_heading level0 row34" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row34">35</th>
<td class="data row34 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow34_col0"> <a id="35"></a>Mariscal/Hargis, A long-term perspective on short-term risk: Long-term discount rates for emerging markets, Goldman Sachs Investment Research, 1999.</td>
</tr> <tr>
<th class="row_heading level0 row35" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row35">36</th>
<td class="data row35 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow35_col0"> <a id="36"></a>Fernandez/0rtiz/Acín, Market Risk Premium Used in 71 Countries in 2016: A Survey with 6,932  Answers, SSRN Scholarly Paper 2016, http://papers.ssrn.com/abstract=2776636, retrieved 01.09.2017.</td>
</tr> <tr>
<th class="row_heading level0 row36" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row36">37</th>
<td class="data row36 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow36_col0"> <a id="37"></a>Damodaran regularly publishes market risk premium estimates on his homepage: http://pages.stern.nyu.edu/~adamodar/. Accessed August 2016.</td>
</tr> <tr>
<th class="row_heading level0 row37" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row37">38</th>
<td class="data row37 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow37_col0"> <a id="38"></a>Our Erb-Harvey-Viskanta (1996) estimates are based on published numbers from year-end 2014, but the results nonetheless offer an indication of the CoE estimates level.</td>
</tr> <tr>
<th class="row_heading level0 row38" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row38">39</th>
<td class="data row38 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow38_col0"> <a id="39"></a>Tahle A3 is online available under XQI1249764 in the CORPORATE FINANCE Database {www.cf-fachportal.de) and under http://hbfm.link/2345.</td>
</tr> <tr>
<th class="row_heading level0 row39" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row39">40</th>
<td class="data row39 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow39_col0"> <a id="40"></a>For instance, for Reliance (India), the Local CAPM produces a cost of equity of 15.6% and the median estimate across all models is 8.9%</td>
</tr> <tr>
<th class="row_heading level0 row40" id="T_615e2d48_62bc_11e8_bc51_00231814a6fblevel0_row40">41</th>
<td class="data row40 col0" id="T_615e2d48_62bc_11e8_bc51_00231814a6fbrow40_col0"> <a id="41"></a>Based on anonymous equity research analyst estimates from global investment banks.</td>
</tr></tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;&lt;</span><span class="n">td</span> <span class="n">style</span><span class="o">=</span><span class="s2">"color:red"</span><span class="o">&gt;</span><span class="n">a</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="n">td</span> <span class="n">style</span><span class="o">=</span><span class="s2">"background-color:#f1f1c1;"</span><span class="o">&gt;</span><span class="n">b</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;&lt;</span><span class="n">td</span> <span class="n">style</span><span class="o">=</span><span class="s2">" height: 50px;"</span><span class="o">&gt;</span><span class="mi">3</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="n">td</span> <span class="n">style</span><span class="o">=</span><span class="s2">"vertical-align:bottom; text-align:center;"</span><span class="o">&gt;</span><span class="mi">4</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://xima-git.github.io/Eigenkapitalkosten.html">posted at 20:00</a>
                    &nbsp;&middot;&nbsp;<a href="https://xima-git.github.io/category/posts.html" rel="tag">posts</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://xima-git.github.io/tag/python.html" class="tags">python</a>
                </div>
            </article>            <h4 class="date">Jun 18, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://xima-git.github.io/me-in-iberia.html" rel="bookmark" title="Permanent Link to &quot;Aventura Iberolusana&quot;">Aventura Iberolusana</a>
                </h2>

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Fluege.csv'</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="c1"># sep=",",names=range(12))</span>
<span class="c1">#Data['Passenger']='Henning Schmies'</span>
<span class="n">Data</span>
<span class="c1">#Data['Price'].sum()</span>
<span class="c1">#Data['Price'].mean()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Carrier</th>
<th>Depart_AP</th>
<th>Depart_Code</th>
<th>Depart_Date</th>
<th>Arrival_AP</th>
<th>Arrival_Code</th>
<th>Arrival_Date</th>
<th>Flight_Nr</th>
<th>Seat</th>
<th>Reservation</th>
<th>Passenger</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>RyanAir</td>
<td>Cologen(Bonn)</td>
<td>CGN</td>
<td>Wed 28 Feb 18 - 10:10</td>
<td>Madrid T1</td>
<td>MAD</td>
<td>Wed 28 Feb 18 - 12:50</td>
<td>FR3016</td>
<td>6E</td>
<td>DNQL5Y</td>
<td>Henning Schmies</td>
<td>21.56</td>
</tr>
<tr>
<th>1</th>
<td>RyanAir</td>
<td>Madrid T1</td>
<td>MAD</td>
<td>Mon 05 Mar 18 - 6:25</td>
<td>Cologne(Bonn)</td>
<td>CGN</td>
<td>Mon 05 Mar 18 - 09:00</td>
<td>FR3017</td>
<td>11F</td>
<td>DNQL5Y</td>
<td>Henning Schmies</td>
<td>26.99</td>
</tr>
<tr>
<th>2</th>
<td>RyanAir</td>
<td>Köln</td>
<td>CGN</td>
<td>M0 19 Mar 18 - 09:25</td>
<td>Madrid</td>
<td>MAD</td>
<td>M0 19 Mar 18 - 12:05</td>
<td>FR3016</td>
<td>20C</td>
<td>K46ZJH</td>
<td>Henning Schmies</td>
<td>21.99</td>
</tr>
<tr>
<th>3</th>
<td>RyanAir</td>
<td>Madrid T1</td>
<td>MAD</td>
<td>Wed 21 Mar 18 - 09:20</td>
<td>Porto</td>
<td>OPO</td>
<td>Wed 21 Mar 18 - 09:40</td>
<td>FR 5482</td>
<td>NaN</td>
<td>KQ55VI</td>
<td>Henning Schmies</td>
<td>22.02</td>
</tr>
<tr>
<th>4</th>
<td>RyanAir</td>
<td>Porto</td>
<td>OPO</td>
<td>Wed 21 Mar 18 - 14:00</td>
<td>Lissabon</td>
<td>LIS</td>
<td>Wed 21 Mar 18 - 15:00</td>
<td>FR2695</td>
<td></td>
<td>TVHUTJ</td>
<td>Henning Schmies</td>
<td>12.99</td>
</tr>
<tr>
<th>5</th>
<td>RyanAir</td>
<td>Porto</td>
<td>OPO</td>
<td>Tu 27 Mar 18 - 06:30</td>
<td>Barcelona El Prat</td>
<td>BCN</td>
<td>Tu 27 Mar 18 - 09:20</td>
<td>FR 4584</td>
<td>NaN</td>
<td>D39LPX</td>
<td>Henning Schmies</td>
<td>27.53</td>
</tr>
<tr>
<th>6</th>
<td>RyanAir</td>
<td>Barcelona Girona</td>
<td>GRO</td>
<td>30 Mar 18 - 09:00</td>
<td>Düsseldorf Weeze</td>
<td>NRN</td>
<td>FR 30 Mar 18- 11:10</td>
<td>FR6391</td>
<td>NaN</td>
<td>PNP9QB</td>
<td>Henning Schmies</td>
<td>14.99</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Baggage</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Gepäckitems.csv'</span><span class="p">)</span>
<span class="n">Baggage</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Item</th>
<th>Gewicht</th>
<th>Eingepackt</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Koffer Eigengewicht</td>
<td>2500</td>
<td>Ja</td>
</tr>
<tr>
<th>1</th>
<td>Ferrero Küsschen</td>
<td>212</td>
<td>Nein</td>
</tr>
<tr>
<th>2</th>
<td>Günter</td>
<td>93</td>
<td>Nein</td>
</tr>
<tr>
<th>3</th>
<td>Das Geisterhaus</td>
<td>434</td>
<td>Nein</td>
</tr>
<tr>
<th>4</th>
<td>Portugal Reiseführer</td>
<td>298</td>
<td>Nein</td>
</tr>
<tr>
<th>5</th>
<td>Blaue Hose</td>
<td>581</td>
<td>Ja</td>
</tr>
<tr>
<th>6</th>
<td>Grauer Hoody</td>
<td>467</td>
<td>Ja</td>
</tr>
<tr>
<th>7</th>
<td>12 Unterhosen</td>
<td>731</td>
<td>Ja</td>
</tr>
<tr>
<th>8</th>
<td>Chillhose</td>
<td>228</td>
<td>Nein</td>
</tr>
<tr>
<th>9</th>
<td>Rucksack</td>
<td>435</td>
<td>Nein</td>
</tr>
<tr>
<th>10</th>
<td>Blauer Pulli</td>
<td>395</td>
<td>Ja</td>
</tr>
<tr>
<th>11</th>
<td>Grau-blaue Jacke</td>
<td>549</td>
<td>Nein</td>
</tr>
<tr>
<th>12</th>
<td>Sandfarbener Pulli</td>
<td>262</td>
<td>Ja</td>
</tr>
<tr>
<th>13</th>
<td>4 Tshirts</td>
<td>520</td>
<td>Ja</td>
</tr>
<tr>
<th>14</th>
<td>4 Paar Socken</td>
<td>240</td>
<td>Ja</td>
</tr>
<tr>
<th>15</th>
<td>Schlafi</td>
<td>410</td>
<td>Ja</td>
</tr>
<tr>
<th>16</th>
<td>Kulturzeug</td>
<td>427</td>
<td>Ja</td>
</tr>
<tr>
<th>17</th>
<td>Schlafhörnchen</td>
<td>254</td>
<td>Nein</td>
</tr>
<tr>
<th>18</th>
<td>Maus</td>
<td>88</td>
<td>Nein</td>
</tr>
<tr>
<th>19</th>
<td>Ladegerät Läppi</td>
<td>390</td>
<td>Nein</td>
</tr>
<tr>
<th>20</th>
<td>Laufschuhe</td>
<td>743</td>
<td>Nein</td>
</tr>
<tr>
<th>21</th>
<td>3 Taschentücher</td>
<td>41</td>
<td>Ja</td>
</tr>
<tr>
<th>22</th>
<td>Dreckige Laufsocken</td>
<td>53</td>
<td>Nein</td>
</tr>
<tr>
<th>23</th>
<td>Sportbody</td>
<td>161</td>
<td>Nein</td>
</tr>
<tr>
<th>24</th>
<td>Sportbüx</td>
<td>205</td>
<td>Nein</td>
</tr>
<tr>
<th>25</th>
<td>Trikot</td>
<td>158</td>
<td>Nein</td>
</tr>
<tr>
<th>26</th>
<td>Hemd</td>
<td>148</td>
<td>Ja</td>
</tr>
<tr>
<th>27</th>
<td>Handtuch</td>
<td>282</td>
<td>Ja</td>
</tr>
<tr>
<th>28</th>
<td>Osterkram</td>
<td>390</td>
<td>Ja</td>
</tr>
<tr>
<th>29</th>
<td>Filme</td>
<td>90</td>
<td>Ja</td>
</tr>
<tr>
<th>30</th>
<td>Buch Portugal</td>
<td>571</td>
<td>Nein</td>
</tr>
<tr>
<th>31</th>
<td>Rasierer</td>
<td>284</td>
<td>Nein</td>
</tr>
<tr>
<th>32</th>
<td>kleine Reiseführer</td>
<td>265</td>
<td>Nein</td>
</tr>
<tr>
<th>33</th>
<td>Fila-Shirt</td>
<td>253</td>
<td>Nein</td>
</tr>
<tr>
<th>34</th>
<td>gr. Jacke</td>
<td>380</td>
<td>Ja</td>
</tr>
<tr>
<th>35</th>
<td>hohe Schuhe</td>
<td>682</td>
<td>Ja</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Baggage[Baggage['Eingepackt']== 'Ja']</span>
<span class="c1">#Baggage['Eingepackt'].dtype</span>

<span class="c1">#d = Baggage.groupby('Eingepackt')</span>
<span class="c1">#d.apply(lambda x: x[x['Gewicht']])</span>

<span class="n">Baggage</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">Baggage</span><span class="p">,</span><span class="s1">'Eingepackt'</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Gewicht</th>
</tr>
<tr>
<th>Eingepackt</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Ja</th>
<td>8546</td>
</tr>
<tr>
<th>Nein</th>
<td>5390</td>
</tr>
<tr>
<th>Nein</th>
<td>284</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [96]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Acco</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Acco.csv'</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s1">'all'</span><span class="p">)</span><span class="c1">#.dropna(0)</span>
<span class="n">Acco</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[96]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Nacht von</th>
<th>auf</th>
<th>Stadt</th>
<th>Unterkunft</th>
<th>Addresse</th>
<th>Preis</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>28.02.2018</td>
<td>01.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>01.03.2018</td>
<td>02.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>02.03.2018</td>
<td>03.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>03.03.2018</td>
<td>04.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>04.03.2018</td>
<td>05.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>6</th>
<td>19.03.2018</td>
<td>20.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>7</th>
<td>20.03.2018</td>
<td>21.03.2018</td>
<td>Madrid</td>
<td>bei Isabell</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr>
<th>8</th>
<td>21.03.2018</td>
<td>22.03.2018</td>
<td>Lissabon</td>
<td>Rare spot</td>
<td>https://www.airbnb.de/rooms/3846633?location=T...</td>
<td>33.50</td>
</tr>
<tr>
<th>9</th>
<td>22.03.2018</td>
<td>23.03.2018</td>
<td>Lissabon</td>
<td>Rare spot</td>
<td>NaN</td>
<td>33.50</td>
</tr>
<tr>
<th>10</th>
<td>23.03.2018</td>
<td>24.03.2018</td>
<td>Lissabon</td>
<td>Rare spot</td>
<td>NaN</td>
<td>33.50</td>
</tr>
<tr>
<th>11</th>
<td>24.03.2018</td>
<td>25.03.2018</td>
<td>Porto</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>12</th>
<td>25.03.2018</td>
<td>26.03.2018</td>
<td>Porto</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>13</th>
<td>26.03.2018</td>
<td>27.03.2018</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>14</th>
<td>27.03.2018</td>
<td>28.03.2018</td>
<td>Barcelona</td>
<td>NaN</td>
<td>NaN</td>
<td>22.83</td>
</tr>
<tr>
<th>15</th>
<td>28.03.2018</td>
<td>29.03.2018</td>
<td>Barcelona</td>
<td>NaN</td>
<td>NaN</td>
<td>22.83</td>
</tr>
<tr>
<th>16</th>
<td>29.03.2018</td>
<td>30.03.2018</td>
<td>Barcelona</td>
<td>NaN</td>
<td>NaN</td>
<td>22.83</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [97]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Acco</span><span class="p">[</span><span class="s1">'Preis'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[97]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>168.99000000000001</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [94]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ToDo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Espana_todo.csv'</span><span class="p">)</span>
<span class="n">ToDo</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[94]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Name</th>
<th>Typ</th>
<th>Adresse</th>
<th>GPS?</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>'#Sehenswürdigkeiten'</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>Sagrada Iglesia</td>
<td></td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [55]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'display.max_colwidth'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Madrid</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'Sitios_Madrid.csv'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="c1">#names=range(14))</span>
<span class="c1">#Madrid["text"] = Madrid["text"].str.wrap(100)</span>
<span class="c1">#Madrid</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"link"</span><span class="p">]</span> <span class="o">=</span> <span class="n">Madrid</span><span class="p">[</span><span class="s2">"link"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">'&lt;a href="</span><span class="si">{0}</span><span class="s1">"&gt;</span><span class="si">{0}</span><span class="s1">&lt;/a&gt;'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="c1">#Madrid["text"] = Madrid["text"].apply(lambda x: '&lt;style&gt;.{0} {{ text-align: left; }}&lt;/style&gt;'.format(x))</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"text"</span><span class="p">]</span> <span class="o">=</span> <span class="n">Madrid</span><span class="p">[</span><span class="s2">"text"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">'&lt;p align="left"&gt;</span><span class="si">{0}</span><span class="s1">.&lt;/p&gt;'</span> <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="c1">#Madrid.style.set_properties(subset=Madrid.columns[4], # left-align the non-numeric columns and set their width</span>
                     <span class="c1">#   **{'width':'10em', 'text-align':'left'})\</span>
<span class="c1">#HTML(Madrid.to_html(escape=False))</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">Madrid</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">escape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"</span><span class="se">\\</span><span class="s2">n"</span><span class="p">,</span><span class="s2">"&lt;br&gt;"</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Centro de Arte Reina Sofía</td>
<td>3.249.591</td>
<td>3.646.598</td>
<td><p align="left">El Museo, que abrió sus puertas en 1990 con la intención de reflejar la contemporaneidad artística española, se compone de más de 20.000 obras realizadas entre finales del siglo XIX y la actualidad. De ellas se exhibe aproximadamente un cinco por ciento de artistas de la talla de Pablo Picasso, Joan Miró, Salvador Dalí, Juan Gris, Robert Delaunay, Georges Braque, Yves Klein, Robert Motherwell, Francis Bacon, Richard Serra, Alexander Calder, René Magritte, Gerhard Richter, Antoni Muntadas, Michelangelo Pistoletto, Sol LeWitt o Marcel Broodthaers. La pieza central es Guernica (1937), de Pablo Picasso.Además el Reina Sofía se constituye como espacio de debate e investigación a través de seminarios y programas universitarios con exposiciones, colecciones y actividades..</p></td>
<td><a href="http://www.museoreinasofia.es/">http://www.museoreinasofia.es/</a></td>
</tr>
<tr>
<th>1</th>
<td>Museo Nacional del Prado</td>
<td>2.696.666</td>
<td>3.033.754</td>
<td><p align="left">Las exposiciones temporales más visitadas, de las celebradas en el propio Prado, han sido «El Bosco. La exposición del V Centenario» que alcanzó los 589.692 visitantes, «Ingres» con 402.690 y «Georges de La Tour» que superó las 163.750 visitas.\rEl Museo del Prado fue inaugurado el 19 de noviembre de 1819 y recibió el nombre del Prado porque fue levantado en el llamado «Prado de los Jerónimos», ocupando terrenos próximos al Monasterio de San Jerónimo El Real. En la actualidad reúne cerca de 8.000 pinturas, más de 6.500 dibujos, unos 3.000 grabados y casi 2.800 piezas de artes decorativas, en las que destaca también un conjunto de monedas y medallas.\r\rEn sus paredes hay obras de Goya (133 pinturas), Velázquez (48 pinturas), El Greco (36 pinturas y 2 esculturas) o Ribera (51 pinturas) entre otros muchos genios de la pintura..</p></td>
<td><a href="http://www.museodelprado.es/">http://www.museodelprado.es/</a></td>
</tr>
<tr>
<th>2</th>
<td>El Parque Warner Madrid</td>
<td></td>
<td>1.68</td>
<td><p align="left">Entrar en el parque es sumergirse en un mundo de película de la factoría Warner con Superman o Batman entre los superhéroes y disfrutar de arriesgadas montañas rusas, atracciones y espectáculos para toda la familia.<br/><br/>Los más pequeños disfrutar visitando las atracciones y espectáculos de Cartoon Village y entrar en las casitas de sus personajes preferidos para saludar y fotografiarse con los personajes de los Looney Tunes como Piolín o el Pato Lucas..</p></td>
<td><a href="http://parquewarner.com/">http://parquewarner.com/</a></td>
</tr>
<tr>
<th>3</th>
<td>Palacio Real de Madrid</td>
<td></td>
<td>1.475.421</td>
<td><p align="left">El Palacio Real se asienta sobre el solar del antiguo Alcázar de Madrid, fortaleza medieval convertida en suntuoso palacio por Juan II, Carlos V y Felipe II, que lo convirtió desde 1561 en la residencia oficial de los reyes de España. Todo el edificio está formado por bóvedas sin madera en la estructura y con muchas plantas, para que tuvieran cabida todas las oficinas del gobierno, los oficios de la Real Casa y los servidores.<br/><br/>La primera piedra se puso en 1738 y la construcción no se acabó hasta 1751, aunque hasta 1759 prosiguieron tanto la decoración escultórica del entorno como las obras exteriores bajo la dirección de Sacchetti. Carlos III fue el primer monarca que habitó en el Palacio Real donde se instaló en 1764.<br/><br/>Carlos III, que ya contaba con Corrado Giaquinto como pintor de la Corte, llamó a los otros dos pintores de mayor fama en Italia, el veneciano Giambattista Tiepolo y el alemán, de formación romana, Antonio Rafael Mengs, su primer pintor de cámara. La sucesión de frescos pintados por estos maestros en las principales salas, y por sus discípulos españoles en las demás, constituye una de las características más importantes de esta residencia donde Carlos III y Carlos IV vivían solo ocho semanas al año: en diciembre, Semana Santa y parte de julio.<br/><br/>El cuarto del rey Carlos III, que abarca los aposentos de este soberano ilustrado, conserva toda la decoración fija dirigida por Sabatini, uniforme en toda la planta principal: puertas y ventanas de caoba maciza; ricos mármoles españoles en embocaduras y frisos; estucos y frescos en las bóvedas. En el siglo XVIII, además, las paredes del palacio quedaban completamente cubiertas por los mejores cuadros de la Colección Real.<br/><br/>El Salón del Trono y la Cámara de Gasparini constituyen los conjuntos más representativos del gusto de Carlos III, apegado al estilo rococó en su versión italiana más exuberante. A Carlos IV se deben importantes conjuntos neoclásicos y piezas de mobiliario francés y a Fernando VII, la colección de arañas francesas en bronce y cristal. La última renovación decorativa a la que responde el estado histórico actual de la decoración se debe a Alfonso XII en 1879.<br/><br/>A lo largo de la fachada de Oriente se extienden los aposentos de Carlos IV y María Luisa, donde han habitado los sucesivos soberanos hasta 1931. Estas salas son utilizadas habitualmente por S.M. el Rey para sus audiencias, pues el Palacio Real de Madrid continúa siendo la residencia oficial del Rey de España.<br/><br/>La Real Armería, la más importante colección europea junto con la de Viena, ambas debidas a los Habsburgo, fue instalada junto al Alcázar por Felipe II y transferida al pabellón actual en 1891. También a Felipe II se debe la creación del Parque de Palacio, llamado Campo del Moro. [Fuente: Patrimonio Nacional]. .</p></td>
<td><a href="https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid">https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid</a></td>
</tr>
<tr>
<th>4</th>
<td>Estadio Santiago Bernabéu</td>
<td>NaN</td>
<td>1.2 millones</td>
<td><p align="left">El estadio Santiago Bernabéu si situó quinto en la lista gracias al 1,2 millones de personas que fueron a visitarlo. La catedral del madridismo se ha convertido en uno de los principales destinos de los turistas que llegan a la capital. Recorrer el estadio, visitar el museo del Real Madrid con su impresionante colección de trofeos, sentarse en el banquillo que habitualmente ocupan el entrenador y las principales figuras del club merengue, o pisar su mítico césped es una opción elegida por muchos visitantes de la ciudad cada año. La visita se hace sin guía e incluye: panorámica del estadio, sala «Mejor Club de la Historia», sala Sensaciones, fotomontajes, terreno de juego, palco presidencial, vestuarios, túnel de jugadores, banquillos y zona técnica, sala de prensa y tienda..</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>5</th>
<td>Museo Thyssen</td>
<td>NaN</td>
<td>1.06 millones</td>
<td><p align="left">El Museo Thyssen-Bornemiszan, inaugurado en 1992, atrajo durante 2016 a 1,06 millones de visitantes. El Museo, ubicado en el Palacio de Villahermosa, en la esquina del paseo del Prado con la carrera de San Jerónimo, ofrece al público un recorrido por el arte, desde el siglo XIII hasta las postrimerías del siglo XX. En las cerca de mil obras expuestas se pueden contemplar los principales periodos y escuelas pictóricas del arte occidental como el Renacimiento, el Manierismo, el Barroco, el Rococó, el Romanticismo y el arte de los siglos XIX y XX hasta llegar al Pop Art.<br/><br/>Se incluyen también algunos movimientos carentes de representación en las colecciones estatales, como el Impresionismo, el Fauvismo, el Expresionismo alemán y las Vanguardias experimentales de comienzos del siglo XX. Asimismo cabe destacar la importante colección de pintura norteamericana del siglo XIX, única en el ámbito museístico europeo..</p></td>
<td><a href="http://www.museothyssen.org/thyssen/home">http://www.museothyssen.org/thyssen/home</a></td>
</tr>
<tr>
<th>6</th>
<td>CaixaFórum Madrid</td>
<td>NaN</td>
<td>648.541</td>
<td><p align="left">Este centro cultural, inaugurado en 2008 en lo que fuera la central eléctrica de Mediodía, fue visitado por 648.541 personas durante 2016. CaixaFórum está dedicado principalmente a exposiciones temporales, de arte antiguo, moderno y contemporáneo, también está abierto a los festivales de música y poesía, al arte multimedia, a los debates de actualidad, a las jornadas sociales y a los talleres familiares y educativos.<br/><br/>Se integra dentro del llamado Triángulo del Arte, en el Paseo del Prado de Madrid, junto al Prado, el Thyssen y el Reina Sofía. Es propiedad de «La Caixa», la cual gestiona el museo a través de su fundación. .</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>7</th>
<td>Monasterio de San Lorenzo de El Escorial</td>
<td>NaN</td>
<td>513.529</td>
<td><p align="left">El Monasterio de San Lorenzo de El Escorial recibió durante 2016 a 513.529 visitantes y todo aquel que cruza sus puertas queda impresionado por su monumentalidad. Ocupa más de 33.000 metros cuadrados, tiene torres de 55 metros de altura, 88 fuentes, 86 escaleras, 13 oratorios y más de 1.500 obras pictóricas, entre otros muchos tesoros de su interior.<br/><br/>Fue mandado construir por Felipe II en 1562, según el proyecto de Juan Bautista de Toledo aunque fue Juan de Herrera el que diseñara la mayor parte del conjunto, agrupando en un edificio varias funciones. San Lorenzo el Real nace como un monasterio de monjes de la orden de San Jerónimo, cuya iglesia sirviese como panteón del Emperador Carlos V y de su mujer, así como de su hijo Felipe II, sus familiares y sucesores, y donde los frailes orasen ininterrumpidamente por la salvación de las personas reales. Asimismo, cuenta con un palacio para alojar al rey, como patrono de la fundación, y a su séquito. El colegio y el seminario completan la función religiosa del Monasterio, y la Biblioteca se establece para estos tres centros.<br/><br/>Esenciales en el conjunto de El Escorial son la Biblioteca Real y los panteones: el de reyes y el de infantes..</p></td>
<td><a href="http://www.patrimonionacional.es/real-sitio/monasterios/6172">http://www.patrimonionacional.es/real-sitio/monasterios/6172</a></td>
</tr>
<tr>
<th>8</th>
<td>Tabacalera - el arte alternativo</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">El triángulo de arte de Madrid se cierra con el Espacio de Promoción del Arte Tabacalera, una opción cultural de lo más alternativa. El edificio está gestionado por el Ministerio de Educación, que programa en él exposiciones y actividades relacionadas con la fotografía, el arte contemporáneo y las artes visuales. No hablaríamos de nada especialmente novedoso de no ser por el hecho de que el Ministerio ha cedido parte de la gestión del espacio al Centro Social Autogestionado La Tabacalera de Lavapiés.<br/><br/>Esta intervención social nos permite disfrutar a la vez de un abanico inmenso de propuestas surgidas de artistas noveles de todo tipo, es un lugar en el que el arte urbano puede mostrarse al público. El propio edificio, además, es digno de ver, una antigua tabacalera de grandes salas y patios que ha sido tomada por la cultura..</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>9</th>
<td>Casa de Correos en la Puerta del Sol en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>10</th>
<td>plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>11</th>
<td>Casa de la Panadería en la plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>12</th>
<td>Puerta del Sol</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>13</th>
<td>Plaza de la Villa</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>14</th>
<td>Plaza de Isabel II</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>15</th>
<td>Plaza de Oriente</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>16</th>
<td>Jardines de Sabatini</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>17</th>
<td>Catedral de la Almudena</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>18</th>
<td>Plaza de la Paja</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>19</th>
<td>paseo del Prado</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>20</th>
<td>Triángulo del Arte</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>21</th>
<td>Estación de Atocha</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>22</th>
<td>Edificio Metrópolis en la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>23</th>
<td>Casino Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>24</th>
<td>Hotel Emperador Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>25</th>
<td>Centenario de la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>26</th>
<td>Plaza de España en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>27</th>
<td>Calle Alcalá</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>28</th>
<td>Casa de las Siete Chimeneas</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>29</th>
<td>Palacio de Cibeles en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>30</th>
<td>Fuente de Cibeles</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>31</th>
<td>Palacio de Linares</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>32</th>
<td>Parque del Retiro</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>33</th>
<td>Palacio de Cristal del parque del Retiro en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>34</th>
<td>Plaza de Santa Ana</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>35</th>
<td>Casa Museo de Lope de Vega</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>36</th>
<td>Barrio de las Letras</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>37</th>
<td>Casa de Cervantes</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>38</th>
<td>Casa Alberto, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>39</th>
<td>Basílica de San Francisco el Grande</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>40</th>
<td>Parque de la Dalieda de San Francisco</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>41</th>
<td>palacio del marqués de Villafranca</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>42</th>
<td>Museo Sorolla de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>43</th>
<td>Parque de  Arganzuela</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>44</th>
<td>jardín andaluz del Museo Sorolla</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>45</th>
<td>Bodega la Ardosa de la calle Colón</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>46</th>
<td>Restaurante Las Mañanitas</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>47</th>
<td>Palacio de Longoria, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>48</th>
<td>Restaurante Wogaboo</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>49</th>
<td>mirador del Faro de Moncloa</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>66</th>
<td>Complejo Azca, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>75</th>
<td>Calle Huertas, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
<tr>
<th>76</th>
<td>Calle de Moratín, 5, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td><p align="left">nan.</p></td>
<td><a href="nan">nan</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [57]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">geopy.geocoders</span> <span class="k">import</span> <span class="n">GoogleV3</span>
<span class="n">geolocator</span> <span class="o">=</span> <span class="n">GoogleV3</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s1">'AIzaSyC8LT73P1LkRa86LwjtN2UXQ-Ii7nYYNMc'</span><span class="p">)</span>

<span class="c1">#result = geolocator.geocode(query='Alma Cheli')</span>
<span class="c1">#print((result.latitude, result.longitude))</span>
<span class="c1">#(40.4370549, -3.699868699999999)</span>

<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">]</span> <span class="o">=</span> <span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">)</span><span class="c1">#.apply(lambda x: (x.latitude, x.longitude))</span>
<span class="c1">#print(Madrid["text"][2])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [65]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span><span class="o">=</span><span class="s2">"Tabacalera, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">8</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">68</span><span class="p">]</span><span class="o">=</span><span class="s2">"Templete el Abejero, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">68</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">68</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">69</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jardín Artístico El Capricho, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">69</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">69</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">19</span><span class="p">]</span><span class="o">=</span><span class="s2">"Paseo del Prado, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">19</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">19</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">20</span><span class="p">]</span><span class="o">=</span><span class="s2">"Triángulo del Arte, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">20</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">20</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">25</span><span class="p">]</span><span class="o">=</span><span class="s2">"Centenario de la Gran Via, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">25</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">25</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">27</span><span class="p">]</span><span class="o">=</span><span class="s2">"Calle Alcalá, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">27</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">27</span><span class="p">])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">][</span><span class="mi">29</span><span class="p">]</span><span class="o">=</span><span class="s2">"Palacio de Cibeles, Madrid"</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio_coord'</span><span class="p">][</span><span class="mi">29</span><span class="p">]</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="n">Madrid</span><span class="p">[</span><span class="s1">'Sitio'</span><span class="p">][</span><span class="mi">29</span><span class="p">])</span>
<span class="c1">#Complejo Azca = (40.452124,-3.7294245)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [58]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[58]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
<th>Sitio_coord</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Centro de Arte Reina Sofía</td>
<td>3.249.591</td>
<td>3.646.598</td>
<td>&lt;p align="left"&gt;El Museo, que abrió sus puertas en 1990 con la intención de reflejar la contemporaneidad artística española, se compone de más de 20.000 obras realizadas entre finales del siglo XIX y la actualidad. De ellas se exhibe aproximadamente un cinco por ciento de artistas de la talla de Pablo Picasso, Joan Miró, Salvador Dalí, Juan Gris, Robert Delaunay, Georges Braque, Yves Klein, Robert Motherwell, Francis Bacon, Richard Serra, Alexander Calder, René Magritte, Gerhard Richter, Antoni Muntadas, Michelangelo Pistoletto, Sol LeWitt o Marcel Broodthaers. La pieza central es Guernica (1937), de Pablo Picasso.Además el Reina Sofía se constituye como espacio de debate e investigación a través de seminarios y programas universitarios con exposiciones, colecciones y actividades..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museoreinasofia.es/"&gt;http://www.museoreinasofia.es/&lt;/a&gt;</td>
<td>(Calle de Santa Isabel, 52, 28012 Madrid, Spain, (40.4079123, -3.6945569))</td>
</tr>
<tr>
<th>1</th>
<td>Museo Nacional del Prado</td>
<td>2.696.666</td>
<td>3.033.754</td>
<td>&lt;p align="left"&gt;Las exposiciones temporales más visitadas, de las celebradas en el propio Prado, han sido «El Bosco. La exposición del V Centenario» que alcanzó los 589.692 visitantes, «Ingres» con 402.690 y «Georges de La Tour» que superó las 163.750 visitas.\rEl Museo del Prado fue inaugurado el 19 de noviembre de 1819 y recibió el nombre del Prado porque fue levantado en el llamado «Prado de los Jerónimos», ocupando terrenos próximos al Monasterio de San Jerónimo El Real. En la actualidad reúne cerca de 8.000 pinturas, más de 6.500 dibujos, unos 3.000 grabados y casi 2.800 piezas de artes decorativas, en las que destaca también un conjunto de monedas y medallas.\r\rEn sus paredes hay obras de Goya (133 pinturas), Velázquez (48 pinturas), El Greco (36 pinturas y 2 esculturas) o Ribera (51 pinturas) entre otros muchos genios de la pintura..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museodelprado.es/"&gt;http://www.museodelprado.es/&lt;/a&gt;</td>
<td>(Paseo del Prado, s/n, 28014 Madrid, Spain, (40.4137818, -3.6921271))</td>
</tr>
<tr>
<th>2</th>
<td>El Parque Warner Madrid</td>
<td></td>
<td>1.68</td>
<td>&lt;p align="left"&gt;Entrar en el parque es sumergirse en un mundo de película de la factoría Warner con Superman o Batman entre los superhéroes y disfrutar de arriesgadas montañas rusas, atracciones y espectáculos para toda la familia.\n\nLos más pequeños disfrutar visitando las atracciones y espectáculos de Cartoon Village y entrar en las casitas de sus personajes preferidos para saludar y fotografiarse con los personajes de los Looney Tunes como Piolín o el Pato Lucas..&lt;/p&gt;</td>
<td>&lt;a href="http://parquewarner.com/"&gt;http://parquewarner.com/&lt;/a&gt;</td>
<td>(M-506, 28330 San Martín de la Vega, Madrid, Spain, (40.2302989, -3.5933781))</td>
</tr>
<tr>
<th>3</th>
<td>Palacio Real de Madrid</td>
<td></td>
<td>1.475.421</td>
<td>&lt;p align="left"&gt;El Palacio Real se asienta sobre el solar del antiguo Alcázar de Madrid, fortaleza medieval convertida en suntuoso palacio por Juan II, Carlos V y Felipe II, que lo convirtió desde 1561 en la residencia oficial de los reyes de España. Todo el edificio está formado por bóvedas sin madera en la estructura y con muchas plantas, para que tuvieran cabida todas las oficinas del gobierno, los oficios de la Real Casa y los servidores.\n\nLa primera piedra se puso en 1738 y la construcción no se acabó hasta 1751, aunque hasta 1759 prosiguieron tanto la decoración escultórica del entorno como las obras exteriores bajo la dirección de Sacchetti. Carlos III fue el primer monarca que habitó en el Palacio Real donde se instaló en 1764.\n\nCarlos III, que ya contaba con Corrado Giaquinto como pintor de la Corte, llamó a los otros dos pintores de mayor fama en Italia, el veneciano Giambattista Tiepolo y el alemán, de formación romana, Antonio Rafael Mengs, su primer pintor de cámara. La sucesión de frescos pintados por estos maestros en las principales salas, y por sus discípulos españoles en las demás, constituye una de las características más importantes de esta residencia donde Carlos III y Carlos IV vivían solo ocho semanas al año: en diciembre, Semana Santa y parte de julio.\n\nEl cuarto del rey Carlos III, que abarca los aposentos de este soberano ilustrado, conserva toda la decoración fija dirigida por Sabatini, uniforme en toda la planta principal: puertas y ventanas de caoba maciza; ricos mármoles españoles en embocaduras y frisos; estucos y frescos en las bóvedas. En el siglo XVIII, además, las paredes del palacio quedaban completamente cubiertas por los mejores cuadros de la Colección Real.\n\nEl Salón del Trono y la Cámara de Gasparini constituyen los conjuntos más representativos del gusto de Carlos III, apegado al estilo rococó en su versión italiana más exuberante. A Carlos IV se deben importantes conjuntos neoclásicos y piezas de mobiliario francés y a Fernando VII, la colección de arañas francesas en bronce y cristal. La última renovación decorativa a la que responde el estado histórico actual de la decoración se debe a Alfonso XII en 1879.\n\nA lo largo de la fachada de Oriente se extienden los aposentos de Carlos IV y María Luisa, donde han habitado los sucesivos soberanos hasta 1931. Estas salas son utilizadas habitualmente por S.M. el Rey para sus audiencias, pues el Palacio Real de Madrid continúa siendo la residencia oficial del Rey de España.\n\nLa Real Armería, la más importante colección europea junto con la de Viena, ambas debidas a los Habsburgo, fue instalada junto al Alcázar por Felipe II y transferida al pabellón actual en 1891. También a Felipe II se debe la creación del Parque de Palacio, llamado Campo del Moro. [Fuente: Patrimonio Nacional]. .&lt;/p&gt;</td>
<td>&lt;a href="https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid"&gt;https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid&lt;/a&gt;</td>
<td>(Calle de Bailén, s/n, 28071 Madrid, Spain, (40.417955, -3.714311999999999))</td>
</tr>
<tr>
<th>4</th>
<td>Estadio Santiago Bernabéu</td>
<td>NaN</td>
<td>1.2 millones</td>
<td>&lt;p align="left"&gt;El estadio Santiago Bernabéu si situó quinto en la lista gracias al 1,2 millones de personas que fueron a visitarlo. La catedral del madridismo se ha convertido en uno de los principales destinos de los turistas que llegan a la capital. Recorrer el estadio, visitar el museo del Real Madrid con su impresionante colección de trofeos, sentarse en el banquillo que habitualmente ocupan el entrenador y las principales figuras del club merengue, o pisar su mítico césped es una opción elegida por muchos visitantes de la ciudad cada año. La visita se hace sin guía e incluye: panorámica del estadio, sala «Mejor Club de la Historia», sala Sensaciones, fotomontajes, terreno de juego, palco presidencial, vestuarios, túnel de jugadores, banquillos y zona técnica, sala de prensa y tienda..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de Concha Espina, 1, 28036 Madrid, Spain, (40.4530541, -3.6883445))</td>
</tr>
<tr>
<th>5</th>
<td>Museo Thyssen</td>
<td>NaN</td>
<td>1.06 millones</td>
<td>&lt;p align="left"&gt;El Museo Thyssen-Bornemiszan, inaugurado en 1992, atrajo durante 2016 a 1,06 millones de visitantes. El Museo, ubicado en el Palacio de Villahermosa, en la esquina del paseo del Prado con la carrera de San Jerónimo, ofrece al público un recorrido por el arte, desde el siglo XIII hasta las postrimerías del siglo XX. En las cerca de mil obras expuestas se pueden contemplar los principales periodos y escuelas pictóricas del arte occidental como el Renacimiento, el Manierismo, el Barroco, el Rococó, el Romanticismo y el arte de los siglos XIX y XX hasta llegar al Pop Art.\n\nSe incluyen también algunos movimientos carentes de representación en las colecciones estatales, como el Impresionismo, el Fauvismo, el Expresionismo alemán y las Vanguardias experimentales de comienzos del siglo XX. Asimismo cabe destacar la importante colección de pintura norteamericana del siglo XIX, única en el ámbito museístico europeo..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museothyssen.org/thyssen/home"&gt;http://www.museothyssen.org/thyssen/home&lt;/a&gt;</td>
<td>(Paseo del Prado, 8, 28014 Madrid, Spain, (40.4160406, -3.6949254))</td>
</tr>
<tr>
<th>6</th>
<td>CaixaFórum Madrid</td>
<td>NaN</td>
<td>648.541</td>
<td>&lt;p align="left"&gt;Este centro cultural, inaugurado en 2008 en lo que fuera la central eléctrica de Mediodía, fue visitado por 648.541 personas durante 2016. CaixaFórum está dedicado principalmente a exposiciones temporales, de arte antiguo, moderno y contemporáneo, también está abierto a los festivales de música y poesía, al arte multimedia, a los debates de actualidad, a las jornadas sociales y a los talleres familiares y educativos.\n\nSe integra dentro del llamado Triángulo del Arte, en el Paseo del Prado de Madrid, junto al Prado, el Thyssen y el Reina Sofía. Es propiedad de «La Caixa», la cual gestiona el museo a través de su fundación. .&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo del Prado, 36, 28014 Madrid, Spain, (40.411112, -3.693571))</td>
</tr>
<tr>
<th>7</th>
<td>Monasterio de San Lorenzo de El Escorial</td>
<td>NaN</td>
<td>513.529</td>
<td>&lt;p align="left"&gt;El Monasterio de San Lorenzo de El Escorial recibió durante 2016 a 513.529 visitantes y todo aquel que cruza sus puertas queda impresionado por su monumentalidad. Ocupa más de 33.000 metros cuadrados, tiene torres de 55 metros de altura, 88 fuentes, 86 escaleras, 13 oratorios y más de 1.500 obras pictóricas, entre otros muchos tesoros de su interior.\n\nFue mandado construir por Felipe II en 1562, según el proyecto de Juan Bautista de Toledo aunque fue Juan de Herrera el que diseñara la mayor parte del conjunto, agrupando en un edificio varias funciones. San Lorenzo el Real nace como un monasterio de monjes de la orden de San Jerónimo, cuya iglesia sirviese como panteón del Emperador Carlos V y de su mujer, así como de su hijo Felipe II, sus familiares y sucesores, y donde los frailes orasen ininterrumpidamente por la salvación de las personas reales. Asimismo, cuenta con un palacio para alojar al rey, como patrono de la fundación, y a su séquito. El colegio y el seminario completan la función religiosa del Monasterio, y la Biblioteca se establece para estos tres centros.\n\nEsenciales en el conjunto de El Escorial son la Biblioteca Real y los panteones: el de reyes y el de infantes..&lt;/p&gt;</td>
<td>&lt;a href="http://www.patrimonionacional.es/real-sitio/monasterios/6172"&gt;http://www.patrimonionacional.es/real-sitio/monasterios/6172&lt;/a&gt;</td>
<td>(Av Juan de Borbón y Battemberg, s/n, 28200 San Lorenzo de El Escorial, Madrid, Spain, (40.5890408, -4.1477268))</td>
</tr>
<tr>
<th>8</th>
<td>Tabacalera - el arte alternativo</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;El triángulo de arte de Madrid se cierra con el Espacio de Promoción del Arte Tabacalera, una opción cultural de lo más alternativa. El edificio está gestionado por el Ministerio de Educación, que programa en él exposiciones y actividades relacionadas con la fotografía, el arte contemporáneo y las artes visuales. No hablaríamos de nada especialmente novedoso de no ser por el hecho de que el Ministerio ha cedido parte de la gestión del espacio al Centro Social Autogestionado La Tabacalera de Lavapiés.\n\nEsta intervención social nos permite disfrutar a la vez de un abanico inmenso de propuestas surgidas de artistas noveles de todo tipo, es un lugar en el que el arte urbano puede mostrarse al público. El propio edificio, además, es digno de ver, una antigua tabacalera de grandes salas y patios que ha sido tomada por la cultura..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>9</th>
<td>Casa de Correos en la Puerta del Sol en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Puerta del Sol, 7, 28013 Madrid, Spain, (40.41640599999999, -3.7038))</td>
</tr>
<tr>
<th>10</th>
<td>plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 28012 Madrid, Spain, (40.415511, -3.7074009))</td>
</tr>
<tr>
<th>11</th>
<td>Casa de la Panadería en la plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 27, 28012 Madrid, Spain, (40.4158477, -3.7074088))</td>
</tr>
<tr>
<th>12</th>
<td>Puerta del Sol</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Puerta del Sol, Plaza de la Puerta del Sol, s/n, 28013 Madrid, Spain, (40.4169473, -3.7035285))</td>
</tr>
<tr>
<th>13</th>
<td>Plaza de la Villa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Villa, Madrid, Spain, (40.4152353, -3.7102272))</td>
</tr>
<tr>
<th>14</th>
<td>Plaza de Isabel II</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Isabel II, 28013 Madrid, Spain, (40.4180611, -3.709358))</td>
</tr>
<tr>
<th>15</th>
<td>Plaza de Oriente</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Oriente, Calle de Bailén, 17, 28013 Madrid, Spain, (40.4183493, -3.7124001))</td>
</tr>
<tr>
<th>16</th>
<td>Jardines de Sabatini</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Sabatini Gardens, Calle de Bailén, 2, 28013 Madrid, Spain, (40.4202739, -3.7139672))</td>
</tr>
<tr>
<th>17</th>
<td>Catedral de la Almudena</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Bailén, 10, 28013 Madrid, Spain, (40.415651, -3.714552))</td>
</tr>
<tr>
<th>18</th>
<td>Plaza de la Paja</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Paja, 28005 Madrid, Spain, (40.4128574, -3.7114761))</td>
</tr>
<tr>
<th>19</th>
<td>paseo del Prado</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo Del Prado, Edinburg, TX 78539, USA, (26.2566492, -98.20120999999999))</td>
</tr>
<tr>
<th>20</th>
<td>Triángulo del Arte</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo Del Arte, San Ysidro, CA 92173, USA, (32.5438216, -117.0426216))</td>
</tr>
<tr>
<th>21</th>
<td>Estación de Atocha</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(28045 Madrid, Spain, (40.406442, -3.690886))</td>
</tr>
<tr>
<th>22</th>
<td>Edificio Metrópolis en la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Alcalá, 42, 28014 Madrid, Spain, (40.418826, -3.6972508))</td>
</tr>
<tr>
<th>23</th>
<td>Casino Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 24, 28013 Madrid, Spain, (40.4201097, -3.700832199999999))</td>
</tr>
<tr>
<th>24</th>
<td>Hotel Emperador Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 53, 28013 Madrid, Spain, (40.421437, -3.708144))</td>
</tr>
<tr>
<th>25</th>
<td>Centenario de la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Kennedy, Bogotá, Bogota, Colombia, (4.6091918, -74.1472896))</td>
</tr>
<tr>
<th>26</th>
<td>Plaza de España en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de España, 28008 Madrid, Spain, (40.4233828, -3.7121647))</td>
</tr>
<tr>
<th>27</th>
<td>Calle Alcalá</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Cll Alcala, Mission Viejo, CA 92691, USA, (33.6256245, -117.6638252))</td>
</tr>
<tr>
<th>28</th>
<td>Casa de las Siete Chimeneas</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza del Rey, 1, 28004 Madrid, Spain, (40.4202074, -3.6964252))</td>
</tr>
<tr>
<th>29</th>
<td>Palacio de Cibeles en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>47</th>
<td>Palacio de Longoria, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Palacio Longoria, 28004 Madrid, Spain, (40.4253474, -3.696775999999999))</td>
</tr>
<tr>
<th>48</th>
<td>Restaurante Wogaboo</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Arturo Soria, 126, 28043 Madrid, Spain, (40.4502221, -3.6507828))</td>
</tr>
<tr>
<th>49</th>
<td>mirador del Faro de Moncloa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de la Memoria, 2, 28040 Madrid, Spain, (40.437304, -3.721673))</td>
</tr>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ventura Rodríguez, 17, 28008 Madrid, Spain, (40.423764, -3.714541))</td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ferraz, 1, 28008 Madrid, Spain, (40.4240216, -3.717769499999999))</td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Parque De La Montaña, Unnamed Road, 28008, 28008, Spain, (40.42309059999999, -3.7164507))</td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Segovia Bridge, Puerta del Angel, 28005 Madrid, Spain, (40.4139658, -3.7227934))</td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Rose Garden of Parque del Oeste, Calle Rosaleda, 2, 28008 Madrid, Spain, (40.4264992, -3.7219103))</td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Oeste Park, Paseo de Moret, 2, 28008 Madrid, Spain, (40.4310526, -3.7264037))</td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Glorieta San Antonio de la Florida, 5, 28008 Madrid, Spain, (40.4253389, -3.7255291))</td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Olavide, 28010 Madrid, Spain, (40.4327877, -3.7015641))</td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de los Reyes Católicos, 6, 28040 Madrid, Spain, (40.4383189, -3.7219663))</td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, s/n, 28029 Madrid, Spain, (40.4775208, -3.6876267))</td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre PwC, 28029 Madrid, Spain, (40.4767085, -3.687918))</td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259 C Planta 19, 28046 Madrid, Spain, (40.4782678, -3.6868755))</td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259D, 28046 Madrid, Spain, (40.4790706, -3.6865707))</td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Castilla, 28046 Madrid, Spain, (40.4664091, -3.689575))</td>
</tr>
<tr>
<th>66</th>
<td>Complejo Azca, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre Picasso, 28020 Madrid, Spain, (40.450278, -3.6925))</td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Alameda de Osuna, 28042 Madrid, Spain, (40.4561778, -3.5948802))</td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Quinta De Los Molinos Park, Calle de Alcalá, 502, 28027 Madrid, Spain, (40.4415735, -3.627135099999999))</td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Avenida de América, 41, 28002 Madrid, Spain, (40.4407315, -3.670104499999999))</td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Corredera Alta de San Pablo, 21, 28004 Madrid, Spain, (40.4257982, -3.701894))</td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Barcelona, 28012 Madrid, Spain, (40.4153846, -3.7025822))</td>
</tr>
<tr>
<th>75</th>
<td>Calle Huertas, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle las Huertas, 28220 Majadahonda, Madrid, Spain, (40.4790034, -3.8730827))</td>
</tr>
<tr>
<th>76</th>
<td>Calle de Moratín, 5, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Moratín, 5, 28014 Madrid, Spain, (40.4123367, -3.6979647))</td>
</tr>
</tbody>
</table>
<p>77 rows × 6 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [66]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[66]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
<th>Sitio_coord</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Centro de Arte Reina Sofía</td>
<td>3.249.591</td>
<td>3.646.598</td>
<td>&lt;p align="left"&gt;El Museo, que abrió sus puertas en 1990 con la intención de reflejar la contemporaneidad artística española, se compone de más de 20.000 obras realizadas entre finales del siglo XIX y la actualidad. De ellas se exhibe aproximadamente un cinco por ciento de artistas de la talla de Pablo Picasso, Joan Miró, Salvador Dalí, Juan Gris, Robert Delaunay, Georges Braque, Yves Klein, Robert Motherwell, Francis Bacon, Richard Serra, Alexander Calder, René Magritte, Gerhard Richter, Antoni Muntadas, Michelangelo Pistoletto, Sol LeWitt o Marcel Broodthaers. La pieza central es Guernica (1937), de Pablo Picasso.Además el Reina Sofía se constituye como espacio de debate e investigación a través de seminarios y programas universitarios con exposiciones, colecciones y actividades..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museoreinasofia.es/"&gt;http://www.museoreinasofia.es/&lt;/a&gt;</td>
<td>(Calle de Santa Isabel, 52, 28012 Madrid, Spain, (40.4079123, -3.6945569))</td>
</tr>
<tr>
<th>1</th>
<td>Museo Nacional del Prado</td>
<td>2.696.666</td>
<td>3.033.754</td>
<td>&lt;p align="left"&gt;Las exposiciones temporales más visitadas, de las celebradas en el propio Prado, han sido «El Bosco. La exposición del V Centenario» que alcanzó los 589.692 visitantes, «Ingres» con 402.690 y «Georges de La Tour» que superó las 163.750 visitas.\rEl Museo del Prado fue inaugurado el 19 de noviembre de 1819 y recibió el nombre del Prado porque fue levantado en el llamado «Prado de los Jerónimos», ocupando terrenos próximos al Monasterio de San Jerónimo El Real. En la actualidad reúne cerca de 8.000 pinturas, más de 6.500 dibujos, unos 3.000 grabados y casi 2.800 piezas de artes decorativas, en las que destaca también un conjunto de monedas y medallas.\r\rEn sus paredes hay obras de Goya (133 pinturas), Velázquez (48 pinturas), El Greco (36 pinturas y 2 esculturas) o Ribera (51 pinturas) entre otros muchos genios de la pintura..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museodelprado.es/"&gt;http://www.museodelprado.es/&lt;/a&gt;</td>
<td>(Paseo del Prado, s/n, 28014 Madrid, Spain, (40.4137818, -3.6921271))</td>
</tr>
<tr>
<th>2</th>
<td>El Parque Warner Madrid</td>
<td></td>
<td>1.68</td>
<td>&lt;p align="left"&gt;Entrar en el parque es sumergirse en un mundo de película de la factoría Warner con Superman o Batman entre los superhéroes y disfrutar de arriesgadas montañas rusas, atracciones y espectáculos para toda la familia.\n\nLos más pequeños disfrutar visitando las atracciones y espectáculos de Cartoon Village y entrar en las casitas de sus personajes preferidos para saludar y fotografiarse con los personajes de los Looney Tunes como Piolín o el Pato Lucas..&lt;/p&gt;</td>
<td>&lt;a href="http://parquewarner.com/"&gt;http://parquewarner.com/&lt;/a&gt;</td>
<td>(M-506, 28330 San Martín de la Vega, Madrid, Spain, (40.2302989, -3.5933781))</td>
</tr>
<tr>
<th>3</th>
<td>Palacio Real de Madrid</td>
<td></td>
<td>1.475.421</td>
<td>&lt;p align="left"&gt;El Palacio Real se asienta sobre el solar del antiguo Alcázar de Madrid, fortaleza medieval convertida en suntuoso palacio por Juan II, Carlos V y Felipe II, que lo convirtió desde 1561 en la residencia oficial de los reyes de España. Todo el edificio está formado por bóvedas sin madera en la estructura y con muchas plantas, para que tuvieran cabida todas las oficinas del gobierno, los oficios de la Real Casa y los servidores.\n\nLa primera piedra se puso en 1738 y la construcción no se acabó hasta 1751, aunque hasta 1759 prosiguieron tanto la decoración escultórica del entorno como las obras exteriores bajo la dirección de Sacchetti. Carlos III fue el primer monarca que habitó en el Palacio Real donde se instaló en 1764.\n\nCarlos III, que ya contaba con Corrado Giaquinto como pintor de la Corte, llamó a los otros dos pintores de mayor fama en Italia, el veneciano Giambattista Tiepolo y el alemán, de formación romana, Antonio Rafael Mengs, su primer pintor de cámara. La sucesión de frescos pintados por estos maestros en las principales salas, y por sus discípulos españoles en las demás, constituye una de las características más importantes de esta residencia donde Carlos III y Carlos IV vivían solo ocho semanas al año: en diciembre, Semana Santa y parte de julio.\n\nEl cuarto del rey Carlos III, que abarca los aposentos de este soberano ilustrado, conserva toda la decoración fija dirigida por Sabatini, uniforme en toda la planta principal: puertas y ventanas de caoba maciza; ricos mármoles españoles en embocaduras y frisos; estucos y frescos en las bóvedas. En el siglo XVIII, además, las paredes del palacio quedaban completamente cubiertas por los mejores cuadros de la Colección Real.\n\nEl Salón del Trono y la Cámara de Gasparini constituyen los conjuntos más representativos del gusto de Carlos III, apegado al estilo rococó en su versión italiana más exuberante. A Carlos IV se deben importantes conjuntos neoclásicos y piezas de mobiliario francés y a Fernando VII, la colección de arañas francesas en bronce y cristal. La última renovación decorativa a la que responde el estado histórico actual de la decoración se debe a Alfonso XII en 1879.\n\nA lo largo de la fachada de Oriente se extienden los aposentos de Carlos IV y María Luisa, donde han habitado los sucesivos soberanos hasta 1931. Estas salas son utilizadas habitualmente por S.M. el Rey para sus audiencias, pues el Palacio Real de Madrid continúa siendo la residencia oficial del Rey de España.\n\nLa Real Armería, la más importante colección europea junto con la de Viena, ambas debidas a los Habsburgo, fue instalada junto al Alcázar por Felipe II y transferida al pabellón actual en 1891. También a Felipe II se debe la creación del Parque de Palacio, llamado Campo del Moro. [Fuente: Patrimonio Nacional]. .&lt;/p&gt;</td>
<td>&lt;a href="https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid"&gt;https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid&lt;/a&gt;</td>
<td>(Calle de Bailén, s/n, 28071 Madrid, Spain, (40.417955, -3.714311999999999))</td>
</tr>
<tr>
<th>4</th>
<td>Estadio Santiago Bernabéu</td>
<td>NaN</td>
<td>1.2 millones</td>
<td>&lt;p align="left"&gt;El estadio Santiago Bernabéu si situó quinto en la lista gracias al 1,2 millones de personas que fueron a visitarlo. La catedral del madridismo se ha convertido en uno de los principales destinos de los turistas que llegan a la capital. Recorrer el estadio, visitar el museo del Real Madrid con su impresionante colección de trofeos, sentarse en el banquillo que habitualmente ocupan el entrenador y las principales figuras del club merengue, o pisar su mítico césped es una opción elegida por muchos visitantes de la ciudad cada año. La visita se hace sin guía e incluye: panorámica del estadio, sala «Mejor Club de la Historia», sala Sensaciones, fotomontajes, terreno de juego, palco presidencial, vestuarios, túnel de jugadores, banquillos y zona técnica, sala de prensa y tienda..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de Concha Espina, 1, 28036 Madrid, Spain, (40.4530541, -3.6883445))</td>
</tr>
<tr>
<th>5</th>
<td>Museo Thyssen</td>
<td>NaN</td>
<td>1.06 millones</td>
<td>&lt;p align="left"&gt;El Museo Thyssen-Bornemiszan, inaugurado en 1992, atrajo durante 2016 a 1,06 millones de visitantes. El Museo, ubicado en el Palacio de Villahermosa, en la esquina del paseo del Prado con la carrera de San Jerónimo, ofrece al público un recorrido por el arte, desde el siglo XIII hasta las postrimerías del siglo XX. En las cerca de mil obras expuestas se pueden contemplar los principales periodos y escuelas pictóricas del arte occidental como el Renacimiento, el Manierismo, el Barroco, el Rococó, el Romanticismo y el arte de los siglos XIX y XX hasta llegar al Pop Art.\n\nSe incluyen también algunos movimientos carentes de representación en las colecciones estatales, como el Impresionismo, el Fauvismo, el Expresionismo alemán y las Vanguardias experimentales de comienzos del siglo XX. Asimismo cabe destacar la importante colección de pintura norteamericana del siglo XIX, única en el ámbito museístico europeo..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museothyssen.org/thyssen/home"&gt;http://www.museothyssen.org/thyssen/home&lt;/a&gt;</td>
<td>(Paseo del Prado, 8, 28014 Madrid, Spain, (40.4160406, -3.6949254))</td>
</tr>
<tr>
<th>6</th>
<td>CaixaFórum Madrid</td>
<td>NaN</td>
<td>648.541</td>
<td>&lt;p align="left"&gt;Este centro cultural, inaugurado en 2008 en lo que fuera la central eléctrica de Mediodía, fue visitado por 648.541 personas durante 2016. CaixaFórum está dedicado principalmente a exposiciones temporales, de arte antiguo, moderno y contemporáneo, también está abierto a los festivales de música y poesía, al arte multimedia, a los debates de actualidad, a las jornadas sociales y a los talleres familiares y educativos.\n\nSe integra dentro del llamado Triángulo del Arte, en el Paseo del Prado de Madrid, junto al Prado, el Thyssen y el Reina Sofía. Es propiedad de «La Caixa», la cual gestiona el museo a través de su fundación. .&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo del Prado, 36, 28014 Madrid, Spain, (40.411112, -3.693571))</td>
</tr>
<tr>
<th>7</th>
<td>Monasterio de San Lorenzo de El Escorial</td>
<td>NaN</td>
<td>513.529</td>
<td>&lt;p align="left"&gt;El Monasterio de San Lorenzo de El Escorial recibió durante 2016 a 513.529 visitantes y todo aquel que cruza sus puertas queda impresionado por su monumentalidad. Ocupa más de 33.000 metros cuadrados, tiene torres de 55 metros de altura, 88 fuentes, 86 escaleras, 13 oratorios y más de 1.500 obras pictóricas, entre otros muchos tesoros de su interior.\n\nFue mandado construir por Felipe II en 1562, según el proyecto de Juan Bautista de Toledo aunque fue Juan de Herrera el que diseñara la mayor parte del conjunto, agrupando en un edificio varias funciones. San Lorenzo el Real nace como un monasterio de monjes de la orden de San Jerónimo, cuya iglesia sirviese como panteón del Emperador Carlos V y de su mujer, así como de su hijo Felipe II, sus familiares y sucesores, y donde los frailes orasen ininterrumpidamente por la salvación de las personas reales. Asimismo, cuenta con un palacio para alojar al rey, como patrono de la fundación, y a su séquito. El colegio y el seminario completan la función religiosa del Monasterio, y la Biblioteca se establece para estos tres centros.\n\nEsenciales en el conjunto de El Escorial son la Biblioteca Real y los panteones: el de reyes y el de infantes..&lt;/p&gt;</td>
<td>&lt;a href="http://www.patrimonionacional.es/real-sitio/monasterios/6172"&gt;http://www.patrimonionacional.es/real-sitio/monasterios/6172&lt;/a&gt;</td>
<td>(Av Juan de Borbón y Battemberg, s/n, 28200 San Lorenzo de El Escorial, Madrid, Spain, (40.5890408, -4.1477268))</td>
</tr>
<tr>
<th>8</th>
<td>Tabacalera, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;El triángulo de arte de Madrid se cierra con el Espacio de Promoción del Arte Tabacalera, una opción cultural de lo más alternativa. El edificio está gestionado por el Ministerio de Educación, que programa en él exposiciones y actividades relacionadas con la fotografía, el arte contemporáneo y las artes visuales. No hablaríamos de nada especialmente novedoso de no ser por el hecho de que el Ministerio ha cedido parte de la gestión del espacio al Centro Social Autogestionado La Tabacalera de Lavapiés.\n\nEsta intervención social nos permite disfrutar a la vez de un abanico inmenso de propuestas surgidas de artistas noveles de todo tipo, es un lugar en el que el arte urbano puede mostrarse al público. El propio edificio, además, es digno de ver, una antigua tabacalera de grandes salas y patios que ha sido tomada por la cultura..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(28012, Calle de Embajadores, 53, 28012 Madrid, Spain, (40.4061755, -3.7029772))</td>
</tr>
<tr>
<th>9</th>
<td>Casa de Correos en la Puerta del Sol en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Puerta del Sol, 7, 28013 Madrid, Spain, (40.41640599999999, -3.7038))</td>
</tr>
<tr>
<th>10</th>
<td>plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 28012 Madrid, Spain, (40.415511, -3.7074009))</td>
</tr>
<tr>
<th>11</th>
<td>Casa de la Panadería en la plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 27, 28012 Madrid, Spain, (40.4158477, -3.7074088))</td>
</tr>
<tr>
<th>12</th>
<td>Puerta del Sol</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Puerta del Sol, Plaza de la Puerta del Sol, s/n, 28013 Madrid, Spain, (40.4169473, -3.7035285))</td>
</tr>
<tr>
<th>13</th>
<td>Plaza de la Villa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Villa, Madrid, Spain, (40.4152353, -3.7102272))</td>
</tr>
<tr>
<th>14</th>
<td>Plaza de Isabel II</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Isabel II, 28013 Madrid, Spain, (40.4180611, -3.709358))</td>
</tr>
<tr>
<th>15</th>
<td>Plaza de Oriente</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Oriente, Calle de Bailén, 17, 28013 Madrid, Spain, (40.4183493, -3.7124001))</td>
</tr>
<tr>
<th>16</th>
<td>Jardines de Sabatini</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Sabatini Gardens, Calle de Bailén, 2, 28013 Madrid, Spain, (40.4202739, -3.7139672))</td>
</tr>
<tr>
<th>17</th>
<td>Catedral de la Almudena</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Bailén, 10, 28013 Madrid, Spain, (40.415651, -3.714552))</td>
</tr>
<tr>
<th>18</th>
<td>Plaza de la Paja</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Paja, 28005 Madrid, Spain, (40.4128574, -3.7114761))</td>
</tr>
<tr>
<th>19</th>
<td>Paseo del Prado, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo del Prado, Madrid, Spain, (40.4144265, -3.6932975))</td>
</tr>
<tr>
<th>20</th>
<td>Triángulo del Arte, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Atocha, 123, 28012 Madrid, Spain, (40.4099615, -3.6935884))</td>
</tr>
<tr>
<th>21</th>
<td>Estación de Atocha</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(28045 Madrid, Spain, (40.406442, -3.690886))</td>
</tr>
<tr>
<th>22</th>
<td>Edificio Metrópolis en la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Alcalá, 42, 28014 Madrid, Spain, (40.418826, -3.6972508))</td>
</tr>
<tr>
<th>23</th>
<td>Casino Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 24, 28013 Madrid, Spain, (40.4201097, -3.700832199999999))</td>
</tr>
<tr>
<th>24</th>
<td>Hotel Emperador Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 53, 28013 Madrid, Spain, (40.421437, -3.708144))</td>
</tr>
<tr>
<th>25</th>
<td>Centenario de la Gran Via, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Madrid, Santiago, Región Metropolitana, Chile, (-33.4680428, -70.6326495))</td>
</tr>
<tr>
<th>26</th>
<td>Plaza de España en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de España, 28008 Madrid, Spain, (40.4233828, -3.7121647))</td>
</tr>
<tr>
<th>27</th>
<td>Calle Alcalá, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Alcalá, Madrid, Spain, (40.433453, -3.6474333))</td>
</tr>
<tr>
<th>28</th>
<td>Casa de las Siete Chimeneas</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza del Rey, 1, 28004 Madrid, Spain, (40.4202074, -3.6964252))</td>
</tr>
<tr>
<th>29</th>
<td>Palacio de Cibeles, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>47</th>
<td>Palacio de Longoria, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Palacio Longoria, 28004 Madrid, Spain, (40.4253474, -3.696775999999999))</td>
</tr>
<tr>
<th>48</th>
<td>Restaurante Wogaboo</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Arturo Soria, 126, 28043 Madrid, Spain, (40.4502221, -3.6507828))</td>
</tr>
<tr>
<th>49</th>
<td>mirador del Faro de Moncloa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de la Memoria, 2, 28040 Madrid, Spain, (40.437304, -3.721673))</td>
</tr>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ventura Rodríguez, 17, 28008 Madrid, Spain, (40.423764, -3.714541))</td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ferraz, 1, 28008 Madrid, Spain, (40.4240216, -3.717769499999999))</td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Parque De La Montaña, Unnamed Road, 28008, 28008, Spain, (40.42309059999999, -3.7164507))</td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Segovia Bridge, Puerta del Angel, 28005 Madrid, Spain, (40.4139658, -3.7227934))</td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Rose Garden of Parque del Oeste, Calle Rosaleda, 2, 28008 Madrid, Spain, (40.4264992, -3.7219103))</td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Oeste Park, Paseo de Moret, 2, 28008 Madrid, Spain, (40.4310526, -3.7264037))</td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Glorieta San Antonio de la Florida, 5, 28008 Madrid, Spain, (40.4253389, -3.7255291))</td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Olavide, 28010 Madrid, Spain, (40.4327877, -3.7015641))</td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de los Reyes Católicos, 6, 28040 Madrid, Spain, (40.4383189, -3.7219663))</td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, s/n, 28029 Madrid, Spain, (40.4775208, -3.6876267))</td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre PwC, 28029 Madrid, Spain, (40.4767085, -3.687918))</td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259 C Planta 19, 28046 Madrid, Spain, (40.4782678, -3.6868755))</td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259D, 28046 Madrid, Spain, (40.4790706, -3.6865707))</td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Castilla, 28046 Madrid, Spain, (40.4664091, -3.689575))</td>
</tr>
<tr>
<th>66</th>
<td>Complejo Azca, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>None</td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre Picasso, 28020 Madrid, Spain, (40.450278, -3.6925))</td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Alameda de Osuna, 28042 Madrid, Spain, (40.4561778, -3.5948802))</td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Quinta De Los Molinos Park, Calle de Alcalá, 502, 28027 Madrid, Spain, (40.4415735, -3.627135099999999))</td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Avenida de América, 41, 28002 Madrid, Spain, (40.4407315, -3.670104499999999))</td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Corredera Alta de San Pablo, 21, 28004 Madrid, Spain, (40.4257982, -3.701894))</td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Barcelona, 28012 Madrid, Spain, (40.4153846, -3.7025822))</td>
</tr>
<tr>
<th>75</th>
<td>Calle Huertas, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle las Huertas, 28220 Majadahonda, Madrid, Spain, (40.4790034, -3.8730827))</td>
</tr>
<tr>
<th>76</th>
<td>Calle de Moratín, 5, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Moratín, 5, 28014 Madrid, Spain, (40.4123367, -3.6979647))</td>
</tr>
</tbody>
</table>
<p>77 rows × 6 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [79]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Madrid[Madrid["Sitio_coord"]=="None"]</span>

<span class="c1">#Madrid["Sitio"][29]="Fuente de la Diosa Cibeles, Madrid"</span>
<span class="c1">#Madrid['Sitio_coord'][29] = geolocator.geocode(Madrid['Sitio'][29])</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">][</span><span class="mi">66</span><span class="p">]</span><span class="o">=</span><span class="s1">'(Calle de Orense, 10, 28020 Madrid, Spain(40.4186861,-3.7605708))'</span>
<span class="n">Madrid</span><span class="p">[</span><span class="mi">50</span><span class="p">:</span><span class="mi">75</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[79]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
<th>Sitio_coord</th>
</tr>
</thead>
<tbody>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ventura Rodríguez, 17, 28008 Madrid, Spain, (40.423764, -3.714541))</td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ferraz, 1, 28008 Madrid, Spain, (40.4240216, -3.717769499999999))</td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Parque De La Montaña, Unnamed Road, 28008, 28008, Spain, (40.42309059999999, -3.7164507))</td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Segovia Bridge, Puerta del Angel, 28005 Madrid, Spain, (40.4139658, -3.7227934))</td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Rose Garden of Parque del Oeste, Calle Rosaleda, 2, 28008 Madrid, Spain, (40.4264992, -3.7219103))</td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Oeste Park, Paseo de Moret, 2, 28008 Madrid, Spain, (40.4310526, -3.7264037))</td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Glorieta San Antonio de la Florida, 5, 28008 Madrid, Spain, (40.4253389, -3.7255291))</td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Olavide, 28010 Madrid, Spain, (40.4327877, -3.7015641))</td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de los Reyes Católicos, 6, 28040 Madrid, Spain, (40.4383189, -3.7219663))</td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, s/n, 28029 Madrid, Spain, (40.4775208, -3.6876267))</td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre PwC, 28029 Madrid, Spain, (40.4767085, -3.687918))</td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259 C Planta 19, 28046 Madrid, Spain, (40.4782678, -3.6868755))</td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259D, 28046 Madrid, Spain, (40.4790706, -3.6865707))</td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Castilla, 28046 Madrid, Spain, (40.4664091, -3.689575))</td>
</tr>
<tr>
<th>66</th>
<td>Complejo Azca, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Orense, 10, 28020 Madrid, Spain(40.4186861,-3.7605708))</td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre Picasso, 28020 Madrid, Spain, (40.450278, -3.6925))</td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Alameda de Osuna, 28042 Madrid, Spain, (40.4561778, -3.5948802))</td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Quinta De Los Molinos Park, Calle de Alcalá, 502, 28027 Madrid, Spain, (40.4415735, -3.627135099999999))</td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Avenida de América, 41, 28002 Madrid, Spain, (40.4407315, -3.670104499999999))</td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Corredera Alta de San Pablo, 21, 28004 Madrid, Spain, (40.4257982, -3.701894))</td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Barcelona, 28012 Madrid, Spain, (40.4153846, -3.7025822))</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [80]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">]</span><span class="o">=</span><span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
<span class="n">Madrid</span><span class="p">[</span><span class="s2">"long"</span><span class="p">]</span><span class="o">=</span><span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">longitude</span><span class="p">)</span>
<span class="n">Madrid</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-80-3470b7999563&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 1</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"lat"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">=</span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"Sitio_coord"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>apply<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-green-intense-fg ansi-bold">lambda</span> x<span class="ansi-yellow-intense-fg ansi-bold">:</span> x<span class="ansi-yellow-intense-fg ansi-bold">.</span>latitude<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      2</span> Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"long"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">=</span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"Sitio_coord"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>apply<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-green-intense-fg ansi-bold">lambda</span> x<span class="ansi-yellow-intense-fg ansi-bold">:</span> x<span class="ansi-yellow-intense-fg ansi-bold">.</span>longitude<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      3</span> Madrid

<span class="ansi-green-intense-fg ansi-bold">~\Anaconda3\lib\site-packages\pandas\core\series.py</span> in <span class="ansi-cyan-fg">apply</span><span class="ansi-blue-intense-fg ansi-bold">(self, func, convert_dtype, args, **kwds)</span>
<span class="ansi-green-fg">   2549</span>             <span class="ansi-green-intense-fg ansi-bold">else</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">   2550</span>                 values <span class="ansi-yellow-intense-fg ansi-bold">=</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>asobject
<span class="ansi-green-intense-fg ansi-bold">-&gt; 2551</span><span class="ansi-yellow-intense-fg ansi-bold">                 </span>mapped <span class="ansi-yellow-intense-fg ansi-bold">=</span> lib<span class="ansi-yellow-intense-fg ansi-bold">.</span>map_infer<span class="ansi-yellow-intense-fg ansi-bold">(</span>values<span class="ansi-yellow-intense-fg ansi-bold">,</span> f<span class="ansi-yellow-intense-fg ansi-bold">,</span> convert<span class="ansi-yellow-intense-fg ansi-bold">=</span>convert_dtype<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">   2552</span> 
<span class="ansi-green-fg">   2553</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> len<span class="ansi-yellow-intense-fg ansi-bold">(</span>mapped<span class="ansi-yellow-intense-fg ansi-bold">)</span> <span class="ansi-green-intense-fg ansi-bold">and</span> isinstance<span class="ansi-yellow-intense-fg ansi-bold">(</span>mapped<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-cyan-intense-fg ansi-bold">0</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> Series<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>

<span class="ansi-green-intense-fg ansi-bold">pandas/_libs/src/inference.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.lib.map_infer</span><span class="ansi-blue-intense-fg ansi-bold">()</span>

<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-80-3470b7999563&gt;</span> in <span class="ansi-cyan-fg">&lt;lambda&gt;</span><span class="ansi-blue-intense-fg ansi-bold">(x)</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 1</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"lat"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">=</span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"Sitio_coord"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>apply<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-green-intense-fg ansi-bold">lambda</span> x<span class="ansi-yellow-intense-fg ansi-bold">:</span> x<span class="ansi-yellow-intense-fg ansi-bold">.</span>latitude<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      2</span> Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"long"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">=</span>Madrid<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">"Sitio_coord"</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">.</span>apply<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-green-intense-fg ansi-bold">lambda</span> x<span class="ansi-yellow-intense-fg ansi-bold">:</span> x<span class="ansi-yellow-intense-fg ansi-bold">.</span>longitude<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      3</span> Madrid

<span class="ansi-red-intense-fg ansi-bold">AttributeError</span>: 'str' object has no attribute 'latitude'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [81]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[81]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>dtype('O')</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [88]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid2</span> <span class="o">=</span> <span class="n">Madrid</span>
<span class="n">Madrid2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">Madrid2</span><span class="o">.</span><span class="n">index</span><span class="p">[[</span><span class="mi">66</span><span class="p">]],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">Madrid2</span><span class="p">[</span><span class="mi">50</span><span class="p">:</span><span class="mi">75</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[88]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
<th>Sitio_coord</th>
</tr>
</thead>
<tbody>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ventura Rodríguez, 17, 28008 Madrid, Spain, (40.423764, -3.714541))</td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ferraz, 1, 28008 Madrid, Spain, (40.4240216, -3.717769499999999))</td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Parque De La Montaña, Unnamed Road, 28008, 28008, Spain, (40.42309059999999, -3.7164507))</td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Segovia Bridge, Puerta del Angel, 28005 Madrid, Spain, (40.4139658, -3.7227934))</td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Rose Garden of Parque del Oeste, Calle Rosaleda, 2, 28008 Madrid, Spain, (40.4264992, -3.7219103))</td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Oeste Park, Paseo de Moret, 2, 28008 Madrid, Spain, (40.4310526, -3.7264037))</td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Glorieta San Antonio de la Florida, 5, 28008 Madrid, Spain, (40.4253389, -3.7255291))</td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Olavide, 28010 Madrid, Spain, (40.4327877, -3.7015641))</td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de los Reyes Católicos, 6, 28040 Madrid, Spain, (40.4383189, -3.7219663))</td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, s/n, 28029 Madrid, Spain, (40.4775208, -3.6876267))</td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre PwC, 28029 Madrid, Spain, (40.4767085, -3.687918))</td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259 C Planta 19, 28046 Madrid, Spain, (40.4782678, -3.6868755))</td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259D, 28046 Madrid, Spain, (40.4790706, -3.6865707))</td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Castilla, 28046 Madrid, Spain, (40.4664091, -3.689575))</td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre Picasso, 28020 Madrid, Spain, (40.450278, -3.6925))</td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Alameda de Osuna, 28042 Madrid, Spain, (40.4561778, -3.5948802))</td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Quinta De Los Molinos Park, Calle de Alcalá, 502, 28027 Madrid, Spain, (40.4415735, -3.627135099999999))</td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Avenida de América, 41, 28002 Madrid, Spain, (40.4407315, -3.670104499999999))</td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Corredera Alta de San Pablo, 21, 28004 Madrid, Spain, (40.4257982, -3.701894))</td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Barcelona, 28012 Madrid, Spain, (40.4153846, -3.7025822))</td>
</tr>
<tr>
<th>75</th>
<td>Calle Huertas, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle las Huertas, 28220 Majadahonda, Madrid, Spain, (40.4790034, -3.8730827))</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Data["Arrival_Date"].dtype</span>
<span class="c1">#list(Data.columns.values)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">Data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[38]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>['Carrier',
 'Depart_AP',
 'Depart_Code',
 'Depart_Date',
 'Arrival_AP',
 'Arrival_Code',
 'Arrival_Date',
 'Flight_Nr',
 'Reservation',
 'Passenger',
 'Price']</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [89]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Madrid2</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">]</span><span class="o">=</span><span class="n">Madrid2</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">latitude</span><span class="p">)</span>
<span class="n">Madrid2</span><span class="p">[</span><span class="s2">"long"</span><span class="p">]</span><span class="o">=</span><span class="n">Madrid2</span><span class="p">[</span><span class="s2">"Sitio_coord"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">longitude</span><span class="p">)</span>
<span class="n">Madrid2</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[89]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
<th>Sitio_coord</th>
<th>lat</th>
<th>long</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Centro de Arte Reina Sofía</td>
<td>3.249.591</td>
<td>3.646.598</td>
<td>&lt;p align="left"&gt;El Museo, que abrió sus puertas en 1990 con la intención de reflejar la contemporaneidad artística española, se compone de más de 20.000 obras realizadas entre finales del siglo XIX y la actualidad. De ellas se exhibe aproximadamente un cinco por ciento de artistas de la talla de Pablo Picasso, Joan Miró, Salvador Dalí, Juan Gris, Robert Delaunay, Georges Braque, Yves Klein, Robert Motherwell, Francis Bacon, Richard Serra, Alexander Calder, René Magritte, Gerhard Richter, Antoni Muntadas, Michelangelo Pistoletto, Sol LeWitt o Marcel Broodthaers. La pieza central es Guernica (1937), de Pablo Picasso.Además el Reina Sofía se constituye como espacio de debate e investigación a través de seminarios y programas universitarios con exposiciones, colecciones y actividades..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museoreinasofia.es/"&gt;http://www.museoreinasofia.es/&lt;/a&gt;</td>
<td>(Calle de Santa Isabel, 52, 28012 Madrid, Spain, (40.4079123, -3.6945569))</td>
<td>40.407912</td>
<td>-3.694557</td>
</tr>
<tr>
<th>1</th>
<td>Museo Nacional del Prado</td>
<td>2.696.666</td>
<td>3.033.754</td>
<td>&lt;p align="left"&gt;Las exposiciones temporales más visitadas, de las celebradas en el propio Prado, han sido «El Bosco. La exposición del V Centenario» que alcanzó los 589.692 visitantes, «Ingres» con 402.690 y «Georges de La Tour» que superó las 163.750 visitas.\rEl Museo del Prado fue inaugurado el 19 de noviembre de 1819 y recibió el nombre del Prado porque fue levantado en el llamado «Prado de los Jerónimos», ocupando terrenos próximos al Monasterio de San Jerónimo El Real. En la actualidad reúne cerca de 8.000 pinturas, más de 6.500 dibujos, unos 3.000 grabados y casi 2.800 piezas de artes decorativas, en las que destaca también un conjunto de monedas y medallas.\r\rEn sus paredes hay obras de Goya (133 pinturas), Velázquez (48 pinturas), El Greco (36 pinturas y 2 esculturas) o Ribera (51 pinturas) entre otros muchos genios de la pintura..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museodelprado.es/"&gt;http://www.museodelprado.es/&lt;/a&gt;</td>
<td>(Paseo del Prado, s/n, 28014 Madrid, Spain, (40.4137818, -3.6921271))</td>
<td>40.413782</td>
<td>-3.692127</td>
</tr>
<tr>
<th>2</th>
<td>El Parque Warner Madrid</td>
<td></td>
<td>1.68</td>
<td>&lt;p align="left"&gt;Entrar en el parque es sumergirse en un mundo de película de la factoría Warner con Superman o Batman entre los superhéroes y disfrutar de arriesgadas montañas rusas, atracciones y espectáculos para toda la familia.\n\nLos más pequeños disfrutar visitando las atracciones y espectáculos de Cartoon Village y entrar en las casitas de sus personajes preferidos para saludar y fotografiarse con los personajes de los Looney Tunes como Piolín o el Pato Lucas..&lt;/p&gt;</td>
<td>&lt;a href="http://parquewarner.com/"&gt;http://parquewarner.com/&lt;/a&gt;</td>
<td>(M-506, 28330 San Martín de la Vega, Madrid, Spain, (40.2302989, -3.5933781))</td>
<td>40.230299</td>
<td>-3.593378</td>
</tr>
<tr>
<th>3</th>
<td>Palacio Real de Madrid</td>
<td></td>
<td>1.475.421</td>
<td>&lt;p align="left"&gt;El Palacio Real se asienta sobre el solar del antiguo Alcázar de Madrid, fortaleza medieval convertida en suntuoso palacio por Juan II, Carlos V y Felipe II, que lo convirtió desde 1561 en la residencia oficial de los reyes de España. Todo el edificio está formado por bóvedas sin madera en la estructura y con muchas plantas, para que tuvieran cabida todas las oficinas del gobierno, los oficios de la Real Casa y los servidores.\n\nLa primera piedra se puso en 1738 y la construcción no se acabó hasta 1751, aunque hasta 1759 prosiguieron tanto la decoración escultórica del entorno como las obras exteriores bajo la dirección de Sacchetti. Carlos III fue el primer monarca que habitó en el Palacio Real donde se instaló en 1764.\n\nCarlos III, que ya contaba con Corrado Giaquinto como pintor de la Corte, llamó a los otros dos pintores de mayor fama en Italia, el veneciano Giambattista Tiepolo y el alemán, de formación romana, Antonio Rafael Mengs, su primer pintor de cámara. La sucesión de frescos pintados por estos maestros en las principales salas, y por sus discípulos españoles en las demás, constituye una de las características más importantes de esta residencia donde Carlos III y Carlos IV vivían solo ocho semanas al año: en diciembre, Semana Santa y parte de julio.\n\nEl cuarto del rey Carlos III, que abarca los aposentos de este soberano ilustrado, conserva toda la decoración fija dirigida por Sabatini, uniforme en toda la planta principal: puertas y ventanas de caoba maciza; ricos mármoles españoles en embocaduras y frisos; estucos y frescos en las bóvedas. En el siglo XVIII, además, las paredes del palacio quedaban completamente cubiertas por los mejores cuadros de la Colección Real.\n\nEl Salón del Trono y la Cámara de Gasparini constituyen los conjuntos más representativos del gusto de Carlos III, apegado al estilo rococó en su versión italiana más exuberante. A Carlos IV se deben importantes conjuntos neoclásicos y piezas de mobiliario francés y a Fernando VII, la colección de arañas francesas en bronce y cristal. La última renovación decorativa a la que responde el estado histórico actual de la decoración se debe a Alfonso XII en 1879.\n\nA lo largo de la fachada de Oriente se extienden los aposentos de Carlos IV y María Luisa, donde han habitado los sucesivos soberanos hasta 1931. Estas salas son utilizadas habitualmente por S.M. el Rey para sus audiencias, pues el Palacio Real de Madrid continúa siendo la residencia oficial del Rey de España.\n\nLa Real Armería, la más importante colección europea junto con la de Viena, ambas debidas a los Habsburgo, fue instalada junto al Alcázar por Felipe II y transferida al pabellón actual en 1891. También a Felipe II se debe la creación del Parque de Palacio, llamado Campo del Moro. [Fuente: Patrimonio Nacional]. .&lt;/p&gt;</td>
<td>&lt;a href="https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid"&gt;https://entradas.patrimonionacional.es/es-ES/informacion-recinto/6/palacio-real-de-madrid&lt;/a&gt;</td>
<td>(Calle de Bailén, s/n, 28071 Madrid, Spain, (40.417955, -3.714311999999999))</td>
<td>40.417955</td>
<td>-3.714312</td>
</tr>
<tr>
<th>4</th>
<td>Estadio Santiago Bernabéu</td>
<td>NaN</td>
<td>1.2 millones</td>
<td>&lt;p align="left"&gt;El estadio Santiago Bernabéu si situó quinto en la lista gracias al 1,2 millones de personas que fueron a visitarlo. La catedral del madridismo se ha convertido en uno de los principales destinos de los turistas que llegan a la capital. Recorrer el estadio, visitar el museo del Real Madrid con su impresionante colección de trofeos, sentarse en el banquillo que habitualmente ocupan el entrenador y las principales figuras del club merengue, o pisar su mítico césped es una opción elegida por muchos visitantes de la ciudad cada año. La visita se hace sin guía e incluye: panorámica del estadio, sala «Mejor Club de la Historia», sala Sensaciones, fotomontajes, terreno de juego, palco presidencial, vestuarios, túnel de jugadores, banquillos y zona técnica, sala de prensa y tienda..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de Concha Espina, 1, 28036 Madrid, Spain, (40.4530541, -3.6883445))</td>
<td>40.453054</td>
<td>-3.688344</td>
</tr>
<tr>
<th>5</th>
<td>Museo Thyssen</td>
<td>NaN</td>
<td>1.06 millones</td>
<td>&lt;p align="left"&gt;El Museo Thyssen-Bornemiszan, inaugurado en 1992, atrajo durante 2016 a 1,06 millones de visitantes. El Museo, ubicado en el Palacio de Villahermosa, en la esquina del paseo del Prado con la carrera de San Jerónimo, ofrece al público un recorrido por el arte, desde el siglo XIII hasta las postrimerías del siglo XX. En las cerca de mil obras expuestas se pueden contemplar los principales periodos y escuelas pictóricas del arte occidental como el Renacimiento, el Manierismo, el Barroco, el Rococó, el Romanticismo y el arte de los siglos XIX y XX hasta llegar al Pop Art.\n\nSe incluyen también algunos movimientos carentes de representación en las colecciones estatales, como el Impresionismo, el Fauvismo, el Expresionismo alemán y las Vanguardias experimentales de comienzos del siglo XX. Asimismo cabe destacar la importante colección de pintura norteamericana del siglo XIX, única en el ámbito museístico europeo..&lt;/p&gt;</td>
<td>&lt;a href="http://www.museothyssen.org/thyssen/home"&gt;http://www.museothyssen.org/thyssen/home&lt;/a&gt;</td>
<td>(Paseo del Prado, 8, 28014 Madrid, Spain, (40.4160406, -3.6949254))</td>
<td>40.416041</td>
<td>-3.694925</td>
</tr>
<tr>
<th>6</th>
<td>CaixaFórum Madrid</td>
<td>NaN</td>
<td>648.541</td>
<td>&lt;p align="left"&gt;Este centro cultural, inaugurado en 2008 en lo que fuera la central eléctrica de Mediodía, fue visitado por 648.541 personas durante 2016. CaixaFórum está dedicado principalmente a exposiciones temporales, de arte antiguo, moderno y contemporáneo, también está abierto a los festivales de música y poesía, al arte multimedia, a los debates de actualidad, a las jornadas sociales y a los talleres familiares y educativos.\n\nSe integra dentro del llamado Triángulo del Arte, en el Paseo del Prado de Madrid, junto al Prado, el Thyssen y el Reina Sofía. Es propiedad de «La Caixa», la cual gestiona el museo a través de su fundación. .&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo del Prado, 36, 28014 Madrid, Spain, (40.411112, -3.693571))</td>
<td>40.411112</td>
<td>-3.693571</td>
</tr>
<tr>
<th>7</th>
<td>Monasterio de San Lorenzo de El Escorial</td>
<td>NaN</td>
<td>513.529</td>
<td>&lt;p align="left"&gt;El Monasterio de San Lorenzo de El Escorial recibió durante 2016 a 513.529 visitantes y todo aquel que cruza sus puertas queda impresionado por su monumentalidad. Ocupa más de 33.000 metros cuadrados, tiene torres de 55 metros de altura, 88 fuentes, 86 escaleras, 13 oratorios y más de 1.500 obras pictóricas, entre otros muchos tesoros de su interior.\n\nFue mandado construir por Felipe II en 1562, según el proyecto de Juan Bautista de Toledo aunque fue Juan de Herrera el que diseñara la mayor parte del conjunto, agrupando en un edificio varias funciones. San Lorenzo el Real nace como un monasterio de monjes de la orden de San Jerónimo, cuya iglesia sirviese como panteón del Emperador Carlos V y de su mujer, así como de su hijo Felipe II, sus familiares y sucesores, y donde los frailes orasen ininterrumpidamente por la salvación de las personas reales. Asimismo, cuenta con un palacio para alojar al rey, como patrono de la fundación, y a su séquito. El colegio y el seminario completan la función religiosa del Monasterio, y la Biblioteca se establece para estos tres centros.\n\nEsenciales en el conjunto de El Escorial son la Biblioteca Real y los panteones: el de reyes y el de infantes..&lt;/p&gt;</td>
<td>&lt;a href="http://www.patrimonionacional.es/real-sitio/monasterios/6172"&gt;http://www.patrimonionacional.es/real-sitio/monasterios/6172&lt;/a&gt;</td>
<td>(Av Juan de Borbón y Battemberg, s/n, 28200 San Lorenzo de El Escorial, Madrid, Spain, (40.5890408, -4.1477268))</td>
<td>40.589041</td>
<td>-4.147727</td>
</tr>
<tr>
<th>8</th>
<td>Tabacalera, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;El triángulo de arte de Madrid se cierra con el Espacio de Promoción del Arte Tabacalera, una opción cultural de lo más alternativa. El edificio está gestionado por el Ministerio de Educación, que programa en él exposiciones y actividades relacionadas con la fotografía, el arte contemporáneo y las artes visuales. No hablaríamos de nada especialmente novedoso de no ser por el hecho de que el Ministerio ha cedido parte de la gestión del espacio al Centro Social Autogestionado La Tabacalera de Lavapiés.\n\nEsta intervención social nos permite disfrutar a la vez de un abanico inmenso de propuestas surgidas de artistas noveles de todo tipo, es un lugar en el que el arte urbano puede mostrarse al público. El propio edificio, además, es digno de ver, una antigua tabacalera de grandes salas y patios que ha sido tomada por la cultura..&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(28012, Calle de Embajadores, 53, 28012 Madrid, Spain, (40.4061755, -3.7029772))</td>
<td>40.406176</td>
<td>-3.702977</td>
</tr>
<tr>
<th>9</th>
<td>Casa de Correos en la Puerta del Sol en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Puerta del Sol, 7, 28013 Madrid, Spain, (40.41640599999999, -3.7038))</td>
<td>40.416406</td>
<td>-3.703800</td>
</tr>
<tr>
<th>10</th>
<td>plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 28012 Madrid, Spain, (40.415511, -3.7074009))</td>
<td>40.415511</td>
<td>-3.707401</td>
</tr>
<tr>
<th>11</th>
<td>Casa de la Panadería en la plaza Mayor de Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Mayor, 27, 28012 Madrid, Spain, (40.4158477, -3.7074088))</td>
<td>40.415848</td>
<td>-3.707409</td>
</tr>
<tr>
<th>12</th>
<td>Puerta del Sol</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Puerta del Sol, Plaza de la Puerta del Sol, s/n, 28013 Madrid, Spain, (40.4169473, -3.7035285))</td>
<td>40.416947</td>
<td>-3.703529</td>
</tr>
<tr>
<th>13</th>
<td>Plaza de la Villa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Villa, Madrid, Spain, (40.4152353, -3.7102272))</td>
<td>40.415235</td>
<td>-3.710227</td>
</tr>
<tr>
<th>14</th>
<td>Plaza de Isabel II</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Isabel II, 28013 Madrid, Spain, (40.4180611, -3.709358))</td>
<td>40.418061</td>
<td>-3.709358</td>
</tr>
<tr>
<th>15</th>
<td>Plaza de Oriente</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Oriente, Calle de Bailén, 17, 28013 Madrid, Spain, (40.4183493, -3.7124001))</td>
<td>40.418349</td>
<td>-3.712400</td>
</tr>
<tr>
<th>16</th>
<td>Jardines de Sabatini</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Sabatini Gardens, Calle de Bailén, 2, 28013 Madrid, Spain, (40.4202739, -3.7139672))</td>
<td>40.420274</td>
<td>-3.713967</td>
</tr>
<tr>
<th>17</th>
<td>Catedral de la Almudena</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Bailén, 10, 28013 Madrid, Spain, (40.415651, -3.714552))</td>
<td>40.415651</td>
<td>-3.714552</td>
</tr>
<tr>
<th>18</th>
<td>Plaza de la Paja</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de la Paja, 28005 Madrid, Spain, (40.4128574, -3.7114761))</td>
<td>40.412857</td>
<td>-3.711476</td>
</tr>
<tr>
<th>19</th>
<td>Paseo del Prado, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo del Prado, Madrid, Spain, (40.4144265, -3.6932975))</td>
<td>40.414426</td>
<td>-3.693297</td>
</tr>
<tr>
<th>20</th>
<td>Triángulo del Arte, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Atocha, 123, 28012 Madrid, Spain, (40.4099615, -3.6935884))</td>
<td>40.409962</td>
<td>-3.693588</td>
</tr>
<tr>
<th>21</th>
<td>Estación de Atocha</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(28045 Madrid, Spain, (40.406442, -3.690886))</td>
<td>40.406442</td>
<td>-3.690886</td>
</tr>
<tr>
<th>22</th>
<td>Edificio Metrópolis en la Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Alcalá, 42, 28014 Madrid, Spain, (40.418826, -3.6972508))</td>
<td>40.418826</td>
<td>-3.697251</td>
</tr>
<tr>
<th>23</th>
<td>Casino Gran Vía</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 24, 28013 Madrid, Spain, (40.4201097, -3.700832199999999))</td>
<td>40.420110</td>
<td>-3.700832</td>
</tr>
<tr>
<th>24</th>
<td>Hotel Emperador Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Gran Vía, 53, 28013 Madrid, Spain, (40.421437, -3.708144))</td>
<td>40.421437</td>
<td>-3.708144</td>
</tr>
<tr>
<th>25</th>
<td>Centenario de la Gran Via, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Madrid, Santiago, Región Metropolitana, Chile, (-33.4680428, -70.6326495))</td>
<td>-33.468043</td>
<td>-70.632649</td>
</tr>
<tr>
<th>26</th>
<td>Plaza de España en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de España, 28008 Madrid, Spain, (40.4233828, -3.7121647))</td>
<td>40.423383</td>
<td>-3.712165</td>
</tr>
<tr>
<th>27</th>
<td>Calle Alcalá, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Alcalá, Madrid, Spain, (40.433453, -3.6474333))</td>
<td>40.433453</td>
<td>-3.647433</td>
</tr>
<tr>
<th>28</th>
<td>Casa de las Siete Chimeneas</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza del Rey, 1, 28004 Madrid, Spain, (40.4202074, -3.6964252))</td>
<td>40.420207</td>
<td>-3.696425</td>
</tr>
<tr>
<th>29</th>
<td>Fuente de la Diosa Cibeles, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Cibeles Fountain, Plaza Cibeles, 3, 28014 Madrid, Spain, (40.4193371, -3.6930836))</td>
<td>40.419337</td>
<td>-3.693084</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>46</th>
<td>Restaurante Las Mañanitas</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(1250 NY-22, Brewster, NY 10509, USA, (41.4041113, -73.5796435))</td>
<td>41.404111</td>
<td>-73.579644</td>
</tr>
<tr>
<th>47</th>
<td>Palacio de Longoria, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Palacio Longoria, 28004 Madrid, Spain, (40.4253474, -3.696775999999999))</td>
<td>40.425347</td>
<td>-3.696776</td>
</tr>
<tr>
<th>48</th>
<td>Restaurante Wogaboo</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Arturo Soria, 126, 28043 Madrid, Spain, (40.4502221, -3.6507828))</td>
<td>40.450222</td>
<td>-3.650783</td>
</tr>
<tr>
<th>49</th>
<td>mirador del Faro de Moncloa</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de la Memoria, 2, 28040 Madrid, Spain, (40.437304, -3.721673))</td>
<td>40.437304</td>
<td>-3.721673</td>
</tr>
<tr>
<th>50</th>
<td>museo Cerralbo, palacio del siglo XIX</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ventura Rodríguez, 17, 28008 Madrid, Spain, (40.423764, -3.714541))</td>
<td>40.423764</td>
<td>-3.714541</td>
</tr>
<tr>
<th>51</th>
<td>Templo de Debod en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Ferraz, 1, 28008 Madrid, Spain, (40.4240216, -3.717769499999999))</td>
<td>40.424022</td>
<td>-3.717769</td>
</tr>
<tr>
<th>52</th>
<td>Parque del Cuartel de la Montaña</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Parque De La Montaña, Unnamed Road, 28008, 28008, Spain, (40.42309059999999, -3.7164507))</td>
<td>40.423091</td>
<td>-3.716451</td>
</tr>
<tr>
<th>53</th>
<td>Puente de Segovia en el parque Madrid Río</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Segovia Bridge, Puerta del Angel, 28005 Madrid, Spain, (40.4139658, -3.7227934))</td>
<td>40.413966</td>
<td>-3.722793</td>
</tr>
<tr>
<th>54</th>
<td>Jardines de la Rosaleda</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Rose Garden of Parque del Oeste, Calle Rosaleda, 2, 28008 Madrid, Spain, (40.4264992, -3.7219103))</td>
<td>40.426499</td>
<td>-3.721910</td>
</tr>
<tr>
<th>55</th>
<td>Parque del Oeste</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Oeste Park, Paseo de Moret, 2, 28008 Madrid, Spain, (40.4310526, -3.7264037))</td>
<td>40.431053</td>
<td>-3.726404</td>
</tr>
<tr>
<th>56</th>
<td>Ermita de San Antonio de la Florida</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Glorieta San Antonio de la Florida, 5, 28008 Madrid, Spain, (40.4253389, -3.7255291))</td>
<td>40.425339</td>
<td>-3.725529</td>
</tr>
<tr>
<th>57</th>
<td>Plaza de Olavide</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza de Olavide, 28010 Madrid, Spain, (40.4327877, -3.7015641))</td>
<td>40.432788</td>
<td>-3.701564</td>
</tr>
<tr>
<th>58</th>
<td>museo de América, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Av. de los Reyes Católicos, 6, 28040 Madrid, Spain, (40.4383189, -3.7219663))</td>
<td>40.438319</td>
<td>-3.721966</td>
</tr>
<tr>
<th>59</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
<td>40.480447</td>
<td>-3.684782</td>
</tr>
<tr>
<th>60</th>
<td>Cuatro Torres Business Area,Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, s/n, 28029 Madrid, Spain, (40.4775208, -3.6876267))</td>
<td>40.477521</td>
<td>-3.687627</td>
</tr>
<tr>
<th>61</th>
<td>Paseo de la Castellana</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 28046 Madrid, Spain, (40.4804472, -3.6847825))</td>
<td>40.480447</td>
<td>-3.684782</td>
</tr>
<tr>
<th>62</th>
<td>Torre PwC, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre PwC, 28029 Madrid, Spain, (40.4767085, -3.687918))</td>
<td>40.476709</td>
<td>-3.687918</td>
</tr>
<tr>
<th>63</th>
<td>Torre Cristal, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259 C Planta 19, 28046 Madrid, Spain, (40.4782678, -3.6868755))</td>
<td>40.478268</td>
<td>-3.686876</td>
</tr>
<tr>
<th>64</th>
<td>Torre Espacio, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Paseo de la Castellana, 259D, 28046 Madrid, Spain, (40.4790706, -3.6865707))</td>
<td>40.479071</td>
<td>-3.686571</td>
</tr>
<tr>
<th>65</th>
<td>Plaza de Castilla, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Plaza Castilla, 28046 Madrid, Spain, (40.4664091, -3.689575))</td>
<td>40.466409</td>
<td>-3.689575</td>
</tr>
<tr>
<th>67</th>
<td>Torre Picasso, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Torre Picasso, 28020 Madrid, Spain, (40.450278, -3.6925))</td>
<td>40.450278</td>
<td>-3.692500</td>
</tr>
<tr>
<th>68</th>
<td>Templete el Abejero, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
<td>40.456625</td>
<td>-3.598932</td>
</tr>
<tr>
<th>69</th>
<td>Jardín Artístico El Capricho, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(El Capricho Park, Paseo de la Alameda de Osuna, 25, 28042 Madrid, Spain, (40.456625, -3.598932))</td>
<td>40.456625</td>
<td>-3.598932</td>
</tr>
<tr>
<th>70</th>
<td>Alameda de Osuna, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Alameda de Osuna, 28042 Madrid, Spain, (40.4561778, -3.5948802))</td>
<td>40.456178</td>
<td>-3.594880</td>
</tr>
<tr>
<th>71</th>
<td>Parque Quinta de los Molinos</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Quinta De Los Molinos Park, Calle de Alcalá, 502, 28027 Madrid, Spain, (40.4415735, -3.627135099999999))</td>
<td>40.441573</td>
<td>-3.627135</td>
</tr>
<tr>
<th>72</th>
<td>Hotel Silken Puerta América en Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Avenida de América, 41, 28002 Madrid, Spain, (40.4407315, -3.670104499999999))</td>
<td>40.440731</td>
<td>-3.670104</td>
</tr>
<tr>
<th>73</th>
<td>Cuadro Malasaña, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Corredera Alta de San Pablo, 21, 28004 Madrid, Spain, (40.4257982, -3.701894))</td>
<td>40.425798</td>
<td>-3.701894</td>
</tr>
<tr>
<th>74</th>
<td>Calle Barcelona, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle Barcelona, 28012 Madrid, Spain, (40.4153846, -3.7025822))</td>
<td>40.415385</td>
<td>-3.702582</td>
</tr>
<tr>
<th>75</th>
<td>Calle Huertas, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle las Huertas, 28220 Majadahonda, Madrid, Spain, (40.4790034, -3.8730827))</td>
<td>40.479003</td>
<td>-3.873083</td>
</tr>
<tr>
<th>76</th>
<td>Calle de Moratín, 5, Madrid</td>
<td>NaN</td>
<td>NaN</td>
<td>&lt;p align="left"&gt;nan.&lt;/p&gt;</td>
<td>&lt;a href="nan"&gt;nan&lt;/a&gt;</td>
<td>(Calle de Moratín, 5, 28014 Madrid, Spain, (40.4123367, -3.6979647))</td>
<td>40.412337</td>
<td>-3.697965</td>
</tr>
</tbody>
</table>
<p>76 rows × 8 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [97]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span>
<span class="kn">from</span> <span class="nn">folium</span> <span class="k">import</span> <span class="n">plugins</span>
<span class="kn">from</span> <span class="nn">folium.plugins</span> <span class="k">import</span> <span class="n">MarkerCluster</span>

<span class="n">stops_map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">40.4381311</span><span class="p">,</span><span class="o">-</span><span class="mf">3.8196225</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">marker_cluster</span> <span class="o">=</span> <span class="n">MarkerCluster</span><span class="p">()</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">stops_map</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">Madrid</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">"long"</span><span class="p">]],</span> <span class="n">popup</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">])</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">marker_cluster</span><span class="p">)</span>
<span class="n">stops_map</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'Sights.html'</span><span class="p">)</span>
<span class="n">stops_map</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[97]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe allowfullscreen="" mozallowfullscreen="" src="data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2dpdC5jb20vcHl0aG9uLXZpc3VhbGl6YXRpb24vZm9saXVtL21hc3Rlci9mb2xpdW0vdGVtcGxhdGVzL2xlYWZsZXQuYXdlc29tZS5yb3RhdGUuY3NzIiAvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNTIzMjYzY2VmYzcxNGYzOWJhOTFhMDQ2ZTc1N2EzN2IgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9NYXJrZXJDbHVzdGVyLkRlZmF1bHQuY3NzIiAvPgo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzUyMzI2M2NlZmM3MTRmMzliYTkxYTA0NmU3NTdhMzdiIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF81MjMyNjNjZWZjNzE0ZjM5YmE5MWEwNDZlNzU3YTM3YiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF81MjMyNjNjZWZjNzE0ZjM5YmE5MWEwNDZlNzU3YTM3YicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDAuNDM4MTMxMSwtMy44MTk2MjI1XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl9hMzlhYWY0YjJmZDM0NDA5YTU3NjEyNjRlYjYyZDFiZCA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICAgICAgICAgIHsKICAiYXR0cmlidXRpb24iOiBudWxsLAogICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwKICAibWF4Wm9vbSI6IDE4LAogICJtaW5ab29tIjogMSwKICAibm9XcmFwIjogZmFsc2UsCiAgInN1YmRvbWFpbnMiOiAiYWJjIgp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81MjMyNjNjZWZjNzE0ZjM5YmE5MWEwNDZlNzU3YTM3Yik7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0ID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtYXBfNTIzMjYzY2VmYzcxNGYzOWJhOTFhMDQ2ZTc1N2EzN2IuYWRkTGF5ZXIobWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80N2ZkOTFiY2FkYWI0YjhlOTViOGNhZmNlNTBkNGRmZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQwNzkxMjMsLTMuNjk0NTU2OV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODA3ZjgxYzEyNTg3NDNlZmE4OThlZDA2ZmY4NTU5YmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDNiY2MzZGZkYWU2NDcxYWI0MzkxZjMxYTI5YjQ5MTAgPSAkKCc8ZGl2IGlkPSJodG1sXzQzYmNjM2RmZGFlNjQ3MWFiNDM5MWYzMWEyOWI0OTEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZW50cm8gZGUgQXJ0ZSBSZWluYSBTb2bDrWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwN2Y4MWMxMjU4NzQzZWZhODk4ZWQwNmZmODU1OWJmLnNldENvbnRlbnQoaHRtbF80M2JjYzNkZmRhZTY0NzFhYjQzOTFmMzFhMjliNDkxMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzQ3ZmQ5MWJjYWRhYjRiOGU5NWI4Y2FmY2U1MGQ0ZGZlLmJpbmRQb3B1cChwb3B1cF84MDdmODFjMTI1ODc0M2VmYTg5OGVkMDZmZjg1NTliZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9lZmMxOWI1Zjk2YzM0YTAwOGU2N2RmNTRjYzcxNjUyNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxMzc4MTgsLTMuNjkyMTI3MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTE2YmExNTUxYmNiNDgxODlmZjc2YmUyODRkNTI0MmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzI5ZjRjNTJmYjk3NDkyMzkwZGM0ZmZjOGI5MTA0MmIgPSAkKCc8ZGl2IGlkPSJodG1sXzcyOWY0YzUyZmI5NzQ5MjM5MGRjNGZmYzhiOTEwNDJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NdXNlbyBOYWNpb25hbCBkZWwgUHJhZG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ExNmJhMTU1MWJjYjQ4MTg5ZmY3NmJlMjg0ZDUyNDJiLnNldENvbnRlbnQoaHRtbF83MjlmNGM1MmZiOTc0OTIzOTBkYzRmZmM4YjkxMDQyYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2VmYzE5YjVmOTZjMzRhMDA4ZTY3ZGY1NGNjNzE2NTI1LmJpbmRQb3B1cChwb3B1cF9hMTZiYTE1NTFiY2I0ODE4OWZmNzZiZTI4NGQ1MjQyYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8xNGE1OWYwOGU4YTM0MjVhOGYwZGE3ZTg5MTUzYzE1NCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjIzMDI5ODksLTMuNTkzMzc4MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2EzMjQyYzJiZmM2NDBkODkxOTE3YmZiNmU0MjJhOTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTZjZTQwMGRlYmY2NDcxYjg1MzY4NDgxNmE2YjMxOTUgPSAkKCc8ZGl2IGlkPSJodG1sXzE2Y2U0MDBkZWJmNjQ3MWI4NTM2ODQ4MTZhNmIzMTk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FbCBQYXJxdWUgV2FybmVyIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2EzMjQyYzJiZmM2NDBkODkxOTE3YmZiNmU0MjJhOTMuc2V0Q29udGVudChodG1sXzE2Y2U0MDBkZWJmNjQ3MWI4NTM2ODQ4MTZhNmIzMTk1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMTRhNTlmMDhlOGEzNDI1YThmMGRhN2U4OTE1M2MxNTQuYmluZFBvcHVwKHBvcHVwXzNhMzI0MmMyYmZjNjQwZDg5MTkxN2JmYjZlNDIyYTkzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzBkM2RjY2JlZmE1MDQwNTY5YTkyMjRmNThiMTExZjkyID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE3OTU1LC0zLjcxNDMxMTk5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWVlNDNlZmE2OWY5NGM2OWJkZDkyMTQ2NDY4OGNiZjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzBlYTJjZDRkNGU4NGRjNmExODhjMzI4ZDE1OWEwMGUgPSAkKCc8ZGl2IGlkPSJodG1sX2MwZWEyY2Q0ZDRlODRkYzZhMTg4YzMyOGQxNTlhMDBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYWxhY2lvIFJlYWwgZGUgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZWU0M2VmYTY5Zjk0YzY5YmRkOTIxNDY0Njg4Y2JmMi5zZXRDb250ZW50KGh0bWxfYzBlYTJjZDRkNGU4NGRjNmExODhjMzI4ZDE1OWEwMGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8wZDNkY2NiZWZhNTA0MDU2OWE5MjI0ZjU4YjExMWY5Mi5iaW5kUG9wdXAocG9wdXBfYWVlNDNlZmE2OWY5NGM2OWJkZDkyMTQ2NDY4OGNiZjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMDRlM2NkNWFlOGUwNGUzMWJlNWZmODUyZTdiODI5NjAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40NTMwNTQxLC0zLjY4ODM0NDVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU3YzcwOGQzNWQ5ODRiNTY5Mzc2ZWE3ODJkNTE4N2QwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ5ZDQ3NjYwMWIxZDQxYTU4YzM3OTM3ZmRiMWJlMjZkID0gJCgnPGRpdiBpZD0iaHRtbF80OWQ0NzY2MDFiMWQ0MWE1OGMzNzkzN2ZkYjFiZTI2ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXN0YWRpbyBTYW50aWFnbyBCZXJuYWLDqXU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU3YzcwOGQzNWQ5ODRiNTY5Mzc2ZWE3ODJkNTE4N2QwLnNldENvbnRlbnQoaHRtbF80OWQ0NzY2MDFiMWQ0MWE1OGMzNzkzN2ZkYjFiZTI2ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzA0ZTNjZDVhZThlMDRlMzFiZTVmZjg1MmU3YjgyOTYwLmJpbmRQb3B1cChwb3B1cF81N2M3MDhkMzVkOTg0YjU2OTM3NmVhNzgyZDUxODdkMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl82NmJlMTU2NGRhZjE0NTE5YmM3MzU2ZTJjNDFiNTYxZiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxNjA0MDYsLTMuNjk0OTI1NF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTQyYjViNWQ3MTk4NGM2NmFlMWFmYzVjNDM0ZWNhOGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjAyY2ZhMWM5ZjM3NDJhOWI1NDMzZDNjM2NkYjMwODUgPSAkKCc8ZGl2IGlkPSJodG1sXzYwMmNmYTFjOWYzNzQyYTliNTQzM2QzYzNjZGIzMDg1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NdXNlbyBUaHlzc2VuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNDJiNWI1ZDcxOTg0YzY2YWUxYWZjNWM0MzRlY2E4Yy5zZXRDb250ZW50KGh0bWxfNjAyY2ZhMWM5ZjM3NDJhOWI1NDMzZDNjM2NkYjMwODUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl82NmJlMTU2NGRhZjE0NTE5YmM3MzU2ZTJjNDFiNTYxZi5iaW5kUG9wdXAocG9wdXBfMTQyYjViNWQ3MTk4NGM2NmFlMWFmYzVjNDM0ZWNhOGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOTZhYjU4OWRjOGJjNDNiMWJhMzU3NWRkNzM4YTUwZmQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTExMTIsLTMuNjkzNTcxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mN2YzNTM5MjE3ZWY0NDdkOTk0ZWNlY2JhNDJhODQyYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MTA2ZDk5OWRmZjI0Y2M5ODhlNDI5MjJhMGNiNzBhYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzEwNmQ5OTlkZmYyNGNjOTg4ZTQyOTIyYTBjYjcwYWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhaXhhRsOzcnVtIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjdmMzUzOTIxN2VmNDQ3ZDk5NGVjZWNiYTQyYTg0MmEuc2V0Q29udGVudChodG1sXzcxMDZkOTk5ZGZmMjRjYzk4OGU0MjkyMmEwY2I3MGFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTZhYjU4OWRjOGJjNDNiMWJhMzU3NWRkNzM4YTUwZmQuYmluZFBvcHVwKHBvcHVwX2Y3ZjM1MzkyMTdlZjQ0N2Q5OTRlY2VjYmE0MmE4NDJhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2Y0NGRhNjZlODdkNjQ2N2FhMGU2Mjk2YTJjMzM4ZDQ5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNTg5MDQwOCwtNC4xNDc3MjY4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MWYzYWMxYzM3ZWI0ZDhhYWEzYzk2NTkxYjgwMDFjYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZjc2YzdkMWU5ZTA0ZWRlOTc1ZTI0M2Y5OTQyZTZhNSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2Y3NmM3ZDFlOWUwNGVkZTk3NWUyNDNmOTk0MmU2YTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1vbmFzdGVyaW8gZGUgU2FuIExvcmVuem8gZGUgRWwgRXNjb3JpYWw8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxZjNhYzFjMzdlYjRkOGFhYTNjOTY1OTFiODAwMWNiLnNldENvbnRlbnQoaHRtbF9jZjc2YzdkMWU5ZTA0ZWRlOTc1ZTI0M2Y5OTQyZTZhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2Y0NGRhNjZlODdkNjQ2N2FhMGU2Mjk2YTJjMzM4ZDQ5LmJpbmRQb3B1cChwb3B1cF81MWYzYWMxYzM3ZWI0ZDhhYWEzYzk2NTkxYjgwMDFjYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zNWM5MjI4NDM5ZTQ0MDEyYWVkYjY3MDNlZDFlNDljZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQwNjE3NTUsLTMuNzAyOTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWI0ODU2MDllZDc2NGVkYjhiMTNmN2VjZmM1NWNhNDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTdmNmFmN2NiNWNhNDUyZjg0YzUxOTVjNWY0MjVkMTcgPSAkKCc8ZGl2IGlkPSJodG1sX2U3ZjZhZjdjYjVjYTQ1MmY4NGM1MTk1YzVmNDI1ZDE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UYWJhY2FsZXJhLCBNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzliNDg1NjA5ZWQ3NjRlZGI4YjEzZjdlY2ZjNTVjYTQwLnNldENvbnRlbnQoaHRtbF9lN2Y2YWY3Y2I1Y2E0NTJmODRjNTE5NWM1ZjQyNWQxNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzM1YzkyMjg0MzllNDQwMTJhZWRiNjcwM2VkMWU0OWNlLmJpbmRQb3B1cChwb3B1cF85YjQ4NTYwOWVkNzY0ZWRiOGIxM2Y3ZWNmYzU1Y2E0MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mODQ2YTEzNGRjZTM0Mzc4YmMwMDVjN2FjZTExOTc2YiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxNjQwNTk5OTk5OTk5LC0zLjcwMzhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNhMDkyODY3NDUzYTRlNzViNWI3ZjNiOTBhN2RhYzU4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkyZmIwY2M2NzdhZTRjYTRiYjU3YjBlMTE1MzFhMDdkID0gJCgnPGRpdiBpZD0iaHRtbF85MmZiMGNjNjc3YWU0Y2E0YmI1N2IwZTExNTMxYTA3ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FzYSBkZSBDb3JyZW9zIGVuIGxhIFB1ZXJ0YSBkZWwgU29sIGVuIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2EwOTI4Njc0NTNhNGU3NWI1YjdmM2I5MGE3ZGFjNTguc2V0Q29udGVudChodG1sXzkyZmIwY2M2NzdhZTRjYTRiYjU3YjBlMTE1MzFhMDdkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZjg0NmExMzRkY2UzNDM3OGJjMDA1YzdhY2UxMTk3NmIuYmluZFBvcHVwKHBvcHVwXzNhMDkyODY3NDUzYTRlNzViNWI3ZjNiOTBhN2RhYzU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzc3YzJiOWFjMGFkZjRmYzliZmZmNTU1YWE5MjkxODFlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE1NTExLC0zLjcwNzQwMDldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc3YzRkMGU5ZGVmMTRkN2E4Y2FhODY3MjIyMjQxMjE5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNlYWYxODZlYjMzMTRmYzY5NjBiZWEwMTZkN2ZhMjk0ID0gJCgnPGRpdiBpZD0iaHRtbF8zZWFmMTg2ZWIzMzE0ZmM2OTYwYmVhMDE2ZDdmYTI5NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+cGxhemEgTWF5b3IgZGUgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83N2M0ZDBlOWRlZjE0ZDdhOGNhYTg2NzIyMjI0MTIxOS5zZXRDb250ZW50KGh0bWxfM2VhZjE4NmViMzMxNGZjNjk2MGJlYTAxNmQ3ZmEyOTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83N2MyYjlhYzBhZGY0ZmM5YmZmZjU1NWFhOTI5MTgxZS5iaW5kUG9wdXAocG9wdXBfNzdjNGQwZTlkZWYxNGQ3YThjYWE4NjcyMjIyNDEyMTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZWJjZTM5YWViNmE5NDI1ODgzNDY3M2QzZTU1M2U2ZmMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTU4NDc3LC0zLjcwNzQwODhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY5NDMxZWQ4YzMyMDQ4YzI5MWFjNmYyMmRlMDBmOTA4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FjZWE4Njg0MmZjZTQzN2I5ZjY3ZjQ1MzQ4MWVmZGFhID0gJCgnPGRpdiBpZD0iaHRtbF9hY2VhODY4NDJmY2U0MzdiOWY2N2Y0NTM0ODFlZmRhYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FzYSBkZSBsYSBQYW5hZGVyw61hIGVuIGxhIHBsYXphIE1heW9yIGRlIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjk0MzFlZDhjMzIwNDhjMjkxYWM2ZjIyZGUwMGY5MDguc2V0Q29udGVudChodG1sX2FjZWE4Njg0MmZjZTQzN2I5ZjY3ZjQ1MzQ4MWVmZGFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZWJjZTM5YWViNmE5NDI1ODgzNDY3M2QzZTU1M2U2ZmMuYmluZFBvcHVwKHBvcHVwXzY5NDMxZWQ4YzMyMDQ4YzI5MWFjNmYyMmRlMDBmOTA4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M2N2JlNWIwYjI4NDRmMTk5Yzk1ZmQwZjU4ZWI5MTJkID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE2OTQ3MywtMy43MDM1Mjg1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wOWExYTk0M2MyYmE0ZTg5ODU4OGM2MGIwMmU0ZTQwMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMDcxOTIxOTQwZmI0YjYxODA1YWZjYWE2OWVkYzk5MCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTA3MTkyMTk0MGZiNGI2MTgwNWFmY2FhNjllZGM5OTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlB1ZXJ0YSBkZWwgU29sPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wOWExYTk0M2MyYmE0ZTg5ODU4OGM2MGIwMmU0ZTQwMC5zZXRDb250ZW50KGh0bWxfMTA3MTkyMTk0MGZiNGI2MTgwNWFmY2FhNjllZGM5OTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9jNjdiZTViMGIyODQ0ZjE5OWM5NWZkMGY1OGViOTEyZC5iaW5kUG9wdXAocG9wdXBfMDlhMWE5NDNjMmJhNGU4OTg1ODhjNjBiMDJlNGU0MDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYWIzY2VhNDE0M2Q0NGE1NWI2YTdjNjhhMDg5Mjg1NTUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTUyMzUzLC0zLjcxMDIyNzJdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QxMzUxYjAwYzk1ZTQ0YTZiZGJmMjc1N2U1YTkyMjIwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VkMzFiYTUwYTllMjQ3ZjA5M2FhNGUyODgzYTk3NjE2ID0gJCgnPGRpdiBpZD0iaHRtbF9lZDMxYmE1MGE5ZTI0N2YwOTNhYTRlMjg4M2E5NzYxNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGxhemEgZGUgbGEgVmlsbGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QxMzUxYjAwYzk1ZTQ0YTZiZGJmMjc1N2U1YTkyMjIwLnNldENvbnRlbnQoaHRtbF9lZDMxYmE1MGE5ZTI0N2YwOTNhYTRlMjg4M2E5NzYxNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2FiM2NlYTQxNDNkNDRhNTViNmE3YzY4YTA4OTI4NTU1LmJpbmRQb3B1cChwb3B1cF9kMTM1MWIwMGM5NWU0NGE2YmRiZjI3NTdlNWE5MjIyMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yYzQzYWUxZGYzMTE0ZDhmYWNmMzhkYmJjOWJkNWZlYiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxODA2MTEsLTMuNzA5MzU4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNDJlMDc2NzJlOWI0MDFiYTEwMTljNjZhMDNkMTA1MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNjIxNjA0Mzg2YTM0MTQzYjc5ZDYxOTQ4ZjJjM2RiZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjYyMTYwNDM4NmEzNDE0M2I3OWQ2MTk0OGYyYzNkYmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBsYXphIGRlIElzYWJlbCBJSTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDQyZTA3NjcyZTliNDAxYmExMDE5YzY2YTAzZDEwNTEuc2V0Q29udGVudChodG1sX2Y2MjE2MDQzODZhMzQxNDNiNzlkNjE5NDhmMmMzZGJkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMmM0M2FlMWRmMzExNGQ4ZmFjZjM4ZGJiYzliZDVmZWIuYmluZFBvcHVwKHBvcHVwXzA0MmUwNzY3MmU5YjQwMWJhMTAxOWM2NmEwM2QxMDUxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzc2ZmQ3OTdkNGIwNjQ2NDdiOGM5NmMwZTJiZjk5ZTdmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE4MzQ5MywtMy43MTI0MDAxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMzYzNGRmOGIxYmQ0Y2FjYmVjMWE2ZDIwNjFhMTQ3NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MjliOWZhNmE2YzI0OTk1YTg3NDMyZTVkZmFlYzUwNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjI5YjlmYTZhNmMyNDk5NWE4NzQzMmU1ZGZhZWM1MDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBsYXphIGRlIE9yaWVudGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YzNjM0ZGY4YjFiZDRjYWNiZWMxYTZkMjA2MWExNDc2LnNldENvbnRlbnQoaHRtbF82MjliOWZhNmE2YzI0OTk1YTg3NDMyZTVkZmFlYzUwNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzc2ZmQ3OTdkNGIwNjQ2NDdiOGM5NmMwZTJiZjk5ZTdmLmJpbmRQb3B1cChwb3B1cF9mMzYzNGRmOGIxYmQ0Y2FjYmVjMWE2ZDIwNjFhMTQ3Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kMWE5ZjE2MGNjNjE0M2Q1YjJlMzFkYTM1NWVkODljYyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyMDI3MzksLTMuNzEzOTY3Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzEzMzQ3MjY4NDI4NDc1Zjg5NDExNjllMjE1MDFjN2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2E2MzUwYTE5NDlmNGU4ZTlmNTc2ZGUwNmZlZDQwZmYgPSAkKCc8ZGl2IGlkPSJodG1sX2NhNjM1MGExOTQ5ZjRlOGU5ZjU3NmRlMDZmZWQ0MGZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYXJkaW5lcyBkZSBTYWJhdGluaTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzEzMzQ3MjY4NDI4NDc1Zjg5NDExNjllMjE1MDFjN2Euc2V0Q29udGVudChodG1sX2NhNjM1MGExOTQ5ZjRlOGU5ZjU3NmRlMDZmZWQ0MGZmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDFhOWYxNjBjYzYxNDNkNWIyZTMxZGEzNTVlZDg5Y2MuYmluZFBvcHVwKHBvcHVwX2MxMzM0NzI2ODQyODQ3NWY4OTQxMTY5ZTIxNTAxYzdhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2UyYmRlZTkxMjhjYTRjOWM4NjA4NGFhYTVhNjM2Yjc4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE1NjUxLC0zLjcxNDU1Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjg0MWM0YjQ0ZDFiNDFmZDkxZWZiYmQwNDE4NzMxMTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjk1NDlkNzIwOTNiNDMwYzhhMTI2ODk1OTVkMDAzMzAgPSAkKCc8ZGl2IGlkPSJodG1sX2I5NTQ5ZDcyMDkzYjQzMGM4YTEyNjg5NTk1ZDAwMzMwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYXRlZHJhbCBkZSBsYSBBbG11ZGVuYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjg0MWM0YjQ0ZDFiNDFmZDkxZWZiYmQwNDE4NzMxMTYuc2V0Q29udGVudChodG1sX2I5NTQ5ZDcyMDkzYjQzMGM4YTEyNjg5NTk1ZDAwMzMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZTJiZGVlOTEyOGNhNGM5Yzg2MDg0YWFhNWE2MzZiNzguYmluZFBvcHVwKHBvcHVwXzI4NDFjNGI0NGQxYjQxZmQ5MWVmYmJkMDQxODczMTE2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzUwZDRmM2MwOWM4YTQ5NjRiZjI5YmM2MGVjMzBkZWE4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDEyODU3NCwtMy43MTE0NzYxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYWQ3Y2Q1ZGU2M2E0MTYxODY1ZmYyMDMwMjFkZjgyYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMmU2NjllMjk4MjY0MTJlOWZiMzY3ZWZhZWU1ODVmNCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjJlNjY5ZTI5ODI2NDEyZTlmYjM2N2VmYWVlNTg1ZjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBsYXphIGRlIGxhIFBhamE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VhZDdjZDVkZTYzYTQxNjE4NjVmZjIwMzAyMWRmODJiLnNldENvbnRlbnQoaHRtbF8yMmU2NjllMjk4MjY0MTJlOWZiMzY3ZWZhZWU1ODVmNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzUwZDRmM2MwOWM4YTQ5NjRiZjI5YmM2MGVjMzBkZWE4LmJpbmRQb3B1cChwb3B1cF9lYWQ3Y2Q1ZGU2M2E0MTYxODY1ZmYyMDMwMjFkZjgyYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8xZTI2ZDJiMDhkMGI0YjQxYTJjYWUzNTZhNTNmOWZkNiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxNDQyNjUsLTMuNjkzMjk3NV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzk4YmVhNGMxNjllNDE2N2IwZjFmM2NlMzY2NzNjYjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWU2Mzc0ZWNlYzIwNGI1ZDhkZjJkOGNiNjliZDRiZWYgPSAkKCc8ZGl2IGlkPSJodG1sXzVlNjM3NGVjZWMyMDRiNWQ4ZGYyZDhjYjY5YmQ0YmVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXNlbyBkZWwgUHJhZG8sIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzk4YmVhNGMxNjllNDE2N2IwZjFmM2NlMzY2NzNjYjYuc2V0Q29udGVudChodG1sXzVlNjM3NGVjZWMyMDRiNWQ4ZGYyZDhjYjY5YmQ0YmVmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMWUyNmQyYjA4ZDBiNGI0MWEyY2FlMzU2YTUzZjlmZDYuYmluZFBvcHVwKHBvcHVwXzc5OGJlYTRjMTY5ZTQxNjdiMGYxZjNjZTM2NjczY2I2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2E0N2EwNzFhOWI5ODQ1Y2I5YTEyODFkMjE4ZDAzNGFkID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDA5OTYxNSwtMy42OTM1ODg0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjVlNjNiNDQxYjE0MzEzODA0MjQ2OGM0YjE3ZDRkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNjkzNjlkZDFhOGI0NGYzOGZjNjllNWZhODRlMGQ2ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjY5MzY5ZGQxYThiNDRmMzhmYzY5ZTVmYTg0ZTBkNmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRyacOhbmd1bG8gZGVsIEFydGUsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmI1ZTYzYjQ0MWIxNDMxMzgwNDI0NjhjNGIxN2Q0ZDguc2V0Q29udGVudChodG1sX2I2OTM2OWRkMWE4YjQ0ZjM4ZmM2OWU1ZmE4NGUwZDZmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYTQ3YTA3MWE5Yjk4NDVjYjlhMTI4MWQyMThkMDM0YWQuYmluZFBvcHVwKHBvcHVwX2JiNWU2M2I0NDFiMTQzMTM4MDQyNDY4YzRiMTdkNGQ4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzFmYmNkYjg3MWU2NjQyYTg5ZDRlNDRlMGFiZDAzOGMxID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDA2NDQyLC0zLjY5MDg4Nl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmYwZGMzMjM0YmM4NDhmMDkxMWZjOTkwOTY5MGM0NmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWZhNGZhMjQ4M2Y2NDZkZmEwOGFjMjZhYmIxMzNkYzMgPSAkKCc8ZGl2IGlkPSJodG1sXzFmYTRmYTI0ODNmNjQ2ZGZhMDhhYzI2YWJiMTMzZGMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Fc3RhY2nDs24gZGUgQXRvY2hhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZjBkYzMyMzRiYzg0OGYwOTExZmM5OTA5NjkwYzQ2Zi5zZXRDb250ZW50KGh0bWxfMWZhNGZhMjQ4M2Y2NDZkZmEwOGFjMjZhYmIxMzNkYzMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8xZmJjZGI4NzFlNjY0MmE4OWQ0ZTQ0ZTBhYmQwMzhjMS5iaW5kUG9wdXAocG9wdXBfZmYwZGMzMjM0YmM4NDhmMDkxMWZjOTkwOTY5MGM0NmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNGRiODQ4MzE0MzdhNDA5NDg5ZTVjNDViYTRkYzVkMTEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTg4MjYsLTMuNjk3MjUwOF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmMxY2MyN2FlMmZmNDdlOWFkNzE4ZDkyYWE4NDg0ZjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmFjNzFkZmE2MGZiNDc2Njg5NzhlMjk1NWFmYzVhNzkgPSAkKCc8ZGl2IGlkPSJodG1sX2ZhYzcxZGZhNjBmYjQ3NjY4OTc4ZTI5NTVhZmM1YTc5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FZGlmaWNpbyBNZXRyw7Nwb2xpcyBlbiBsYSBHcmFuIFbDrWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJjMWNjMjdhZTJmZjQ3ZTlhZDcxOGQ5MmFhODQ4NGY4LnNldENvbnRlbnQoaHRtbF9mYWM3MWRmYTYwZmI0NzY2ODk3OGUyOTU1YWZjNWE3OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzRkYjg0ODMxNDM3YTQwOTQ4OWU1YzQ1YmE0ZGM1ZDExLmJpbmRQb3B1cChwb3B1cF8yYzFjYzI3YWUyZmY0N2U5YWQ3MThkOTJhYTg0ODRmOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yNTlhNmQ0Nzc0Nzc0ZjgwOTYwNGMzNjIyMjkwOTE1MyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyMDEwOTcsLTMuNzAwODMyMTk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YTA4NzhkNTc0M2Y0YWZjODQ4OTAxYzg4ZDA5MWRlOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NzMxOWEzNWUwMTY0ZjMwODZhMDQyN2IyOWM5NWJlZSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTczMTlhMzVlMDE2NGYzMDg2YTA0MjdiMjljOTViZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhc2lubyBHcmFuIFbDrWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdhMDg3OGQ1NzQzZjRhZmM4NDg5MDFjODhkMDkxZGU5LnNldENvbnRlbnQoaHRtbF85NzMxOWEzNWUwMTY0ZjMwODZhMDQyN2IyOWM5NWJlZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzI1OWE2ZDQ3NzQ3NzRmODA5NjA0YzM2MjIyOTA5MTUzLmJpbmRQb3B1cChwb3B1cF83YTA4NzhkNTc0M2Y0YWZjODQ4OTAxYzg4ZDA5MWRlOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83OTBlNmE4ZDVjY2M0MzdhOTdkMDMwMmJmYWU0NGRmNyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyMTQzNywtMy43MDgxNDRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QxYmRiNTc1MTY2ZDRhYzNhY2JlNzA1YTkyOWMyMmFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg5N2I2ZmM5YzZiZDRmZmY4OTkyM2NjZDliYjNlODM3ID0gJCgnPGRpdiBpZD0iaHRtbF84OTdiNmZjOWM2YmQ0ZmZmODk5MjNjY2Q5YmIzZTgzNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SG90ZWwgRW1wZXJhZG9yIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDFiZGI1NzUxNjZkNGFjM2FjYmU3MDVhOTI5YzIyYWEuc2V0Q29udGVudChodG1sXzg5N2I2ZmM5YzZiZDRmZmY4OTkyM2NjZDliYjNlODM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNzkwZTZhOGQ1Y2NjNDM3YTk3ZDAzMDJiZmFlNDRkZjcuYmluZFBvcHVwKHBvcHVwX2QxYmRiNTc1MTY2ZDRhYzNhY2JlNzA1YTkyOWMyMmFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2ViZGM5ZmQ3MmI3MTRlMDU4OWYyMWVlMzM0YmUwMDZiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbLTMzLjQ2ODA0MjgsLTcwLjYzMjY0OTVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlZTZkZDkxZWVlNDQ5NGFiYjdhMzYzMzJiMGUwMjZhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U1Yjg5MzVhZWIyNzQwZGJiNDkxYjBiNmNkMzMyYWNiID0gJCgnPGRpdiBpZD0iaHRtbF9lNWI4OTM1YWViMjc0MGRiYjQ5MWIwYjZjZDMzMmFjYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudGVuYXJpbyBkZSBsYSBHcmFuIFZpYSwgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZWU2ZGQ5MWVlZTQ0OTRhYmI3YTM2MzMyYjBlMDI2YS5zZXRDb250ZW50KGh0bWxfZTViODkzNWFlYjI3NDBkYmI0OTFiMGI2Y2QzMzJhY2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lYmRjOWZkNzJiNzE0ZTA1ODlmMjFlZTMzNGJlMDA2Yi5iaW5kUG9wdXAocG9wdXBfZWVlNmRkOTFlZWU0NDk0YWJiN2EzNjMzMmIwZTAyNmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYjQzMDg5OWJiMTU5NGQ1NDk2MmEwMjczMjAwYWE0NmQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MjMzODI4LC0zLjcxMjE2NDddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNhNTg4OTEzMTYzMjRkM2E5OGY1MDhlN2Y4NzJmMDNjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQxYWQ1NDFkMTU1OTQwYzA5ZTkyZDk5YmY0ZmMzYzliID0gJCgnPGRpdiBpZD0iaHRtbF80MWFkNTQxZDE1NTk0MGMwOWU5MmQ5OWJmNGZjM2M5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGxhemEgZGUgRXNwYcOxYSBlbiBNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNhNTg4OTEzMTYzMjRkM2E5OGY1MDhlN2Y4NzJmMDNjLnNldENvbnRlbnQoaHRtbF80MWFkNTQxZDE1NTk0MGMwOWU5MmQ5OWJmNGZjM2M5Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2I0MzA4OTliYjE1OTRkNTQ5NjJhMDI3MzIwMGFhNDZkLmJpbmRQb3B1cChwb3B1cF8zYTU4ODkxMzE2MzI0ZDNhOThmNTA4ZTdmODcyZjAzYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yNjZiZTVlMWM2ZmU0ZDY5YmFhMzExMmVmMTQ4OTg1YyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQzMzQ1MywtMy42NDc0MzMzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMmFmNmMzY2JkYTg0ODA3OWY1NjQ3YjY4Mzk5MmZlYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMDQxZjM0ODM3ZDE0OWQ4ODRkNzcxMTQzODk1YTY2NCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTA0MWYzNDgzN2QxNDlkODg0ZDc3MTE0Mzg5NWE2NjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGxlIEFsY2Fsw6EsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjJhZjZjM2NiZGE4NDgwNzlmNTY0N2I2ODM5OTJmZWEuc2V0Q29udGVudChodG1sXzEwNDFmMzQ4MzdkMTQ5ZDg4NGQ3NzExNDM4OTVhNjY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMjY2YmU1ZTFjNmZlNGQ2OWJhYTMxMTJlZjE0ODk4NWMuYmluZFBvcHVwKHBvcHVwX2YyYWY2YzNjYmRhODQ4MDc5ZjU2NDdiNjgzOTkyZmVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M0NzY3OGU3NTMxMDQ0MzU5YjVlMmRlYjY2MzVmMTc3ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDIwMjA3NCwtMy42OTY0MjUyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YmE3YWI5YWI4YTc0MTk3OWJjMzVmOWRiZWE5NDQ1OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MjlmNzZhYjExZjE0YmI2OWZjYWQxNTAzNDczZGUwYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNTI5Zjc2YWIxMWYxNGJiNjlmY2FkMTUwMzQ3M2RlMGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhc2EgZGUgbGFzIFNpZXRlIENoaW1lbmVhczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2JhN2FiOWFiOGE3NDE5NzliYzM1ZjlkYmVhOTQ0NTkuc2V0Q29udGVudChodG1sXzUyOWY3NmFiMTFmMTRiYjY5ZmNhZDE1MDM0NzNkZTBhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzQ3Njc4ZTc1MzEwNDQzNTliNWUyZGViNjYzNWYxNzcuYmluZFBvcHVwKHBvcHVwXzdiYTdhYjlhYjhhNzQxOTc5YmMzNWY5ZGJlYTk0NDU5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2E5ZmRhZTczNjE2MTRmMTFhMDE3MWYxNmVhMzQ5YjZiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE5MzM3MSwtMy42OTMwODM2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MDA4YzE5NTc2MzQ0OWZjYmI1M2M2ZjNmYjM2ZGFjYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lODE2YmM4YzU0MzQ0MWU2OTA2MWY0MzZmMGZjZGMwMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTgxNmJjOGM1NDM0NDFlNjkwNjFmNDM2ZjBmY2RjMDMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZ1ZW50ZSBkZSBsYSBEaW9zYSBDaWJlbGVzLCBNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwMDhjMTk1NzYzNDQ5ZmNiYjUzYzZmM2ZiMzZkYWNiLnNldENvbnRlbnQoaHRtbF9lODE2YmM4YzU0MzQ0MWU2OTA2MWY0MzZmMGZjZGMwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2E5ZmRhZTczNjE2MTRmMTFhMDE3MWYxNmVhMzQ5YjZiLmJpbmRQb3B1cChwb3B1cF82MDA4YzE5NTc2MzQ0OWZjYmI1M2M2ZjNmYjM2ZGFjYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kMGZmMjZiZDIyNDc0YmE3OGVmZmRkMzc1NzkzNDUwNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxOTMzNzEsLTMuNjkzMDgzNl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGY0MjRlZjU2NWJlNDU1ZmE2NTcwYjM3MDhkMGQyYjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDZmMzA1YjI1OTMzNDg4MGE0OGRhMDY0NmI1MmFjMjQgPSAkKCc8ZGl2IGlkPSJodG1sXzQ2ZjMwNWIyNTkzMzQ4ODBhNDhkYTA2NDZiNTJhYzI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GdWVudGUgZGUgQ2liZWxlczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGY0MjRlZjU2NWJlNDU1ZmE2NTcwYjM3MDhkMGQyYjEuc2V0Q29udGVudChodG1sXzQ2ZjMwNWIyNTkzMzQ4ODBhNDhkYTA2NDZiNTJhYzI0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDBmZjI2YmQyMjQ3NGJhNzhlZmZkZDM3NTc5MzQ1MDUuYmluZFBvcHVwKHBvcHVwXzhmNDI0ZWY1NjViZTQ1NWZhNjU3MGIzNzA4ZDBkMmIxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzliNmZmN2JkMTY2ZjQzMmY4NWViNGUzNGNiZjU2ZmYxID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE5NzkxLC0zLjY5MjE1MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDI1NDA0MDdmMjllNGJjM2JkNmUwZDAzNTNmMDJkZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTVlNmM4NWE4YjYwNDAxNzgyZjFkMzMwOGEyZjliODYgPSAkKCc8ZGl2IGlkPSJodG1sXzk1ZTZjODVhOGI2MDQwMTc4MmYxZDMzMDhhMmY5Yjg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYWxhY2lvIGRlIExpbmFyZXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQyNTQwNDA3ZjI5ZTRiYzNiZDZlMGQwMzUzZjAyZGYwLnNldENvbnRlbnQoaHRtbF85NWU2Yzg1YThiNjA0MDE3ODJmMWQzMzA4YTJmOWI4Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzliNmZmN2JkMTY2ZjQzMmY4NWViNGUzNGNiZjU2ZmYxLmJpbmRQb3B1cChwb3B1cF80MjU0MDQwN2YyOWU0YmMzYmQ2ZTBkMDM1M2YwMmRmMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80NzE0OTM5NWRhOTk0MWZiOGU4ZTdiYjU3YWM0NzJhYiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxNTI2MDYsLTMuNjg0NDk5NV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2JjM2NmMWRhODFhNDZhNGJhZDkyZDFiOGMxYjU0NTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjUzOWFhMTczN2Y0NGI2NzhmY2FhNWU4YjI4MTljMDggPSAkKCc8ZGl2IGlkPSJodG1sXzI1MzlhYTE3MzdmNDRiNjc4ZmNhYTVlOGIyODE5YzA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJxdWUgZGVsIFJldGlybzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2JjM2NmMWRhODFhNDZhNGJhZDkyZDFiOGMxYjU0NTguc2V0Q29udGVudChodG1sXzI1MzlhYTE3MzdmNDRiNjc4ZmNhYTVlOGIyODE5YzA4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDcxNDkzOTVkYTk5NDFmYjhlOGU3YmI1N2FjNDcyYWIuYmluZFBvcHVwKHBvcHVwXzNiYzNjZjFkYTgxYTQ2YTRiYWQ5MmQxYjhjMWI1NDU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQzMjZjZjY5YjRlYjQxMWJhOTFjNzU0MWZhNDdmMjU5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE1MTY4MywtMy42ODE5NTI1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZGU0MDU5YjQwMmY0YzMyOGY4NmQyMTc4NWNkY2MwOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZWM2NDAzZDg5MmY0MmZlYmEyNmU3MWVhMzBjZTJmZSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWVjNjQwM2Q4OTJmNDJmZWJhMjZlNzFlYTMwY2UyZmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhbGFjaW8gZGUgQ3Jpc3RhbCBkZWwgcGFycXVlIGRlbCBSZXRpcm8gZW4gTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZGU0MDU5YjQwMmY0YzMyOGY4NmQyMTc4NWNkY2MwOC5zZXRDb250ZW50KGh0bWxfYWVjNjQwM2Q4OTJmNDJmZWJhMjZlNzFlYTMwY2UyZmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80MzI2Y2Y2OWI0ZWI0MTFiYTkxYzc1NDFmYTQ3ZjI1OS5iaW5kUG9wdXAocG9wdXBfZWRlNDA1OWI0MDJmNGMzMjhmODZkMjE3ODVjZGNjMDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYjFmNGViMGZjYjQ0NGI2M2E0N2VmZDZhNTBlMDQzMmMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTQ3MDQsLTMuNzAwODMxM10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTkxMDM0ZDI4OTRhNDNjYzhhNDZhMDc0YTZlZjA3ODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDQzOTg4MTY2NTBjNGE1N2FhYmJkOTFkMjkxNDZjMDkgPSAkKCc8ZGl2IGlkPSJodG1sXzQ0Mzk4ODE2NjUwYzRhNTdhYWJiZDkxZDI5MTQ2YzA5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QbGF6YSBkZSBTYW50YSBBbmE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E5MTAzNGQyODk0YTQzY2M4YTQ2YTA3NGE2ZWYwNzg5LnNldENvbnRlbnQoaHRtbF80NDM5ODgxNjY1MGM0YTU3YWFiYmQ5MWQyOTE0NmMwOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2IxZjRlYjBmY2I0NDRiNjNhNDdlZmQ2YTUwZTA0MzJjLmJpbmRQb3B1cChwb3B1cF9hOTEwMzRkMjg5NGE0M2NjOGE0NmEwNzRhNmVmMDc4OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl85MGFhYTlhMWM4NGE0MmNiOGY2OGNiMzcwOWNjZjg0NCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxNDM4MjEsLTMuNjk3NDU2M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmE5N2U0YzcxMjA1NDliNzlhMzU4OTViMWU2ZjIyNzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzk0MWMwYTRkYzIxNDZjODllMGY1OGRjMWI2YTgzNTEgPSAkKCc8ZGl2IGlkPSJodG1sXzc5NDFjMGE0ZGMyMTQ2Yzg5ZTBmNThkYzFiNmE4MzUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYXNhIE11c2VvIGRlIExvcGUgZGUgVmVnYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmE5N2U0YzcxMjA1NDliNzlhMzU4OTViMWU2ZjIyNzMuc2V0Q29udGVudChodG1sXzc5NDFjMGE0ZGMyMTQ2Yzg5ZTBmNThkYzFiNmE4MzUxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTBhYWE5YTFjODRhNDJjYjhmNjhjYjM3MDljY2Y4NDQuYmluZFBvcHVwKHBvcHVwXzJhOTdlNGM3MTIwNTQ5Yjc5YTM1ODk1YjFlNmYyMjczKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzdlOTllYjQ5MTMxZTQ3NzI4Y2ZiNDFhNWJlMWQ0Mjc0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDEzMzExLC0zLjY5NzAxMV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjY0MTE2N2M5NjUwNDFkNjlmZTU1ZmQ3NDdhM2U4ZDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzVhYWVjOWY2YjFkNGNiMDgwODhiZWMwZTUyZGNiMWEgPSAkKCc8ZGl2IGlkPSJodG1sXzc1YWFlYzlmNmIxZDRjYjA4MDg4YmVjMGU1MmRjYjFhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXJyaW8gZGUgbGFzIExldHJhczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjY0MTE2N2M5NjUwNDFkNjlmZTU1ZmQ3NDdhM2U4ZDMuc2V0Q29udGVudChodG1sXzc1YWFlYzlmNmIxZDRjYjA4MDg4YmVjMGU1MmRjYjFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfN2U5OWViNDkxMzFlNDc3MjhjZmI0MWE1YmUxZDQyNzQuYmluZFBvcHVwKHBvcHVwXzI2NDExNjdjOTY1MDQxZDY5ZmU1NWZkNzQ3YTNlOGQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzA4NmZhZTJiNDBkODRiMWE4NjI5N2NjZmZjNDk2MDJlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzAuNDE3NjE5MywtMTA3LjkxNTU3MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGNkZDc5ZjBjNDM1NDE0Zjg0OWJhNDRhNzhlZjA2ZmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTMxMjEyOWZiNzNlNGQxMzg5Nzc5OTJhMzYyMjEwMDUgPSAkKCc8ZGl2IGlkPSJodG1sXzUzMTIxMjlmYjczZTRkMTM4OTc3OTkyYTM2MjIxMDA1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYXNhIGRlIENlcnZhbnRlczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGNkZDc5ZjBjNDM1NDE0Zjg0OWJhNDRhNzhlZjA2ZmEuc2V0Q29udGVudChodG1sXzUzMTIxMjlmYjczZTRkMTM4OTc3OTkyYTM2MjIxMDA1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMDg2ZmFlMmI0MGQ4NGIxYTg2Mjk3Y2NmZmM0OTYwMmUuYmluZFBvcHVwKHBvcHVwX2RjZGQ3OWYwYzQzNTQxNGY4NDliYTQ0YTc4ZWYwNmZhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzFlMWJkYjI1NzZlYjQxZWZhYWQ2YWVmODA0ODBlMGE1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDEzODMwOTk5OTk5OTksLTMuNzAwMDg0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xY2NiNGM0MjA2MjQ0Y2ZjYTdmNDU3ZjRjYmFiNWMzYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjU1NGM0MzViZGE0YWY3YTU0NTJkYThlZGNmNjk4YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjY1NTRjNDM1YmRhNGFmN2E1NDUyZGE4ZWRjZjY5OGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhc2EgQWxiZXJ0bywgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xY2NiNGM0MjA2MjQ0Y2ZjYTdmNDU3ZjRjYmFiNWMzYS5zZXRDb250ZW50KGh0bWxfMjY1NTRjNDM1YmRhNGFmN2E1NDUyZGE4ZWRjZjY5OGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8xZTFiZGIyNTc2ZWI0MWVmYWFkNmFlZjgwNDgwZTBhNS5iaW5kUG9wdXAocG9wdXBfMWNjYjRjNDIwNjI0NGNmY2E3ZjQ1N2Y0Y2JhYjVjM2EpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOGUwYTJhN2FhNThlNDQ2YmJhZmZiNjQ0MzFkMDE5NjAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTA1NTEyMDAwMDAwMSwtMy43MTQ1NzUxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jYWJmNDY3Mzc5YmQ0OWZhOGNlNWY2OGUzNDgyMWI3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wNDNlYWI1YmVkNGE0Y2JkODNmOTU4N2U4OWM1ZTYzZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMDQzZWFiNWJlZDRhNGNiZDgzZjk1ODdlODljNWU2M2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhc8OtbGljYSBkZSBTYW4gRnJhbmNpc2NvIGVsIEdyYW5kZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2FiZjQ2NzM3OWJkNDlmYThjZTVmNjhlMzQ4MjFiNzcuc2V0Q29udGVudChodG1sXzA0M2VhYjViZWQ0YTRjYmQ4M2Y5NTg3ZTg5YzVlNjNkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOGUwYTJhN2FhNThlNDQ2YmJhZmZiNjQ0MzFkMDE5NjAuYmluZFBvcHVwKHBvcHVwX2NhYmY0NjczNzliZDQ5ZmE4Y2U1ZjY4ZTM0ODIxYjc3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzk3ZTEzY2QzYWJlZTRiOGE4ZmQ3NDhiZWFjMzFjNjZlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDA5OTgxMiwtMy43MTQzNDQ2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MWRmZTMyNTE1MTE0OTliOGEyNDBhN2FkNjM2ZDEyNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NzI3NTVjMTZjMDM0OWEyYmQ3ZjUyNzc2ZWZjOWU5MiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzcyNzU1YzE2YzAzNDlhMmJkN2Y1Mjc3NmVmYzllOTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcnF1ZSBkZSBsYSBEYWxpZWRhIGRlIFNhbiBGcmFuY2lzY288L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxZGZlMzI1MTUxMTQ5OWI4YTI0MGE3YWQ2MzZkMTI0LnNldENvbnRlbnQoaHRtbF83NzI3NTVjMTZjMDM0OWEyYmQ3ZjUyNzc2ZWZjOWU5Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzk3ZTEzY2QzYWJlZTRiOGE4ZmQ3NDhiZWFjMzFjNjZlLmJpbmRQb3B1cChwb3B1cF82MWRmZTMyNTE1MTE0OTliOGEyNDBhN2FkNjM2ZDEyNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9jMTAxYzBlODBjNGI0ZmM3YTFkYmE0MTZlYzE5ZmYwZCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxMTYzNzksLTMuNzEyNjY0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NjNkZDE0NjhiNDk0YTNiODMzNDdkMDdmNjE4M2EzNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xYzlkNDBhNDFlYmY0YjUwOTdhMDJmOTNkMGU2MzM2MyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWM5ZDQwYTQxZWJmNGI1MDk3YTAyZjkzZDBlNjMzNjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPnBhbGFjaW8gZGVsIG1hcnF1w6lzIGRlIFZpbGxhZnJhbmNhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NjNkZDE0NjhiNDk0YTNiODMzNDdkMDdmNjE4M2EzNS5zZXRDb250ZW50KGh0bWxfMWM5ZDQwYTQxZWJmNGI1MDk3YTAyZjkzZDBlNjMzNjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9jMTAxYzBlODBjNGI0ZmM3YTFkYmE0MTZlYzE5ZmYwZC5iaW5kUG9wdXAocG9wdXBfNjYzZGQxNDY4YjQ5NGEzYjgzMzQ3ZDA3ZjYxODNhMzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNzRlZjU3YTM0ZjA3NGFlM2I3M2YwMTZjNTg4Yzg3MDAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MzU0MzYzLC0zLjY5MjUxNzNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIxMGU4ZjQzMDRhMDQyNDJhZmM1NTY2ZjEwM2RiODI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhNTQxODQ0YjNiNzQ2NzJiYTQxMmZjMDdkMmU3ODI1ID0gJCgnPGRpdiBpZD0iaHRtbF8zYTU0MTg0NGIzYjc0NjcyYmE0MTJmYzA3ZDJlNzgyNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TXVzZW8gU29yb2xsYSBkZSBNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIxMGU4ZjQzMDRhMDQyNDJhZmM1NTY2ZjEwM2RiODI1LnNldENvbnRlbnQoaHRtbF8zYTU0MTg0NGIzYjc0NjcyYmE0MTJmYzA3ZDJlNzgyNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzc0ZWY1N2EzNGYwNzRhZTNiNzNmMDE2YzU4OGM4NzAwLmJpbmRQb3B1cChwb3B1cF8yMTBlOGY0MzA0YTA0MjQyYWZjNTU2NmYxMDNkYjgyNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9iOTFiY2UyZjFlYTE0ZDNlYWY2NTI0OTBjNTQ2YjJhYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjM5ODAzMzEsLTMuNzEwOTM0Nl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODUzOTg5MGYwOTlhNGUzNDliM2VhNGJhMWU0YjFjODQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjY4MTI0OWNmOWMwNGIwN2FhOTVjNDQzMzRmODEzOGEgPSAkKCc8ZGl2IGlkPSJodG1sXzY2ODEyNDljZjljMDRiMDdhYTk1YzQ0MzM0ZjgxMzhhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJxdWUgZGUgIEFyZ2FuenVlbGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg1Mzk4OTBmMDk5YTRlMzQ5YjNlYTRiYTFlNGIxYzg0LnNldENvbnRlbnQoaHRtbF82NjgxMjQ5Y2Y5YzA0YjA3YWE5NWM0NDMzNGY4MTM4YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2I5MWJjZTJmMWVhMTRkM2VhZjY1MjQ5MGM1NDZiMmFhLmJpbmRQb3B1cChwb3B1cF84NTM5ODkwZjA5OWE0ZTM0OWIzZWE0YmExZTRiMWM4NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yYTczNGNlNWRlYWI0ODQzODhhY2MzNTM1NjdmNWQwNiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQzNTQzNjMsLTMuNjkyNTE3M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzBmZGRjYjNjYmQ2NDliOTkyZjM1ZGM5MTE5ZGEyNGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjRhNjE2MjgzMDk0NGI5N2FlYTYwYzliZWZiNTY2YzQgPSAkKCc8ZGl2IGlkPSJodG1sX2Y0YTYxNjI4MzA5NDRiOTdhZWE2MGM5YmVmYjU2NmM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5qYXJkw61uIGFuZGFsdXogZGVsIE11c2VvIFNvcm9sbGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwZmRkY2IzY2JkNjQ5Yjk5MmYzNWRjOTExOWRhMjRlLnNldENvbnRlbnQoaHRtbF9mNGE2MTYyODMwOTQ0Yjk3YWVhNjBjOWJlZmI1NjZjNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzJhNzM0Y2U1ZGVhYjQ4NDM4OGFjYzM1MzU2N2Y1ZDA2LmJpbmRQb3B1cChwb3B1cF8zMGZkZGNiM2NiZDY0OWI5OTJmMzVkYzkxMTlkYTI0ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kOGNhNDBiOTdlYzc0N2YyYTc1MjFhOGQyNmM2NjkyYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyMzc2ODMsLTMuNzAxNzU5Nl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjc1YTg3ODcwYmNiNDM5YTk1MzRmY2NiMjdhZDE0YTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDUxODA1Y2YyYmJhNGU1ZmIzYmI2ZmFjZmNhMTVhYjkgPSAkKCc8ZGl2IGlkPSJodG1sXzA1MTgwNWNmMmJiYTRlNWZiM2JiNmZhY2ZjYTE1YWI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Cb2RlZ2EgbGEgQXJkb3NhIGRlIGxhIGNhbGxlIENvbMOzbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjc1YTg3ODcwYmNiNDM5YTk1MzRmY2NiMjdhZDE0YTUuc2V0Q29udGVudChodG1sXzA1MTgwNWNmMmJiYTRlNWZiM2JiNmZhY2ZjYTE1YWI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDhjYTQwYjk3ZWM3NDdmMmE3NTIxYThkMjZjNjY5MmEuYmluZFBvcHVwKHBvcHVwX2Y3NWE4Nzg3MGJjYjQzOWE5NTM0ZmNjYjI3YWQxNGE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQyZDI2M2MyYTUzMjQwZGNiZTJmMmM2YTEzNTQzMTQ0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDEuNDA0MTExMywtNzMuNTc5NjQzNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjM2MWRhMTNhNjA1NGI5ZTk4NDg1NmFiODlmMjg0MDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjc2YzI0NjA1NjUxNGMzNjk4NWI0NDcwMzhlNDk4MjMgPSAkKCc8ZGl2IGlkPSJodG1sX2Y3NmMyNDYwNTY1MTRjMzY5ODViNDQ3MDM4ZTQ5ODIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50ZSBMYXMgTWHDsWFuaXRhczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjM2MWRhMTNhNjA1NGI5ZTk4NDg1NmFiODlmMjg0MDQuc2V0Q29udGVudChodG1sX2Y3NmMyNDYwNTY1MTRjMzY5ODViNDQ3MDM4ZTQ5ODIzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDJkMjYzYzJhNTMyNDBkY2JlMmYyYzZhMTM1NDMxNDQuYmluZFBvcHVwKHBvcHVwX2IzNjFkYTEzYTYwNTRiOWU5ODQ4NTZhYjg5ZjI4NDA0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzYxNjA3YjA3ZjdlOTQyOTlhZGZiMjc1ZThmNGM2YWNiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDI1MzQ3NCwtMy42OTY3NzU5OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ViYmEwNDJmMzk2NjQ2MzlhNGMyMDY4MTA3YzQzYTEwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMyOWZkODhhNzVlNzQzNGY4MzE1ZTU2ZDVlYzZmNWNkID0gJCgnPGRpdiBpZD0iaHRtbF8zMjlmZDg4YTc1ZTc0MzRmODMxNWU1NmQ1ZWM2ZjVjZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFsYWNpbyBkZSBMb25nb3JpYSwgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYmJhMDQyZjM5NjY0NjM5YTRjMjA2ODEwN2M0M2ExMC5zZXRDb250ZW50KGh0bWxfMzI5ZmQ4OGE3NWU3NDM0ZjgzMTVlNTZkNWVjNmY1Y2QpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl82MTYwN2IwN2Y3ZTk0Mjk5YWRmYjI3NWU4ZjRjNmFjYi5iaW5kUG9wdXAocG9wdXBfZWJiYTA0MmYzOTY2NDYzOWE0YzIwNjgxMDdjNDNhMTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMTljM2I2YzM3NjNkNDc1M2I3MGM2NGJmNzBlMTI1ZTQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40NTAyMjIxLC0zLjY1MDc4MjhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBhNTBiNGE0NTE2NjQzZTZhZTE5NzM5NDhhYmRjMTQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk1YTk3Mjc3NTljNzRjNzI4NmVmNDYwNzhlMGNhZWYzID0gJCgnPGRpdiBpZD0iaHRtbF85NWE5NzI3NzU5Yzc0YzcyODZlZjQ2MDc4ZTBjYWVmMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVzdGF1cmFudGUgV29nYWJvbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGE1MGI0YTQ1MTY2NDNlNmFlMTk3Mzk0OGFiZGMxNDMuc2V0Q29udGVudChodG1sXzk1YTk3Mjc3NTljNzRjNzI4NmVmNDYwNzhlMGNhZWYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMTljM2I2YzM3NjNkNDc1M2I3MGM2NGJmNzBlMTI1ZTQuYmluZFBvcHVwKHBvcHVwXzBhNTBiNGE0NTE2NjQzZTZhZTE5NzM5NDhhYmRjMTQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2IxYjM1YTljYWQ2YzRkYzRiODE0NWI4YmFiOTAwZGI4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDM3MzA0LC0zLjcyMTY3M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDg5NzIxMWNiODFhNGQzYTgzN2FjODE0MmVjNTE1OWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzk3ZDc5NGJhYjkxNDhlNmFiYTUwZjQyYjQ1NGJmMTQgPSAkKCc8ZGl2IGlkPSJodG1sXzM5N2Q3OTRiYWI5MTQ4ZTZhYmE1MGY0MmI0NTRiZjE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5taXJhZG9yIGRlbCBGYXJvIGRlIE1vbmNsb2E8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4OTcyMTFjYjgxYTRkM2E4MzdhYzgxNDJlYzUxNTliLnNldENvbnRlbnQoaHRtbF8zOTdkNzk0YmFiOTE0OGU2YWJhNTBmNDJiNDU0YmYxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2IxYjM1YTljYWQ2YzRkYzRiODE0NWI4YmFiOTAwZGI4LmJpbmRQb3B1cChwb3B1cF80ODk3MjExY2I4MWE0ZDNhODM3YWM4MTQyZWM1MTU5Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl84MjA0YTVkOThmNDU0YmVkYTJkOWNmZTNhNjY3NDJmMiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyMzc2NCwtMy43MTQ1NDFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMxNGJiNjY5Y2FjZjRhYjhhMmE4MmJkNmIwYTUzOTJiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UzZDk4NDIxOTNhODQ2Y2M4NGQ4ZmE4YjcxMDFmMmFhID0gJCgnPGRpdiBpZD0iaHRtbF9lM2Q5ODQyMTkzYTg0NmNjODRkOGZhOGI3MTAxZjJhYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+bXVzZW8gQ2VycmFsYm8sIHBhbGFjaW8gZGVsIHNpZ2xvIFhJWDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzE0YmI2NjljYWNmNGFiOGEyYTgyYmQ2YjBhNTM5MmIuc2V0Q29udGVudChodG1sX2UzZDk4NDIxOTNhODQ2Y2M4NGQ4ZmE4YjcxMDFmMmFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfODIwNGE1ZDk4ZjQ1NGJlZGEyZDljZmUzYTY2NzQyZjIuYmluZFBvcHVwKHBvcHVwXzMxNGJiNjY5Y2FjZjRhYjhhMmE4MmJkNmIwYTUzOTJiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2U4ZWZhN2NiMDg2MTQ5YjRiYzBkM2E1Nzc1NDIxY2E3ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDI0MDIxNiwtMy43MTc3Njk0OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRmNGFiNTY1MTVkNTRmMWRiNGEzYjIyYTliNDQyOWFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q5NTkwMDM0MjRlMjQzY2E5Nzc3OGYwMWI3ZDZjOTJmID0gJCgnPGRpdiBpZD0iaHRtbF9kOTU5MDAzNDI0ZTI0M2NhOTc3NzhmMDFiN2Q2YzkyZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGVtcGxvIGRlIERlYm9kIGVuIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGY0YWI1NjUxNWQ1NGYxZGI0YTNiMjJhOWI0NDI5YWIuc2V0Q29udGVudChodG1sX2Q5NTkwMDM0MjRlMjQzY2E5Nzc3OGYwMWI3ZDZjOTJmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZThlZmE3Y2IwODYxNDliNGJjMGQzYTU3NzU0MjFjYTcuYmluZFBvcHVwKHBvcHVwXzRmNGFiNTY1MTVkNTRmMWRiNGEzYjIyYTliNDQyOWFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2FlOTZhNWVjZWExYjRhOWZhNzkwYmYzZWJiMGY1Mjk1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDIzMDkwNTk5OTk5OTksLTMuNzE2NDUwN10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTUwMWQwYTVlNjUzNGM2YWJjYzM0Y2EyZDlhNjgzOGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmU3ZGY0Y2ExNGRjNGYxMDg4MzE2YmRkNGRlMDM4ZjIgPSAkKCc8ZGl2IGlkPSJodG1sXzZlN2RmNGNhMTRkYzRmMTA4ODMxNmJkZDRkZTAzOGYyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJxdWUgZGVsIEN1YXJ0ZWwgZGUgbGEgTW9udGHDsWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk1MDFkMGE1ZTY1MzRjNmFiY2MzNGNhMmQ5YTY4MzhiLnNldENvbnRlbnQoaHRtbF82ZTdkZjRjYTE0ZGM0ZjEwODgzMTZiZGQ0ZGUwMzhmMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2FlOTZhNWVjZWExYjRhOWZhNzkwYmYzZWJiMGY1Mjk1LmJpbmRQb3B1cChwb3B1cF85NTAxZDBhNWU2NTM0YzZhYmNjMzRjYTJkOWE2ODM4Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80NjYyYzM2NTMwODE0NTljYTQwMGQ5NWNkODkxOWMwZiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQxMzk2NTgsLTMuNzIyNzkzNF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWJjNzY2ZWZkMmNiNDY3Zjk2ZjRkZmNiMGZhZTQxNzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTI5YTljY2ZiNmQxNDRkYjgyOTBkN2RiMDUyNTA2OGQgPSAkKCc8ZGl2IGlkPSJodG1sXzEyOWE5Y2NmYjZkMTQ0ZGI4MjkwZDdkYjA1MjUwNjhkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QdWVudGUgZGUgU2Vnb3ZpYSBlbiBlbCBwYXJxdWUgTWFkcmlkIFLDrW88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ViYzc2NmVmZDJjYjQ2N2Y5NmY0ZGZjYjBmYWU0MTczLnNldENvbnRlbnQoaHRtbF8xMjlhOWNjZmI2ZDE0NGRiODI5MGQ3ZGIwNTI1MDY4ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzQ2NjJjMzY1MzA4MTQ1OWNhNDAwZDk1Y2Q4OTE5YzBmLmJpbmRQb3B1cChwb3B1cF9lYmM3NjZlZmQyY2I0NjdmOTZmNGRmY2IwZmFlNDE3Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mNTk4YWQyYmMxYjY0MDE1OWY2NjQ2NzU3ZjU5MzJjZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyNjQ5OTIsLTMuNzIxOTEwM10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2EzMmJmOTllNjIyNDU5YmExZjZmMTg2OGUwODA1NjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGQ3MTNlYTQ4NzNkNGZlZTk2NzZlM2QwZTFhYWI5MjQgPSAkKCc8ZGl2IGlkPSJodG1sXzRkNzEzZWE0ODczZDRmZWU5Njc2ZTNkMGUxYWFiOTI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYXJkaW5lcyBkZSBsYSBSb3NhbGVkYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2EzMmJmOTllNjIyNDU5YmExZjZmMTg2OGUwODA1NjQuc2V0Q29udGVudChodG1sXzRkNzEzZWE0ODczZDRmZWU5Njc2ZTNkMGUxYWFiOTI0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZjU5OGFkMmJjMWI2NDAxNTlmNjY0Njc1N2Y1OTMyY2UuYmluZFBvcHVwKHBvcHVwX2NhMzJiZjk5ZTYyMjQ1OWJhMWY2ZjE4NjhlMDgwNTY0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzIzMWQyNmRmNWZmYjQ2MjBhNDhhYTJkZGNkMWZkZDg0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDMxMDUyNiwtMy43MjY0MDM3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZWY2NGQ3Nzc0OGM0YTkyODQwN2M5NTc4ZWY3NThjZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNmUyYmE5NDZmMzQ0ODU0OTg3NjczNzgxODdiNzIyZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDZlMmJhOTQ2ZjM0NDg1NDk4NzY3Mzc4MTg3YjcyMmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcnF1ZSBkZWwgT2VzdGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBlZjY0ZDc3NzQ4YzRhOTI4NDA3Yzk1NzhlZjc1OGNkLnNldENvbnRlbnQoaHRtbF9kNmUyYmE5NDZmMzQ0ODU0OTg3NjczNzgxODdiNzIyZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzIzMWQyNmRmNWZmYjQ2MjBhNDhhYTJkZGNkMWZkZDg0LmJpbmRQb3B1cChwb3B1cF8wZWY2NGQ3Nzc0OGM0YTkyODQwN2M5NTc4ZWY3NThjZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8xZDE1OWM5ODkwMDc0MWU5YmNhMWI5OTE2N2E3ZjA3ZiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyNTMzODksLTMuNzI1NTI5MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2MwOGQ2MmIzMmExNGVjMGJhZGM4ZmYyZmVjMDBjNjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzE3YjVlOTM0MjE1NDZjNWE5ZjI2ZjVhNjhiODJiMzcgPSAkKCc8ZGl2IGlkPSJodG1sXzcxN2I1ZTkzNDIxNTQ2YzVhOWYyNmY1YTY4YjgyYjM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Fcm1pdGEgZGUgU2FuIEFudG9uaW8gZGUgbGEgRmxvcmlkYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2MwOGQ2MmIzMmExNGVjMGJhZGM4ZmYyZmVjMDBjNjkuc2V0Q29udGVudChodG1sXzcxN2I1ZTkzNDIxNTQ2YzVhOWYyNmY1YTY4YjgyYjM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMWQxNTljOTg5MDA3NDFlOWJjYTFiOTkxNjdhN2YwN2YuYmluZFBvcHVwKHBvcHVwXzdjMDhkNjJiMzJhMTRlYzBiYWRjOGZmMmZlYzAwYzY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2EwNjgxNTJkMjY2YzQ2YmJhMTViMjY5ZmY0MzJmNWU5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDMyNzg3NywtMy43MDE1NjQxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NjhiMmY3NThiYjE0MDQ5ODVhNmYyNDJjYTg4MjJkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNGI3ZTNkYTRmMTQ0NThhYTcxOGZhNDk5MWZhNmQ5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjRiN2UzZGE0ZjE0NDU4YWE3MThmYTQ5OTFmYTZkOTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBsYXphIGRlIE9sYXZpZGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU2OGIyZjc1OGJiMTQwNDk4NWE2ZjI0MmNhODgyMmRkLnNldENvbnRlbnQoaHRtbF8yNGI3ZTNkYTRmMTQ0NThhYTcxOGZhNDk5MWZhNmQ5MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2EwNjgxNTJkMjY2YzQ2YmJhMTViMjY5ZmY0MzJmNWU5LmJpbmRQb3B1cChwb3B1cF81NjhiMmY3NThiYjE0MDQ5ODVhNmYyNDJjYTg4MjJkZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9iMGNkMjc0NjIxM2E0ZTAxYWY5YTVjNGEzOTMxNjM0YSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQzODMxODksLTMuNzIxOTY2M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjYxYTIxYjU0NTU4NGE1YmEyZTI5Mjg2ZTQ1MWYxYjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTY3ODYyYjNhMGM2NGNmN2JlOGRiZWE2ZDk2NTE0YmMgPSAkKCc8ZGl2IGlkPSJodG1sXzk2Nzg2MmIzYTBjNjRjZjdiZThkYmVhNmQ5NjUxNGJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5tdXNlbyBkZSBBbcOpcmljYSwgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNjFhMjFiNTQ1NTg0YTViYTJlMjkyODZlNDUxZjFiOC5zZXRDb250ZW50KGh0bWxfOTY3ODYyYjNhMGM2NGNmN2JlOGRiZWE2ZDk2NTE0YmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9iMGNkMjc0NjIxM2E0ZTAxYWY5YTVjNGEzOTMxNjM0YS5iaW5kUG9wdXAocG9wdXBfMjYxYTIxYjU0NTU4NGE1YmEyZTI5Mjg2ZTQ1MWYxYjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZDNkZGViM2Q2YzNjNDI4NGIzODc1MWIxZDkzNThjOGQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40ODA0NDcyLC0zLjY4NDc4MjVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRlMmEyMDM2ODFiNDQ3MDRiMTYzNGQzYmRiOWQyZWE0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNjZDk5NzQ5YTM1MDRiOTQ5ZDI0MWFkNjFiODEyMWU0ID0gJCgnPGRpdiBpZD0iaHRtbF8zY2Q5OTc0OWEzNTA0Yjk0OWQyNDFhZDYxYjgxMjFlNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFzZW8gZGUgbGEgQ2FzdGVsbGFuYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGUyYTIwMzY4MWI0NDcwNGIxNjM0ZDNiZGI5ZDJlYTQuc2V0Q29udGVudChodG1sXzNjZDk5NzQ5YTM1MDRiOTQ5ZDI0MWFkNjFiODEyMWU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDNkZGViM2Q2YzNjNDI4NGIzODc1MWIxZDkzNThjOGQuYmluZFBvcHVwKHBvcHVwXzRlMmEyMDM2ODFiNDQ3MDRiMTYzNGQzYmRiOWQyZWE0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2RmZmFlMDg3YzM4ZDQ3YWM5NTAzNjYwNDY4OWE1NWE0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDc3NTIwOCwtMy42ODc2MjY3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMTNhZDc1NTNjZjg0MmFhODBhMmMxNDZmNWRmMzY2ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMzQ2N2RjYjhmMjY0M2UxYmUzMTg0MDAyNzEzYTA5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTM0NjdkY2I4ZjI2NDNlMWJlMzE4NDAwMjcxM2EwOTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkN1YXRybyBUb3JyZXMgQnVzaW5lc3MgQXJlYSxNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ExM2FkNzU1M2NmODQyYWE4MGEyYzE0NmY1ZGYzNjZlLnNldENvbnRlbnQoaHRtbF9hMzQ2N2RjYjhmMjY0M2UxYmUzMTg0MDAyNzEzYTA5MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2RmZmFlMDg3YzM4ZDQ3YWM5NTAzNjYwNDY4OWE1NWE0LmJpbmRQb3B1cChwb3B1cF9hMTNhZDc1NTNjZjg0MmFhODBhMmMxNDZmNWRmMzY2ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mZGQzZjNhY2U1MTU0NTJlOTM1MDljYTJmYjExMWZiOCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQ4MDQ0NzIsLTMuNjg0NzgyNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmU0NzYyMTliMDk1NGFjZWJiZDU0YmI3YWM0Yzg2YTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjgyMjQ4MmVlOGU0NDBmNzg1YjRiY2QxNTQ4OTM0MTUgPSAkKCc8ZGl2IGlkPSJodG1sX2Y4MjI0ODJlZThlNDQwZjc4NWI0YmNkMTU0ODkzNDE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXNlbyBkZSBsYSBDYXN0ZWxsYW5hPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZTQ3NjIxOWIwOTU0YWNlYmJkNTRiYjdhYzRjODZhMC5zZXRDb250ZW50KGh0bWxfZjgyMjQ4MmVlOGU0NDBmNzg1YjRiY2QxNTQ4OTM0MTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9mZGQzZjNhY2U1MTU0NTJlOTM1MDljYTJmYjExMWZiOC5iaW5kUG9wdXAocG9wdXBfZmU0NzYyMTliMDk1NGFjZWJiZDU0YmI3YWM0Yzg2YTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYjExY2ZlNzNhMWRlNDk5NTg0NTNiZmIyOTk3MTBkNDIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40NzY3MDg1LC0zLjY4NzkxOF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjdmZTg5OTNjZTJiNDlhOWI1MGZmZjk4YmQ0YWZlN2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjY5ZTQ1MmE3NWMwNGNlMmJkZDU0MmJmMmY3NDlmZDMgPSAkKCc8ZGl2IGlkPSJodG1sX2I2OWU0NTJhNzVjMDRjZTJiZGQ1NDJiZjJmNzQ5ZmQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ub3JyZSBQd0MsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjdmZTg5OTNjZTJiNDlhOWI1MGZmZjk4YmQ0YWZlN2Euc2V0Q29udGVudChodG1sX2I2OWU0NTJhNzVjMDRjZTJiZGQ1NDJiZjJmNzQ5ZmQzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYjExY2ZlNzNhMWRlNDk5NTg0NTNiZmIyOTk3MTBkNDIuYmluZFBvcHVwKHBvcHVwXzY3ZmU4OTkzY2UyYjQ5YTliNTBmZmY5OGJkNGFmZTdhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzk0ZjFhM2Y2Nzc4ODQ1NTY5MGI4YzUxNjhjZWZlOWE5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDc4MjY3OCwtMy42ODY4NzU1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNDk2MDIyMjg0YzI0MTZhOTczNzc4MTdmZjU2YjdlOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNDRiYmY1NTA0OTM0YzhjYmQ1ZjkxOGI0YjE4M2VmMCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjQ0YmJmNTUwNDkzNGM4Y2JkNWY5MThiNGIxODNlZjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRvcnJlIENyaXN0YWwsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjQ5NjAyMjI4NGMyNDE2YTk3Mzc3ODE3ZmY1NmI3ZTguc2V0Q29udGVudChodG1sX2Y0NGJiZjU1MDQ5MzRjOGNiZDVmOTE4YjRiMTgzZWYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTRmMWEzZjY3Nzg4NDU1NjkwYjhjNTE2OGNlZmU5YTkuYmluZFBvcHVwKHBvcHVwXzI0OTYwMjIyODRjMjQxNmE5NzM3NzgxN2ZmNTZiN2U4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzk2N2Y4NjAwYjQzNTQ2ZWJiYWUxMTZlYjA2YmMyMGYyID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDc5MDcwNiwtMy42ODY1NzA3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kOGM1NTg4MTg1OTg0YTk2ODRmY2FmOWEzOTVmNmY5YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZjNhMDUzNjA2NjU0NTBmYTFmNDlhYTgyZjI0OWViZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMmYzYTA1MzYwNjY1NDUwZmExZjQ5YWE4MmYyNDllYmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRvcnJlIEVzcGFjaW8sIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDhjNTU4ODE4NTk4NGE5Njg0ZmNhZjlhMzk1ZjZmOWIuc2V0Q29udGVudChodG1sXzJmM2EwNTM2MDY2NTQ1MGZhMWY0OWFhODJmMjQ5ZWJlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTY3Zjg2MDBiNDM1NDZlYmJhZTExNmViMDZiYzIwZjIuYmluZFBvcHVwKHBvcHVwX2Q4YzU1ODgxODU5ODRhOTY4NGZjYWY5YTM5NWY2ZjliKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2IwODdlNWNmMzM0NDQxMGM4MjY5MmNjY2E2NDBiNjljID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDY2NDA5MSwtMy42ODk1NzVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RjZGY4ZDJlOGNjMDQ2NjQ5M2E3ZGZlMmJmYmI4YzkyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JjMGViZjlmNjcxZjRjYmRiZGM5ZDEzM2QwM2QyM2ZjID0gJCgnPGRpdiBpZD0iaHRtbF9iYzBlYmY5ZjY3MWY0Y2JkYmRjOWQxMzNkMDNkMjNmYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGxhemEgZGUgQ2FzdGlsbGEsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGNkZjhkMmU4Y2MwNDY2NDkzYTdkZmUyYmZiYjhjOTIuc2V0Q29udGVudChodG1sX2JjMGViZjlmNjcxZjRjYmRiZGM5ZDEzM2QwM2QyM2ZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYjA4N2U1Y2YzMzQ0NDEwYzgyNjkyY2NjYTY0MGI2OWMuYmluZFBvcHVwKHBvcHVwX2RjZGY4ZDJlOGNjMDQ2NjQ5M2E3ZGZlMmJmYmI4YzkyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzFhOWU3Yjk1YWIxOTRlZTE4NzE4ZWU4OWUxODlhMzUwID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDUwMjc4LC0zLjY5MjVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RkODk3Yzc1NzQ3NTRmOGNiYzZjNzQwMTE2ZDE2Nzg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZkNzk5MjA2MGUxMjRmZTc5NzBiYmFjYTE0MWQyZjg1ID0gJCgnPGRpdiBpZD0iaHRtbF82ZDc5OTIwNjBlMTI0ZmU3OTcwYmJhY2ExNDFkMmY4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VG9ycmUgUGljYXNzbywgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZDg5N2M3NTc0NzU0ZjhjYmM2Yzc0MDExNmQxNjc4Ni5zZXRDb250ZW50KGh0bWxfNmQ3OTkyMDYwZTEyNGZlNzk3MGJiYWNhMTQxZDJmODUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8xYTllN2I5NWFiMTk0ZWUxODcxOGVlODllMTg5YTM1MC5iaW5kUG9wdXAocG9wdXBfZGQ4OTdjNzU3NDc1NGY4Y2JjNmM3NDAxMTZkMTY3ODYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZDVmYjM2ZDE0MDE2NDhkMDgzMGIzNDQ5MzJmMjM5OTAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40NTY2MjUsLTMuNTk4OTMyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YWNmZWI3NzY1YTI0NmQxYjU3NDYzMjczNjcxMTQ2MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMmIxYTZkNjczMDU0OTA1YTQzZTllMjIxMzZlZjNjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDJiMWE2ZDY3MzA1NDkwNWE0M2U5ZTIyMTM2ZWYzYzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRlbXBsZXRlIGVsIEFiZWplcm8sIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGFjZmViNzc2NWEyNDZkMWI1NzQ2MzI3MzY3MTE0NjMuc2V0Q29udGVudChodG1sXzAyYjFhNmQ2NzMwNTQ5MDVhNDNlOWUyMjEzNmVmM2M5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDVmYjM2ZDE0MDE2NDhkMDgzMGIzNDQ5MzJmMjM5OTAuYmluZFBvcHVwKHBvcHVwXzRhY2ZlYjc3NjVhMjQ2ZDFiNTc0NjMyNzM2NzExNDYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2YzMmViOWFhZWFjMzQ3ZTc4NjVlZThjZDA2NmE2NDE0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDU2NjI1LC0zLjU5ODkzMl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfOTNmYjc4MWZlNGY5NDA1ZDhiYTgwYmFhYWRiODhkODQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGZiOTdhYjExMzk0NDc0ODk2ZGYyY2U0YzBkZGM4MTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDdhMmU3OTE1NGU5NGMzMGEzMDZkYzFkOWYwNmYwMjcgPSAkKCc8ZGl2IGlkPSJodG1sXzA3YTJlNzkxNTRlOTRjMzBhMzA2ZGMxZDlmMDZmMDI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYXJkw61uIEFydMOtc3RpY28gRWwgQ2FwcmljaG8sIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGZiOTdhYjExMzk0NDc0ODk2ZGYyY2U0YzBkZGM4MTMuc2V0Q29udGVudChodG1sXzA3YTJlNzkxNTRlOTRjMzBhMzA2ZGMxZDlmMDZmMDI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZjMyZWI5YWFlYWMzNDdlNzg2NWVlOGNkMDY2YTY0MTQuYmluZFBvcHVwKHBvcHVwXzhmYjk3YWIxMTM5NDQ3NDg5NmRmMmNlNGMwZGRjODEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzU4NDZmOTdmZWU4YTQxNmI5N2M4YWNiOWJiNGVhMzIxID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDU2MTc3OCwtMy41OTQ4ODAyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYWRlYzdkYTNkOTA0YjRhOWJmY2ZmZTBlYWY4MzM2NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MWRhZjdjNTMzNTE0YmZkODVjOWVmNDA3NmQ5N2NlMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjFkYWY3YzUzMzUxNGJmZDg1YzllZjQwNzZkOTdjZTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsYW1lZGEgZGUgT3N1bmEsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWFkZWM3ZGEzZDkwNGI0YTliZmNmZmUwZWFmODMzNjQuc2V0Q29udGVudChodG1sXzYxZGFmN2M1MzM1MTRiZmQ4NWM5ZWY0MDc2ZDk3Y2UxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNTg0NmY5N2ZlZThhNDE2Yjk3YzhhY2I5YmI0ZWEzMjEuYmluZFBvcHVwKHBvcHVwX2VhZGVjN2RhM2Q5MDRiNGE5YmZjZmZlMGVhZjgzMzY0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2Y0NWE5MjNmMTFmZTQzYzNiM2FlM2Q0NjJhNDg3ZTA4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDQxNTczNSwtMy42MjcxMzUwOTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmMTVjMmUzZjA0ZDRjMmY5NGE5ZGRkNjBlYTFkZGYxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RhZGVmYjQzMjJlMTQ0ZjdhNmNmZDZhZjY5ZjY4NWQyID0gJCgnPGRpdiBpZD0iaHRtbF9kYWRlZmI0MzIyZTE0NGY3YTZjZmQ2YWY2OWY2ODVkMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFycXVlIFF1aW50YSBkZSBsb3MgTW9saW5vczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmYxNWMyZTNmMDRkNGMyZjk0YTlkZGQ2MGVhMWRkZjEuc2V0Q29udGVudChodG1sX2RhZGVmYjQzMjJlMTQ0ZjdhNmNmZDZhZjY5ZjY4NWQyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZjQ1YTkyM2YxMWZlNDNjM2IzYWUzZDQ2MmE0ODdlMDguYmluZFBvcHVwKHBvcHVwX2ZmMTVjMmUzZjA0ZDRjMmY5NGE5ZGRkNjBlYTFkZGYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2Q2OWZmZDkyZDYzNjRhOTk4MTk0ZTg0OTAyN2JiNjExID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDQwNzMxNSwtMy42NzAxMDQ0OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUwYjFiN2UzMWJjNDQzYzk5NTI5MGQ4YTdjZmQ1ZTUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdhYjdmZGIyMzU5ZDQxMzE5YTZkNjUzMDY3M2U1YmFkID0gJCgnPGRpdiBpZD0iaHRtbF83YWI3ZmRiMjM1OWQ0MTMxOWE2ZDY1MzA2NzNlNWJhZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SG90ZWwgU2lsa2VuIFB1ZXJ0YSBBbcOpcmljYSBlbiBNYWRyaWQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUwYjFiN2UzMWJjNDQzYzk5NTI5MGQ4YTdjZmQ1ZTUyLnNldENvbnRlbnQoaHRtbF83YWI3ZmRiMjM1OWQ0MTMxOWE2ZDY1MzA2NzNlNWJhZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2Q2OWZmZDkyZDYzNjRhOTk4MTk0ZTg0OTAyN2JiNjExLmJpbmRQb3B1cChwb3B1cF81MGIxYjdlMzFiYzQ0M2M5OTUyOTBkOGE3Y2ZkNWU1Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kZTE3MjU1NjRhMTA0MjdmODEyZWUyODQ5ZDQ1YjFjOSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjQyNTc5ODIsLTMuNzAxODk0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wYmY4YmUwODU3ZjE0MTU1OGRkMzQ1Yjc5M2UyNThmOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYWU5NTlkZWMxMjA0Yjg2OWFiMjBmZjg2NGU2MzZhZSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2FlOTU5ZGVjMTIwNGI4NjlhYjIwZmY4NjRlNjM2YWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkN1YWRybyBNYWxhc2HDsWEsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGJmOGJlMDg1N2YxNDE1NThkZDM0NWI3OTNlMjU4Zjguc2V0Q29udGVudChodG1sX2NhZTk1OWRlYzEyMDRiODY5YWIyMGZmODY0ZTYzNmFlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGUxNzI1NTY0YTEwNDI3ZjgxMmVlMjg0OWQ0NWIxYzkuYmluZFBvcHVwKHBvcHVwXzBiZjhiZTA4NTdmMTQxNTU4ZGQzNDViNzkzZTI1OGY4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQ2MzdjYmMxYThjOTQyNzc4OGVmNmQ3NjM0ZjdjOTY1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNDE1Mzg0NiwtMy43MDI1ODIyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl85M2ZiNzgxZmU0Zjk0MDVkOGJhODBiYWFhZGI4OGQ4NCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZWU1MmM3ZDBiYTE0NDFhODEwYTc1OTI4NGU2ZjlhNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yOWZhZWY5YTU1Njg0ZmIzOWRiYmM5ZDMwYWYxZmI5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjlmYWVmOWE1NTY4NGZiMzlkYmJjOWQzMGFmMWZiOTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGxlIEJhcmNlbG9uYSwgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZWU1MmM3ZDBiYTE0NDFhODEwYTc1OTI4NGU2ZjlhNy5zZXRDb250ZW50KGh0bWxfMjlmYWVmOWE1NTY4NGZiMzlkYmJjOWQzMGFmMWZiOTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80NjM3Y2JjMWE4Yzk0Mjc3ODhlZjZkNzYzNGY3Yzk2NS5iaW5kUG9wdXAocG9wdXBfNWVlNTJjN2QwYmExNDQxYTgxMGE3NTkyODRlNmY5YTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZWUzZjBhYjlkNTBjNGZkZmE3OGM0NzhkNWY3NmZjOTcgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40NzkwMDM0LC0zLjg3MzA4MjddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RjOTA3NzBlMzhhYzRkZDU4ZmZkMDczMmFmNTg0NWQ3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzllNGRlNDViOWQwMjRiYTViZjY2NDgxOTRhMTk0ZWY3ID0gJCgnPGRpdiBpZD0iaHRtbF85ZTRkZTQ1YjlkMDI0YmE1YmY2NjQ4MTk0YTE5NGVmNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FsbGUgSHVlcnRhcywgTWFkcmlkPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYzkwNzcwZTM4YWM0ZGQ1OGZmZDA3MzJhZjU4NDVkNy5zZXRDb250ZW50KGh0bWxfOWU0ZGU0NWI5ZDAyNGJhNWJmNjY0ODE5NGExOTRlZjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lZTNmMGFiOWQ1MGM0ZmRmYTc4YzQ3OGQ1Zjc2ZmM5Ny5iaW5kUG9wdXAocG9wdXBfZGM5MDc3MGUzOGFjNGRkNThmZmQwNzMyYWY1ODQ1ZDcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfODBkYTViZjA5OWVmNGUxNmFkYmYxODExMzc2ZTRhNGMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC40MTIzMzY3LC0zLjY5Nzk2NDddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzkzZmI3ODFmZTRmOTQwNWQ4YmE4MGJhYWFkYjg4ZDg0KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYxOGNkYzkxNDBlODRjMGE4ZTYwZDUyOTM5ODI2ODAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UyNDQzODMwM2NlMjQwMThiZmE2YmExZjE1NGNiOTAyID0gJCgnPGRpdiBpZD0iaHRtbF9lMjQ0MzgzMDNjZTI0MDE4YmZhNmJhMWYxNTRjYjkwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FsbGUgZGUgTW9yYXTDrW4sIDUsIE1hZHJpZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjE4Y2RjOTE0MGU4NGMwYThlNjBkNTI5Mzk4MjY4MDAuc2V0Q29udGVudChodG1sX2UyNDQzODMwM2NlMjQwMThiZmE2YmExZjE1NGNiOTAyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfODBkYTViZjA5OWVmNGUxNmFkYmYxODExMzc2ZTRhNGMuYmluZFBvcHVwKHBvcHVwXzYxOGNkYzkxNDBlODRjMGE4ZTYwZDUyOTM5ODI2ODAwKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" webkitallowfullscreen=""></iframe></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [95]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">Madrid</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="s2">"long"</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">"lat"</span><span class="p">]],</span> <span class="n">row</span><span class="p">[</span><span class="s2">"Sitio"</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[-3.6945569, 40.4079123] Centro de Arte Reina Sofía
[-3.6921271, 40.4137818] Museo Nacional del Prado
[-3.5933781, 40.2302989] El Parque Warner Madrid
[-3.714311999999999, 40.417955] Palacio Real de Madrid
[-3.6883445, 40.4530541] Estadio Santiago Bernabéu
[-3.6949254, 40.4160406] Museo Thyssen
[-3.693571, 40.411112] CaixaFórum Madrid
[-4.1477268, 40.5890408] Monasterio de San Lorenzo de El Escorial
[-3.7029772, 40.4061755] Tabacalera, Madrid
[-3.7038, 40.41640599999999] Casa de Correos en la Puerta del Sol en Madrid
[-3.7074009, 40.415511] plaza Mayor de Madrid
[-3.7074088, 40.4158477] Casa de la Panadería en la plaza Mayor de Madrid
[-3.7035285, 40.4169473] Puerta del Sol
[-3.7102272, 40.4152353] Plaza de la Villa
[-3.709358, 40.4180611] Plaza de Isabel II
[-3.7124001, 40.4183493] Plaza de Oriente
[-3.7139672, 40.4202739] Jardines de Sabatini
[-3.714552, 40.415651] Catedral de la Almudena
[-3.7114761, 40.4128574] Plaza de la Paja
[-3.6932975, 40.4144265] Paseo del Prado, Madrid
[-3.6935884, 40.4099615] Triángulo del Arte, Madrid
[-3.690886, 40.406442] Estación de Atocha
[-3.6972508, 40.418826] Edificio Metrópolis en la Gran Vía
[-3.700832199999999, 40.4201097] Casino Gran Vía
[-3.708144, 40.421437] Hotel Emperador Madrid
[-70.6326495, -33.4680428] Centenario de la Gran Via, Madrid
[-3.7121647, 40.4233828] Plaza de España en Madrid
[-3.6474333, 40.433453] Calle Alcalá, Madrid
[-3.6964252, 40.4202074] Casa de las Siete Chimeneas
[-3.6930836, 40.4193371] Fuente de la Diosa Cibeles, Madrid
[-3.6930836, 40.4193371] Fuente de Cibeles
[-3.692151, 40.419791] Palacio de Linares
[-3.6844995, 40.4152606] Parque del Retiro
[-3.6819525, 40.4151683] Palacio de Cristal del parque del Retiro en Madrid
[-3.7008313, 40.414704] Plaza de Santa Ana
[-3.6974563, 40.4143821] Casa Museo de Lope de Vega
[-3.697011, 40.413311] Barrio de las Letras
[-107.915571, 30.4176193] Casa de Cervantes
[-3.700084, 40.41383099999999] Casa Alberto, Madrid
[-3.7145751, 40.41055120000001] Basílica de San Francisco el Grande
[-3.7143446, 40.4099812] Parque de la Dalieda de San Francisco
[-3.712664, 40.4116379] palacio del marqués de Villafranca
[-3.6925173, 40.4354363] Museo Sorolla de Madrid
[-3.7109346, 40.3980331] Parque de  Arganzuela
[-3.6925173, 40.4354363] jardín andaluz del Museo Sorolla
[-3.7017596, 40.4237683] Bodega la Ardosa de la calle Colón
[-73.5796435, 41.4041113] Restaurante Las Mañanitas
[-3.696775999999999, 40.4253474] Palacio de Longoria, Madrid
[-3.6507828, 40.4502221] Restaurante Wogaboo
[-3.721673, 40.437304] mirador del Faro de Moncloa
[-3.714541, 40.423764] museo Cerralbo, palacio del siglo XIX
[-3.717769499999999, 40.4240216] Templo de Debod en Madrid
[-3.7164507, 40.42309059999999] Parque del Cuartel de la Montaña
[-3.7227934, 40.4139658] Puente de Segovia en el parque Madrid Río
[-3.7219103, 40.4264992] Jardines de la Rosaleda
[-3.7264037, 40.4310526] Parque del Oeste
[-3.7255291, 40.4253389] Ermita de San Antonio de la Florida
[-3.7015641, 40.4327877] Plaza de Olavide
[-3.7219663, 40.4383189] museo de América, Madrid
[-3.6847825, 40.4804472] Paseo de la Castellana
[-3.6876267, 40.4775208] Cuatro Torres Business Area,Madrid
[-3.6847825, 40.4804472] Paseo de la Castellana
[-3.687918, 40.4767085] Torre PwC, Madrid
[-3.6868755, 40.4782678] Torre Cristal, Madrid
[-3.6865707, 40.4790706] Torre Espacio, Madrid
[-3.689575, 40.4664091] Plaza de Castilla, Madrid
[-3.6925, 40.450278] Torre Picasso, Madrid
[-3.598932, 40.456625] Templete el Abejero, Madrid
[-3.598932, 40.456625] Jardín Artístico El Capricho, Madrid
[-3.5948802, 40.4561778] Alameda de Osuna, Madrid
[-3.627135099999999, 40.4415735] Parque Quinta de los Molinos
[-3.670104499999999, 40.4407315] Hotel Silken Puerta América en Madrid
[-3.701894, 40.4257982] Cuadro Malasaña, Madrid
[-3.7025822, 40.4153846] Calle Barcelona, Madrid
[-3.8730827, 40.4790034] Calle Huertas, Madrid
[-3.6979647, 40.4123367] Calle de Moratín, 5, Madrid
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [96]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">folium.plugins</span> <span class="k">import</span> <span class="n">MarkerCluster</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">40.4381311</span><span class="p">,</span><span class="o">-</span><span class="mf">3.8196225</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">marker_cluster</span> <span class="o">=</span> <span class="n">MarkerCluster</span><span class="p">()</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>


<span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">3.6979647</span><span class="p">,</span> <span class="mf">40.4123367</span><span class="p">],</span>
    <span class="n">popup</span><span class="o">=</span><span class="s1">'Casa del Bebón.'</span><span class="p">,</span>
    <span class="n">icon</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s1">'ok-sign'</span><span class="p">),</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">marker_cluster</span><span class="p">)</span>

<span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">3.8730827</span><span class="p">,</span> <span class="mf">40.4790034</span><span class="p">],</span>
    <span class="n">popup</span><span class="o">=</span><span class="s1">'Add popup text here.'</span><span class="p">,</span>
    <span class="n">icon</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s1">'remove-sign'</span><span class="p">),</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">marker_cluster</span><span class="p">)</span>

<span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">3.701894</span><span class="p">,</span> <span class="mf">40.4257982</span><span class="p">],</span>
    <span class="n">popup</span><span class="o">=</span><span class="s1">'Add popup text here.'</span><span class="p">,</span>
    <span class="n">icon</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">marker_cluster</span><span class="p">)</span>

<span class="c1">#m.save(os.path.join('results', '1000_MarkerCluster0.html'))</span>
<span class="n">m</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'results/Madrid_Data.html'</span><span class="p">)</span>

<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[96]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe allowfullscreen="" mozallowfullscreen="" src="data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2dpdC5jb20vcHl0aG9uLXZpc3VhbGl6YXRpb24vZm9saXVtL21hc3Rlci9mb2xpdW0vdGVtcGxhdGVzL2xlYWZsZXQuYXdlc29tZS5yb3RhdGUuY3NzIiAvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfYjNlYTM3OTI4MGE5NGEzZGE3NWU5YjBhMzExNDY3OTkgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9NYXJrZXJDbHVzdGVyLkRlZmF1bHQuY3NzIiAvPgo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2IzZWEzNzkyODBhOTRhM2RhNzVlOWIwYTMxMTQ2Nzk5IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9iM2VhMzc5MjgwYTk0YTNkYTc1ZTliMGEzMTE0Njc5OSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9iM2VhMzc5MjgwYTk0YTNkYTc1ZTliMGEzMTE0Njc5OScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDAuNDM4MTMxMSwtMy44MTk2MjI1XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyX2Y4M2RmZTkzYzhjMTRhNDhhOTYyMTNiOTA1NDY5MmY5ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2IzZWEzNzkyODBhOTRhM2RhNzVlOWIwYTMxMTQ2Nzk5KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2NsdXN0ZXJfNmE3MTNkM2E0MWI3NDI4OThiYjc2NmY1YzcwZDg2NDkgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG1hcF9iM2VhMzc5MjgwYTk0YTNkYTc1ZTliMGEzMTE0Njc5OS5hZGRMYXllcihtYXJrZXJfY2x1c3Rlcl82YTcxM2QzYTQxYjc0Mjg5OGJiNzY2ZjVjNzBkODY0OSk7CiAgICAgICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzBhYjg3ZDFjYTdiOTRhZjBiZmQ1ZTZhMDM5NjgxNWQ3ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbLTMuNjk3OTY0Nyw0MC40MTIzMzY3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl82YTcxM2QzYTQxYjc0Mjg5OGJiNzY2ZjVjNzBkODY0OSk7CiAgICAgICAgICAgIAogICAgCgogICAgICAgICAgICAgICAgdmFyIGljb25fYjM1MjgzNTk4ZjRlNDg5NDkzYWI4OTE0NDM0MzMyMDcgPSBMLkF3ZXNvbWVNYXJrZXJzLmljb24oewogICAgICAgICAgICAgICAgICAgIGljb246ICdvay1zaWduJywKICAgICAgICAgICAgICAgICAgICBpY29uQ29sb3I6ICd3aGl0ZScsCiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ29sb3I6ICdncmVlbicsCiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAnZ2x5cGhpY29uJywKICAgICAgICAgICAgICAgICAgICBleHRyYUNsYXNzZXM6ICdmYS1yb3RhdGUtMCcKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG1hcmtlcl8wYWI4N2QxY2E3Yjk0YWYwYmZkNWU2YTAzOTY4MTVkNy5zZXRJY29uKGljb25fYjM1MjgzNTk4ZjRlNDg5NDkzYWI4OTE0NDM0MzMyMDcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGMxMDQ5ZmFkZTZkNDM3NWI1MzBjOTQ4Njc5NDRhYzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWVmOWYwZmZkNDBiNDg2NjgyZjNhOWFiM2I5NmZkOTQgPSAkKCc8ZGl2IGlkPSJodG1sXzVlZjlmMGZmZDQwYjQ4NjY4MmYzYTlhYjNiOTZmZDk0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYXNhIGRlbCBCZWLDs24uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYzEwNDlmYWRlNmQ0Mzc1YjUzMGM5NDg2Nzk0NGFjNS5zZXRDb250ZW50KGh0bWxfNWVmOWYwZmZkNDBiNDg2NjgyZjNhOWFiM2I5NmZkOTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8wYWI4N2QxY2E3Yjk0YWYwYmZkNWU2YTAzOTY4MTVkNy5iaW5kUG9wdXAocG9wdXBfZGMxMDQ5ZmFkZTZkNDM3NWI1MzBjOTQ4Njc5NDRhYzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNGI1NDllYTlmYjFmNDYxNThiNzk5ZDAxYjkyMGVmMmMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFstMy44NzMwODI3LDQwLjQ3OTAwMzRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzZhNzEzZDNhNDFiNzQyODk4YmI3NjZmNWM3MGQ4NjQ5KTsKICAgICAgICAgICAgCiAgICAKCiAgICAgICAgICAgICAgICB2YXIgaWNvbl8xZWExZmQ5NjdjZGY0Mzg4YmJlMzdjZGRiYWZiMzczZCA9IEwuQXdlc29tZU1hcmtlcnMuaWNvbih7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3JlbW92ZS1zaWduJywKICAgICAgICAgICAgICAgICAgICBpY29uQ29sb3I6ICd3aGl0ZScsCiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ29sb3I6ICdyZWQnLAogICAgICAgICAgICAgICAgICAgIHByZWZpeDogJ2dseXBoaWNvbicsCiAgICAgICAgICAgICAgICAgICAgZXh0cmFDbGFzc2VzOiAnZmEtcm90YXRlLTAnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBtYXJrZXJfNGI1NDllYTlmYjFmNDYxNThiNzk5ZDAxYjkyMGVmMmMuc2V0SWNvbihpY29uXzFlYTFmZDk2N2NkZjQzODhiYmUzN2NkZGJhZmIzNzNkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0NTEyODhlY2M4YzRmMWQ4MTk3ZGUyNDU4ODQ1ZmM1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJkNjI2MjRkNmUyNDRlMzI5YjI0ZjFjOTcwMWQyMGNiID0gJCgnPGRpdiBpZD0iaHRtbF8yZDYyNjI0ZDZlMjQ0ZTMyOWIyNGYxYzk3MDFkMjBjYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWRkIHBvcHVwIHRleHQgaGVyZS48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M0NTEyODhlY2M4YzRmMWQ4MTk3ZGUyNDU4ODQ1ZmM1LnNldENvbnRlbnQoaHRtbF8yZDYyNjI0ZDZlMjQ0ZTMyOWIyNGYxYzk3MDFkMjBjYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzRiNTQ5ZWE5ZmIxZjQ2MTU4Yjc5OWQwMWI5MjBlZjJjLmJpbmRQb3B1cChwb3B1cF9jNDUxMjg4ZWNjOGM0ZjFkODE5N2RlMjQ1ODg0NWZjNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9hYWEzMjg2MTAzNjU0NGM3ODIzOTUzNmM2NGZkMWIzMCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWy0zLjcwMTg5NCw0MC40MjU3OTgyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl82YTcxM2QzYTQxYjc0Mjg5OGJiNzY2ZjVjNzBkODY0OSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YzNjMjExNDhmOWE0ZjEyYmZmODYyNmFjMzFjNmYyYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81M2UwODMwYWRlMTM0YWU1YTFhYzNhMjk5YzFmNjhlZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNTNlMDgzMGFkZTEzNGFlNWExYWMzYTI5OWMxZjY4ZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFkZCBwb3B1cCB0ZXh0IGhlcmUuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84YzNjMjExNDhmOWE0ZjEyYmZmODYyNmFjMzFjNmYyYi5zZXRDb250ZW50KGh0bWxfNTNlMDgzMGFkZTEzNGFlNWExYWMzYTI5OWMxZjY4ZWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9hYWEzMjg2MTAzNjU0NGM3ODIzOTUzNmM2NGZkMWIzMC5iaW5kUG9wdXAocG9wdXBfOGMzYzIxMTQ4ZjlhNGYxMmJmZjg2MjZhYzMxYzZmMmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" webkitallowfullscreen=""></iframe></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">to_clipboard</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">to_latex</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[42]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'\\begin{tabular}{lllllllllllr}\n\\toprule\n{} &amp;  Carrier &amp;          Depart\\_AP &amp; Depart\\_Code &amp;             Depart\\_Date &amp;         Arrival\\_AP &amp; Arrival\\_Code &amp;            Arrival\\_Date &amp; Flight\\_Nr &amp; Reservation &amp;        Passenger &amp;  Price \\\\\n\\midrule\n0 &amp;  RyanAir &amp;      Cologen(Bonn) &amp;         CGN &amp;   Wed 28 Feb 18 - 10:10 &amp;          Madrid T1 &amp;          MAD &amp;   Wed 28 Feb 18 - 12:50 &amp;    FR3016 &amp;      DNQL5Y &amp;  Henning Schmies &amp;  21.56 \\\\\n1 &amp;  RyanAir &amp;          Madrid T1 &amp;         MAD &amp;    Mon 05 Mar 18 - 6:25 &amp;      Cologen(Bonn) &amp;          CGN &amp;   Mon 05 Mar 18 - 09:00 &amp;    FR3017 &amp;      DNQL5Y &amp;  Henning Schmies &amp;  26.99 \\\\\n2 &amp;  RyanAir &amp;          Madrid T1 &amp;        MAD  &amp;                     NaN &amp;              Porto &amp;          OPO &amp;                     NaN &amp;           &amp;         NaN &amp;  Henning Schmies &amp;    NaN \\\\\n3 &amp;  RyanAir &amp;                NaN &amp;         NaN &amp;                     NaN &amp;                nan &amp;          NaN &amp;                     NaN &amp;       nan &amp;         NaN &amp;  Henning Schmies &amp;    NaN \\\\\n4 &amp;  RyanAir &amp;                    &amp;         NaN &amp;                     NaN &amp;                nan &amp;          NaN &amp;                     NaN &amp;       nan &amp;         NaN &amp;  Henning Schmies &amp;    NaN \\\\\n5 &amp;  RyanAir &amp;   Barcelona Girona &amp;         GRO &amp;          30 Mar - 00:00 &amp;   Düsseldorf Weeze &amp;              &amp;                     NaN &amp;       nan &amp;         NaN &amp;  Henning Schmies &amp;    NaN \\\\\n\\bottomrule\n\\end{tabular}\n'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Data</span><span class="p">[</span><span class="s2">"Depart_Date"</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[39]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>dtype('O')</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="World-Heritage">World Heritage<a class="anchor-link" href="#World-Heritage">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="http://whc.unesco.org/en/list/stat">http://whc.unesco.org/en/list/stat</a>
<a href="https://es.wikipedia.org/wiki/Anexo:Bienes_de_inter%C3%A9s_cultural_de_la_comarca_del_Barcelon%C3%A9s_(provincia_de_Barcelona">https://es.wikipedia.org/wiki/Anexo:Bienes_de_inter%C3%A9s_cultural_de_la_comarca_del_Barcelon%C3%A9s_(provincia_de_Barcelona</a>)
<a href="https://es.wikipedia.org/wiki/Anexo:Bienes_de_inter%C3%A9s_cultural_de_la_ciudad_de_Madrid">https://es.wikipedia.org/wiki/Anexo:Bienes_de_inter%C3%A9s_cultural_de_la_ciudad_de_Madrid</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [62]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Base</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'weoreptc.aspx'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">"ISO-8859-1"</span><span class="p">,</span> <span class="n">lineterminator</span><span class="o">=</span><span class="s1">'</span><span class="se">\r</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [52]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Base</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'weoreptc.csv'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">"ISO-8859-1"</span><span class="p">,</span> <span class="n">lineterminator</span><span class="o">=</span><span class="s1">'</span><span class="se">\r</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [61]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Base</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[61]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>WEO Country Code</th>
<th>ISO</th>
<th>WEO Subject Code</th>
<th>Country</th>
<th>Subject Descriptor</th>
<th>Subject Notes</th>
<th>Units</th>
<th>Scale</th>
<th>Country/Series-specific Notes</th>
<th>1980</th>
<th>...</th>
<th>2014</th>
<th>2015</th>
<th>2016</th>
<th>2017</th>
<th>2018</th>
<th>2019</th>
<th>2020</th>
<th>2021</th>
<th>2022</th>
<th>Estimates Start After</th>
</tr>
</thead>
<tbody>
<tr>
<th>8682</th>
<td>\n698</td>
<td>ZWE</td>
<td>NGDP_FY</td>
<td>Zimbabwe</td>
<td>Gross domestic product corresponding to fiscal...</td>
<td>Gross domestic product corresponding to fiscal...</td>
<td>National currency</td>
<td>Billions</td>
<td>Source: Ministry of Finance or Treasury Latest...</td>
<td>NaN</td>
<td>...</td>
<td>15.834</td>
<td>16.072</td>
<td>16.124</td>
<td>17.105</td>
<td>18.904</td>
<td>20.601</td>
<td>21.434</td>
<td>22.218</td>
<td>22.877</td>
<td>2014.0</td>
</tr>
<tr>
<th>8683</th>
<td>\n698</td>
<td>ZWE</td>
<td>BCA</td>
<td>Zimbabwe</td>
<td>Current account balance</td>
<td>Current account is all transactions other than...</td>
<td>U.S. dollars</td>
<td>Billions</td>
<td>Source: Reserve Bank of Zimbabwe and Ministry ...</td>
<td>-0.301</td>
<td>...</td>
<td>-2.395</td>
<td>-1.495</td>
<td>-0.662</td>
<td>-0.617</td>
<td>-0.159</td>
<td>-0.079</td>
<td>-0.211</td>
<td>-0.370</td>
<td>-0.439</td>
<td>2013.0</td>
</tr>
<tr>
<th>8684</th>
<td>\n698</td>
<td>ZWE</td>
<td>BCA_NGDPD</td>
<td>Zimbabwe</td>
<td>Current account balance</td>
<td>Current account is all transactions other than...</td>
<td>Percent of GDP</td>
<td>NaN</td>
<td>See notes for:  Gross domestic product, curren...</td>
<td>NaN</td>
<td>...</td>
<td>-15.123</td>
<td>-9.303</td>
<td>-4.103</td>
<td>-3.609</td>
<td>-0.840</td>
<td>-0.383</td>
<td>-0.986</td>
<td>-1.667</td>
<td>-1.920</td>
<td>2013.0</td>
</tr>
<tr>
<th>8685</th>
<td>\n</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>8686</th>
<td>\nInternational Monetary Fund, World Economic ...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
<p>5 rows × 53 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [74]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bea</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'bea.csv'</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'all'</span><span class="p">)</span>
<span class="n">bea</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[74]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>16</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Gross Output by Industry</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>[Billions of dollars] Seasonally adjusted at a...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>Bureau of Economic Analysis</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>Release Date: January 19, 2018</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>Line</td>
<td>NaN</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2017</td>
<td>2017</td>
<td>2017</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [75]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dea</span> <span class="o">=</span> <span class="n">bea</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">bea</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dea</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[75]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>16</th>
</tr>
</thead>
<tbody>
<tr>
<th>3</th>
<td>Release Date: January 19, 2018</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>Line</td>
<td>NaN</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2017</td>
<td>2017</td>
<td>2017</td>
</tr>
<tr>
<th>5</th>
<td>Line</td>
<td>NaN</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
</tr>
<tr>
<th>6</th>
<td>1</td>
<td>All industries</td>
<td>30398.5</td>
<td>30960.1</td>
<td>31324.1</td>
<td>31453.3</td>
<td>31134.5</td>
<td>31471.4</td>
<td>31598.9</td>
<td>31520.9</td>
<td>31516.1</td>
<td>31907.1</td>
<td>32267.4</td>
<td>32649.1</td>
<td>33154.6</td>
<td>33456.0</td>
<td>33762.3</td>
</tr>
<tr>
<th>7</th>
<td>2</td>
<td>Private industries</td>
<td>26971.7</td>
<td>27512.9</td>
<td>27841.0</td>
<td>27970.6</td>
<td>27641.6</td>
<td>27943.5</td>
<td>28054.2</td>
<td>27953.4</td>
<td>27950.9</td>
<td>28308.7</td>
<td>28643.2</td>
<td>29015.8</td>
<td>29489.0</td>
<td>29764.0</td>
<td>30036.9</td>
</tr>
<tr>
<th>8</th>
<td>3</td>
<td>Agriculture, forestry, fishing, and hunting</td>
<td>480.9</td>
<td>509.1</td>
<td>492.6</td>
<td>492.8</td>
<td>454.4</td>
<td>447.2</td>
<td>451.9</td>
<td>438.2</td>
<td>436.0</td>
<td>435.1</td>
<td>422.0</td>
<td>419.3</td>
<td>425.9</td>
<td>420.8</td>
<td>417.0</td>
</tr>
<tr>
<th>9</th>
<td>4</td>
<td>Mining</td>
<td>676.5</td>
<td>721.0</td>
<td>702.1</td>
<td>631.3</td>
<td>507.2</td>
<td>494.3</td>
<td>442.9</td>
<td>386.4</td>
<td>326.8</td>
<td>349.1</td>
<td>368.4</td>
<td>390.2</td>
<td>445.0</td>
<td>454.2</td>
<td>459.3</td>
</tr>
<tr>
<th>10</th>
<td>5</td>
<td>Utilities</td>
<td>446.9</td>
<td>432.8</td>
<td>412.8</td>
<td>424.3</td>
<td>427.7</td>
<td>405.7</td>
<td>402.3</td>
<td>386.1</td>
<td>377.8</td>
<td>385.9</td>
<td>402.8</td>
<td>397.7</td>
<td>392.0</td>
<td>412.9</td>
<td>402.0</td>
</tr>
<tr>
<th>11</th>
<td>6</td>
<td>Construction</td>
<td>1206.5</td>
<td>1240.0</td>
<td>1254.4</td>
<td>1276.9</td>
<td>1303.6</td>
<td>1363.7</td>
<td>1379.2</td>
<td>1375.4</td>
<td>1426.8</td>
<td>1437.7</td>
<td>1442.8</td>
<td>1460.9</td>
<td>1479.6</td>
<td>1458.7</td>
<td>1452.8</td>
</tr>
<tr>
<th>12</th>
<td>7</td>
<td>Manufacturing</td>
<td>6030.4</td>
<td>6123.1</td>
<td>6193.0</td>
<td>6046.9</td>
<td>5795.7</td>
<td>5823.6</td>
<td>5816.3</td>
<td>5704.3</td>
<td>5607.4</td>
<td>5664.1</td>
<td>5737.1</td>
<td>5841.7</td>
<td>5930.6</td>
<td>5948.8</td>
<td>6031.4</td>
</tr>
<tr>
<th>13</th>
<td>8</td>
<td>Durable goods</td>
<td>2873.9</td>
<td>2922.9</td>
<td>3023.9</td>
<td>2984.1</td>
<td>2950.1</td>
<td>2963.0</td>
<td>2969.8</td>
<td>2928.5</td>
<td>2901.2</td>
<td>2886.4</td>
<td>2929.2</td>
<td>2977.7</td>
<td>3009.2</td>
<td>3028.6</td>
<td>3085.6</td>
</tr>
<tr>
<th>14</th>
<td>9</td>
<td>Nondurable goods</td>
<td>3156.5</td>
<td>3200.3</td>
<td>3169.1</td>
<td>3062.8</td>
<td>2845.5</td>
<td>2860.6</td>
<td>2846.5</td>
<td>2775.8</td>
<td>2706.2</td>
<td>2777.6</td>
<td>2807.8</td>
<td>2864.0</td>
<td>2921.4</td>
<td>2920.2</td>
<td>2945.8</td>
</tr>
<tr>
<th>15</th>
<td>10</td>
<td>Wholesale trade</td>
<td>1521.3</td>
<td>1548.1</td>
<td>1588.3</td>
<td>1601.6</td>
<td>1572.5</td>
<td>1582.5</td>
<td>1588.2</td>
<td>1562.0</td>
<td>1541.0</td>
<td>1555.0</td>
<td>1579.5</td>
<td>1635.6</td>
<td>1669.4</td>
<td>1676.6</td>
<td>1706.9</td>
</tr>
<tr>
<th>16</th>
<td>11</td>
<td>Retail trade</td>
<td>1523.3</td>
<td>1567.3</td>
<td>1587.5</td>
<td>1611.6</td>
<td>1616.0</td>
<td>1647.5</td>
<td>1690.4</td>
<td>1676.9</td>
<td>1694.7</td>
<td>1708.4</td>
<td>1724.1</td>
<td>1744.8</td>
<td>1763.8</td>
<td>1773.3</td>
<td>1794.3</td>
</tr>
<tr>
<th>17</th>
<td>12</td>
<td>Transportation and warehousing</td>
<td>1039.1</td>
<td>1066.8</td>
<td>1077.8</td>
<td>1104.4</td>
<td>1079.7</td>
<td>1081.1</td>
<td>1084.3</td>
<td>1073.4</td>
<td>1060.8</td>
<td>1058.5</td>
<td>1066.6</td>
<td>1082.3</td>
<td>1094.8</td>
<td>1116.9</td>
<td>1105.3</td>
</tr>
<tr>
<th>18</th>
<td>13</td>
<td>Information</td>
<td>1470.4</td>
<td>1484.5</td>
<td>1500.1</td>
<td>1517.6</td>
<td>1527.1</td>
<td>1550.6</td>
<td>1560.4</td>
<td>1591.7</td>
<td>1609.4</td>
<td>1605.9</td>
<td>1633.2</td>
<td>1640.9</td>
<td>1661.2</td>
<td>1679.7</td>
<td>1708.9</td>
</tr>
<tr>
<th>19</th>
<td>14</td>
<td>Finance, insurance, real estate, rental, and...</td>
<td>5243.4</td>
<td>5347.1</td>
<td>5414.1</td>
<td>5492.4</td>
<td>5539.9</td>
<td>5621.3</td>
<td>5627.7</td>
<td>5693.6</td>
<td>5726.8</td>
<td>5839.7</td>
<td>5924.7</td>
<td>5960.5</td>
<td>6072.7</td>
<td>6178.5</td>
<td>6221.0</td>
</tr>
<tr>
<th>20</th>
<td>15</td>
<td>Finance and insurance</td>
<td>2146.2</td>
<td>2195.9</td>
<td>2211.7</td>
<td>2254.0</td>
<td>2287.9</td>
<td>2345.8</td>
<td>2321.8</td>
<td>2353.9</td>
<td>2343.6</td>
<td>2403.2</td>
<td>2442.9</td>
<td>2443.7</td>
<td>2504.2</td>
<td>2573.8</td>
<td>2583.8</td>
</tr>
<tr>
<th>21</th>
<td>16</td>
<td>Real estate and rental and leasing</td>
<td>3097.2</td>
<td>3151.3</td>
<td>3202.4</td>
<td>3238.4</td>
<td>3251.9</td>
<td>3275.5</td>
<td>3305.9</td>
<td>3339.7</td>
<td>3383.3</td>
<td>3436.5</td>
<td>3481.8</td>
<td>3516.8</td>
<td>3568.5</td>
<td>3604.7</td>
<td>3637.1</td>
</tr>
<tr>
<th>22</th>
<td>17</td>
<td>Professional and business services</td>
<td>3241.5</td>
<td>3299.1</td>
<td>3358.3</td>
<td>3425.4</td>
<td>3449.0</td>
<td>3482.5</td>
<td>3514.0</td>
<td>3524.1</td>
<td>3556.7</td>
<td>3614.7</td>
<td>3644.6</td>
<td>3670.8</td>
<td>3716.3</td>
<td>3763.4</td>
<td>3783.6</td>
</tr>
<tr>
<th>23</th>
<td>18</td>
<td>Professional, scientific, and technical se...</td>
<td>1834.3</td>
<td>1879.8</td>
<td>1919.6</td>
<td>1942.4</td>
<td>1943.1</td>
<td>1967.5</td>
<td>1991.8</td>
<td>1984.7</td>
<td>2026.2</td>
<td>2038.2</td>
<td>2045.8</td>
<td>2073.4</td>
<td>2080.1</td>
<td>2100.6</td>
<td>2098.0</td>
</tr>
<tr>
<th>24</th>
<td>19</td>
<td>Management of companies and enterprises</td>
<td>588.6</td>
<td>582.4</td>
<td>596.0</td>
<td>612.8</td>
<td>629.3</td>
<td>627.5</td>
<td>624.3</td>
<td>636.0</td>
<td>620.5</td>
<td>643.4</td>
<td>644.2</td>
<td>628.3</td>
<td>641.1</td>
<td>648.4</td>
<td>653.2</td>
</tr>
<tr>
<th>25</th>
<td>20</td>
<td>Administrative and waste management services</td>
<td>818.5</td>
<td>836.9</td>
<td>842.7</td>
<td>870.2</td>
<td>876.6</td>
<td>887.6</td>
<td>897.9</td>
<td>903.4</td>
<td>909.9</td>
<td>933.1</td>
<td>954.5</td>
<td>969.1</td>
<td>995.1</td>
<td>1014.3</td>
<td>1032.3</td>
</tr>
<tr>
<th>26</th>
<td>21</td>
<td>Educational services, health care, and socia...</td>
<td>2316.7</td>
<td>2359.6</td>
<td>2410.1</td>
<td>2456.3</td>
<td>2471.0</td>
<td>2504.6</td>
<td>2551.7</td>
<td>2572.7</td>
<td>2592.3</td>
<td>2637.2</td>
<td>2649.8</td>
<td>2693.6</td>
<td>2736.6</td>
<td>2757.6</td>
<td>2804.8</td>
</tr>
<tr>
<th>27</th>
<td>22</td>
<td>Educational services</td>
<td>312.4</td>
<td>316.3</td>
<td>319.0</td>
<td>321.9</td>
<td>323.4</td>
<td>328.0</td>
<td>330.2</td>
<td>334.7</td>
<td>335.7</td>
<td>340.7</td>
<td>339.6</td>
<td>342.5</td>
<td>346.1</td>
<td>351.8</td>
<td>360.7</td>
</tr>
<tr>
<th>28</th>
<td>23</td>
<td>Health care and social assistance</td>
<td>2004.3</td>
<td>2043.4</td>
<td>2091.1</td>
<td>2134.4</td>
<td>2147.6</td>
<td>2176.6</td>
<td>2221.6</td>
<td>2238.0</td>
<td>2256.6</td>
<td>2296.5</td>
<td>2310.2</td>
<td>2351.1</td>
<td>2390.5</td>
<td>2405.8</td>
<td>2444.1</td>
</tr>
<tr>
<th>29</th>
<td>24</td>
<td>Arts, entertainment, recreation, accommodati...</td>
<td>1155.6</td>
<td>1180.6</td>
<td>1205.3</td>
<td>1230.6</td>
<td>1250.4</td>
<td>1277.0</td>
<td>1287.1</td>
<td>1302.5</td>
<td>1316.9</td>
<td>1334.5</td>
<td>1353.8</td>
<td>1371.1</td>
<td>1387.5</td>
<td>1396.6</td>
<td>1410.4</td>
</tr>
<tr>
<th>30</th>
<td>25</td>
<td>Arts, entertainment, and recreation</td>
<td>294.4</td>
<td>291.3</td>
<td>297.0</td>
<td>299.6</td>
<td>310.3</td>
<td>314.3</td>
<td>315.9</td>
<td>316.4</td>
<td>320.9</td>
<td>321.9</td>
<td>333.0</td>
<td>341.9</td>
<td>342.8</td>
<td>352.0</td>
<td>365.9</td>
</tr>
<tr>
<th>31</th>
<td>26</td>
<td>Accommodation and food services</td>
<td>861.2</td>
<td>889.3</td>
<td>908.4</td>
<td>931.0</td>
<td>940.1</td>
<td>962.7</td>
<td>971.2</td>
<td>986.1</td>
<td>996.0</td>
<td>1012.6</td>
<td>1020.8</td>
<td>1029.2</td>
<td>1044.7</td>
<td>1044.6</td>
<td>1044.5</td>
</tr>
<tr>
<th>32</th>
<td>27</td>
<td>Other services, except government</td>
<td>619.0</td>
<td>633.7</td>
<td>644.5</td>
<td>658.6</td>
<td>647.4</td>
<td>661.9</td>
<td>657.9</td>
<td>666.2</td>
<td>677.6</td>
<td>683.0</td>
<td>693.8</td>
<td>706.5</td>
<td>713.3</td>
<td>726.1</td>
<td>739.2</td>
</tr>
<tr>
<th>33</th>
<td>28</td>
<td>Government</td>
<td>3426.8</td>
<td>3447.2</td>
<td>3483.1</td>
<td>3482.7</td>
<td>3492.9</td>
<td>3527.9</td>
<td>3544.7</td>
<td>3567.5</td>
<td>3565.3</td>
<td>3598.4</td>
<td>3624.2</td>
<td>3633.3</td>
<td>3665.6</td>
<td>3692.0</td>
<td>3725.4</td>
</tr>
<tr>
<th>34</th>
<td>29</td>
<td>Federal</td>
<td>1094.2</td>
<td>1093.8</td>
<td>1107.1</td>
<td>1090.2</td>
<td>1098.3</td>
<td>1103.5</td>
<td>1099.5</td>
<td>1103.3</td>
<td>1102.0</td>
<td>1106.6</td>
<td>1111.3</td>
<td>1107.3</td>
<td>1108.7</td>
<td>1114.9</td>
<td>1123.9</td>
</tr>
<tr>
<th>35</th>
<td>30</td>
<td>State and local</td>
<td>2332.6</td>
<td>2353.4</td>
<td>2376.0</td>
<td>2392.4</td>
<td>2394.6</td>
<td>2424.4</td>
<td>2445.2</td>
<td>2464.1</td>
<td>2463.3</td>
<td>2491.8</td>
<td>2512.9</td>
<td>2525.9</td>
<td>2556.9</td>
<td>2577.1</td>
<td>2601.5</td>
</tr>
<tr>
<th>36</th>
<td>31</td>
<td>Addenda:</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>37</th>
<td>32</td>
<td>Private goods-producing industries [1]</td>
<td>8394.4</td>
<td>8593.3</td>
<td>8642.1</td>
<td>8447.8</td>
<td>8060.9</td>
<td>8128.8</td>
<td>8090.3</td>
<td>7904.3</td>
<td>7797.0</td>
<td>7885.9</td>
<td>7970.2</td>
<td>8112.1</td>
<td>8281.2</td>
<td>8282.4</td>
<td>8360.5</td>
</tr>
<tr>
<th>38</th>
<td>33</td>
<td>Private services-producing industries [2]</td>
<td>18577.3</td>
<td>18919.6</td>
<td>19198.9</td>
<td>19522.7</td>
<td>19580.7</td>
<td>19814.7</td>
<td>19964.0</td>
<td>20049.2</td>
<td>20153.9</td>
<td>20422.8</td>
<td>20673.0</td>
<td>20903.7</td>
<td>21207.7</td>
<td>21481.6</td>
<td>21676.4</td>
</tr>
<tr>
<th>39</th>
<td>Legend / Footnotes:</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>40</th>
<td>1. Consists of agriculture, forestry, fishing,...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>41</th>
<td>2. Consists of utilities; wholesale trade; ret...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [79]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Gewicht</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_clipboard</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="n">Gewicht</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[79]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Data</td>
<td>Export</td>
<td>Details</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>User</td>
<td>details</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>Gender</td>
<td>:</td>
<td>Male</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>First</td>
<td>name</td>
<td>:</td>
<td>Henning</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>Surname</td>
<td>:</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>5</th>
<td>Birthday</td>
<td>:</td>
<td>20/03/1986</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>6</th>
<td>Height</td>
<td>:</td>
<td>182</td>
<td>cm</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>7</th>
<td>Weight</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>8</th>
<td>Date</td>
<td>Time</td>
<td>kg</td>
<td>BMI</td>
<td>Body</td>
<td>fat</td>
<td>Water</td>
<td>content</td>
<td>Muscle</td>
</tr>
<tr>
<th>9</th>
<td>percentage</td>
<td>Bone</td>
<td>mass</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>10</th>
<td>14/06/2017</td>
<td>07:53</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>11</th>
<td>AM</td>
<td>82.7</td>
<td>25.0</td>
<td>17.5</td>
<td>57.7</td>
<td>42.4</td>
<td>12.6</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>12</th>
<td>13/06/2017</td>
<td>08:04</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>13</th>
<td>AM</td>
<td>83.5</td>
<td>25.2</td>
<td>17.8</td>
<td>57.3</td>
<td>42.2</td>
<td>12.6</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>14</th>
<td>12/06/2017</td>
<td>08:05</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>15</th>
<td>AM</td>
<td>83.9</td>
<td>25.3</td>
<td>18.0</td>
<td>57.1</td>
<td>42.1</td>
<td>12.7</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>16</th>
<td>02/06/2017</td>
<td>08:52</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>17</th>
<td>AM</td>
<td>81.3</td>
<td>24.5</td>
<td>16.5</td>
<td>58.4</td>
<td>42.8</td>
<td>12.5</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>18</th>
<td>01/06/2017</td>
<td>08:05</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>19</th>
<td>AM</td>
<td>81.5</td>
<td>24.6</td>
<td>16.7</td>
<td>58.2</td>
<td>42.7</td>
<td>12.5</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>20</th>
<td>31/05/2017</td>
<td>09:41</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>21</th>
<td>AM</td>
<td>81.4</td>
<td>24.6</td>
<td>16.6</td>
<td>58.4</td>
<td>42.8</td>
<td>12.5</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>22</th>
<td>23/05/2017</td>
<td>09:57</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>23</th>
<td>AM</td>
<td>81.1</td>
<td>24.5</td>
<td>16.5</td>
<td>58.4</td>
<td>42.8</td>
<td>12.4</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>24</th>
<td>22/05/2017</td>
<td>09:09</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>25</th>
<td>AM</td>
<td>81.8</td>
<td>24.7</td>
<td>16.9</td>
<td>58.1</td>
<td>42.6</td>
<td>12.5</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>26</th>
<td>21/05/2017</td>
<td>11:52</td>
<td>PM</td>
<td>82.5</td>
<td>24.9</td>
<td>17.3</td>
<td>57.8</td>
<td>42.5</td>
<td>12.6</td>
</tr>
<tr>
<th>27</th>
<td>08/03/2017</td>
<td>04:40</td>
<td>PM</td>
<td>80.3</td>
<td>24.2</td>
<td>16.0</td>
<td>58.8</td>
<td>43.0</td>
<td>12.4</td>
</tr>
<tr>
<th>28</th>
<td>08/03/2017</td>
<td>04:39</td>
<td>PM</td>
<td>80.2</td>
<td>24.2</td>
<td>15.9</td>
<td>58.9</td>
<td>43.1</td>
<td>12.4</td>
</tr>
<tr>
<th>29</th>
<td>04/03/2017</td>
<td>12:42</td>
<td>PM</td>
<td>81.0</td>
<td>24.5</td>
<td>16.6</td>
<td>58.4</td>
<td>42.8</td>
<td>12.4</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>213</th>
<td>24/12/2015</td>
<td>08:11</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>214</th>
<td>AM</td>
<td>72.3</td>
<td>21.8</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>215</th>
<td>24/12/2015</td>
<td>03:40</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>216</th>
<td>AM</td>
<td>73.8</td>
<td>22.3</td>
<td>12.4</td>
<td>61.9</td>
<td>44.7</td>
<td>12.1</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>217</th>
<td>23/12/2015</td>
<td>09:53</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>218</th>
<td>AM</td>
<td>74.2</td>
<td>22.4</td>
<td>12.7</td>
<td>61.7</td>
<td>44.6</td>
<td>12.1</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>219</th>
<td>23/12/2015</td>
<td>07:45</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>220</th>
<td>AM</td>
<td>73.7</td>
<td>22.2</td>
<td>12.2</td>
<td>61.9</td>
<td>44.7</td>
<td>12.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>221</th>
<td>Blood</td>
<td>pressure</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>222</th>
<td>Activity</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>223</th>
<td>Sleep</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>224</th>
<td>Date</td>
<td>Time</td>
<td>kg</td>
<td>BMI</td>
<td>Body</td>
<td>fat</td>
<td>Water</td>
<td>content</td>
<td>Muscle</td>
</tr>
<tr>
<th>225</th>
<td>percentage</td>
<td>Bone</td>
<td>mass</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>226</th>
<td>23/12/2015</td>
<td>07:04</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>227</th>
<td>AM</td>
<td>72.7</td>
<td>21.9</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>228</th>
<td>22/12/2015</td>
<td>07:42</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>229</th>
<td>AM</td>
<td>72.1</td>
<td>21.8</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>230</th>
<td>22/12/2015</td>
<td>07:42</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>231</th>
<td>AM</td>
<td>72.4</td>
<td>21.9</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>232</th>
<td>21/12/2015</td>
<td>06:54</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>233</th>
<td>AM</td>
<td>72.7</td>
<td>21.9</td>
<td>11.8</td>
<td>62.4</td>
<td>44.9</td>
<td>11.9</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>234</th>
<td>21/12/2015</td>
<td>06:54</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>235</th>
<td>AM</td>
<td>72.6</td>
<td>21.9</td>
<td>11.7</td>
<td>62.4</td>
<td>44.9</td>
<td>11.9</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>236</th>
<td>20/12/2015</td>
<td>02:26</td>
<td>PM</td>
<td>74.0</td>
<td>22.3</td>
<td>12.4</td>
<td>61.8</td>
<td>44.6</td>
<td>12.1</td>
</tr>
<tr>
<th>237</th>
<td>20/12/2015</td>
<td>10:58</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>238</th>
<td>AM</td>
<td>74.9</td>
<td>22.6</td>
<td>13.0</td>
<td>61.4</td>
<td>44.4</td>
<td>12.1</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>239</th>
<td>Date</td>
<td>Steps</td>
<td>Distance</td>
<td>(km)</td>
<td>Duration</td>
<td>Achieved</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>240</th>
<td>19/12/2015</td>
<td>12000</td>
<td>8.76</td>
<td>02:00</td>
<td>120</td>
<td>%</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>241</th>
<td>Date</td>
<td>Sleep</td>
<td>Deep</td>
<td>Light</td>
<td>Awake</td>
<td>Achieved</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>242</th>
<td>19/12/2015</td>
<td>05:30</td>
<td>05:30</td>
<td>00:00</td>
<td>02:00</td>
<td>78</td>
<td>%</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
<p>243 rows × 9 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [69]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dea</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[69]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>16</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Gross Output by Industry</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>Bureau of Economic Analysis</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>Release Date: January 19, 2018</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>Line</td>
<td>NaN</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2014</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2015</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2016</td>
<td>2017</td>
<td>2017</td>
<td>2017</td>
</tr>
<tr>
<th>5</th>
<td>Line</td>
<td>NaN</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>I</td>
<td>II</td>
<td>III</td>
</tr>
<tr>
<th>6</th>
<td>1</td>
<td>All industries</td>
<td>30398.5</td>
<td>30960.1</td>
<td>31324.1</td>
<td>31453.3</td>
<td>31134.5</td>
<td>31471.4</td>
<td>31598.9</td>
<td>31520.9</td>
<td>31516.1</td>
<td>31907.1</td>
<td>32267.4</td>
<td>32649.1</td>
<td>33154.6</td>
<td>33456.0</td>
<td>33762.3</td>
</tr>
<tr>
<th>7</th>
<td>2</td>
<td>Private industries</td>
<td>26971.7</td>
<td>27512.9</td>
<td>27841.0</td>
<td>27970.6</td>
<td>27641.6</td>
<td>27943.5</td>
<td>28054.2</td>
<td>27953.4</td>
<td>27950.9</td>
<td>28308.7</td>
<td>28643.2</td>
<td>29015.8</td>
<td>29489.0</td>
<td>29764.0</td>
<td>30036.9</td>
</tr>
<tr>
<th>8</th>
<td>3</td>
<td>Agriculture, forestry, fishing, and hunting</td>
<td>480.9</td>
<td>509.1</td>
<td>492.6</td>
<td>492.8</td>
<td>454.4</td>
<td>447.2</td>
<td>451.9</td>
<td>438.2</td>
<td>436.0</td>
<td>435.1</td>
<td>422.0</td>
<td>419.3</td>
<td>425.9</td>
<td>420.8</td>
<td>417.0</td>
</tr>
<tr>
<th>9</th>
<td>4</td>
<td>Mining</td>
<td>676.5</td>
<td>721.0</td>
<td>702.1</td>
<td>631.3</td>
<td>507.2</td>
<td>494.3</td>
<td>442.9</td>
<td>386.4</td>
<td>326.8</td>
<td>349.1</td>
<td>368.4</td>
<td>390.2</td>
<td>445.0</td>
<td>454.2</td>
<td>459.3</td>
</tr>
<tr>
<th>10</th>
<td>5</td>
<td>Utilities</td>
<td>446.9</td>
<td>432.8</td>
<td>412.8</td>
<td>424.3</td>
<td>427.7</td>
<td>405.7</td>
<td>402.3</td>
<td>386.1</td>
<td>377.8</td>
<td>385.9</td>
<td>402.8</td>
<td>397.7</td>
<td>392.0</td>
<td>412.9</td>
<td>402.0</td>
</tr>
<tr>
<th>11</th>
<td>6</td>
<td>Construction</td>
<td>1206.5</td>
<td>1240.0</td>
<td>1254.4</td>
<td>1276.9</td>
<td>1303.6</td>
<td>1363.7</td>
<td>1379.2</td>
<td>1375.4</td>
<td>1426.8</td>
<td>1437.7</td>
<td>1442.8</td>
<td>1460.9</td>
<td>1479.6</td>
<td>1458.7</td>
<td>1452.8</td>
</tr>
<tr>
<th>12</th>
<td>7</td>
<td>Manufacturing</td>
<td>6030.4</td>
<td>6123.1</td>
<td>6193.0</td>
<td>6046.9</td>
<td>5795.7</td>
<td>5823.6</td>
<td>5816.3</td>
<td>5704.3</td>
<td>5607.4</td>
<td>5664.1</td>
<td>5737.1</td>
<td>5841.7</td>
<td>5930.6</td>
<td>5948.8</td>
<td>6031.4</td>
</tr>
<tr>
<th>13</th>
<td>8</td>
<td>Durable goods</td>
<td>2873.9</td>
<td>2922.9</td>
<td>3023.9</td>
<td>2984.1</td>
<td>2950.1</td>
<td>2963.0</td>
<td>2969.8</td>
<td>2928.5</td>
<td>2901.2</td>
<td>2886.4</td>
<td>2929.2</td>
<td>2977.7</td>
<td>3009.2</td>
<td>3028.6</td>
<td>3085.6</td>
</tr>
<tr>
<th>14</th>
<td>9</td>
<td>Nondurable goods</td>
<td>3156.5</td>
<td>3200.3</td>
<td>3169.1</td>
<td>3062.8</td>
<td>2845.5</td>
<td>2860.6</td>
<td>2846.5</td>
<td>2775.8</td>
<td>2706.2</td>
<td>2777.6</td>
<td>2807.8</td>
<td>2864.0</td>
<td>2921.4</td>
<td>2920.2</td>
<td>2945.8</td>
</tr>
<tr>
<th>15</th>
<td>10</td>
<td>Wholesale trade</td>
<td>1521.3</td>
<td>1548.1</td>
<td>1588.3</td>
<td>1601.6</td>
<td>1572.5</td>
<td>1582.5</td>
<td>1588.2</td>
<td>1562.0</td>
<td>1541.0</td>
<td>1555.0</td>
<td>1579.5</td>
<td>1635.6</td>
<td>1669.4</td>
<td>1676.6</td>
<td>1706.9</td>
</tr>
<tr>
<th>16</th>
<td>11</td>
<td>Retail trade</td>
<td>1523.3</td>
<td>1567.3</td>
<td>1587.5</td>
<td>1611.6</td>
<td>1616.0</td>
<td>1647.5</td>
<td>1690.4</td>
<td>1676.9</td>
<td>1694.7</td>
<td>1708.4</td>
<td>1724.1</td>
<td>1744.8</td>
<td>1763.8</td>
<td>1773.3</td>
<td>1794.3</td>
</tr>
<tr>
<th>17</th>
<td>12</td>
<td>Transportation and warehousing</td>
<td>1039.1</td>
<td>1066.8</td>
<td>1077.8</td>
<td>1104.4</td>
<td>1079.7</td>
<td>1081.1</td>
<td>1084.3</td>
<td>1073.4</td>
<td>1060.8</td>
<td>1058.5</td>
<td>1066.6</td>
<td>1082.3</td>
<td>1094.8</td>
<td>1116.9</td>
<td>1105.3</td>
</tr>
<tr>
<th>18</th>
<td>13</td>
<td>Information</td>
<td>1470.4</td>
<td>1484.5</td>
<td>1500.1</td>
<td>1517.6</td>
<td>1527.1</td>
<td>1550.6</td>
<td>1560.4</td>
<td>1591.7</td>
<td>1609.4</td>
<td>1605.9</td>
<td>1633.2</td>
<td>1640.9</td>
<td>1661.2</td>
<td>1679.7</td>
<td>1708.9</td>
</tr>
<tr>
<th>19</th>
<td>14</td>
<td>Finance, insurance, real estate, rental, and...</td>
<td>5243.4</td>
<td>5347.1</td>
<td>5414.1</td>
<td>5492.4</td>
<td>5539.9</td>
<td>5621.3</td>
<td>5627.7</td>
<td>5693.6</td>
<td>5726.8</td>
<td>5839.7</td>
<td>5924.7</td>
<td>5960.5</td>
<td>6072.7</td>
<td>6178.5</td>
<td>6221.0</td>
</tr>
<tr>
<th>20</th>
<td>15</td>
<td>Finance and insurance</td>
<td>2146.2</td>
<td>2195.9</td>
<td>2211.7</td>
<td>2254.0</td>
<td>2287.9</td>
<td>2345.8</td>
<td>2321.8</td>
<td>2353.9</td>
<td>2343.6</td>
<td>2403.2</td>
<td>2442.9</td>
<td>2443.7</td>
<td>2504.2</td>
<td>2573.8</td>
<td>2583.8</td>
</tr>
<tr>
<th>21</th>
<td>16</td>
<td>Real estate and rental and leasing</td>
<td>3097.2</td>
<td>3151.3</td>
<td>3202.4</td>
<td>3238.4</td>
<td>3251.9</td>
<td>3275.5</td>
<td>3305.9</td>
<td>3339.7</td>
<td>3383.3</td>
<td>3436.5</td>
<td>3481.8</td>
<td>3516.8</td>
<td>3568.5</td>
<td>3604.7</td>
<td>3637.1</td>
</tr>
<tr>
<th>22</th>
<td>17</td>
<td>Professional and business services</td>
<td>3241.5</td>
<td>3299.1</td>
<td>3358.3</td>
<td>3425.4</td>
<td>3449.0</td>
<td>3482.5</td>
<td>3514.0</td>
<td>3524.1</td>
<td>3556.7</td>
<td>3614.7</td>
<td>3644.6</td>
<td>3670.8</td>
<td>3716.3</td>
<td>3763.4</td>
<td>3783.6</td>
</tr>
<tr>
<th>23</th>
<td>18</td>
<td>Professional, scientific, and technical se...</td>
<td>1834.3</td>
<td>1879.8</td>
<td>1919.6</td>
<td>1942.4</td>
<td>1943.1</td>
<td>1967.5</td>
<td>1991.8</td>
<td>1984.7</td>
<td>2026.2</td>
<td>2038.2</td>
<td>2045.8</td>
<td>2073.4</td>
<td>2080.1</td>
<td>2100.6</td>
<td>2098.0</td>
</tr>
<tr>
<th>24</th>
<td>19</td>
<td>Management of companies and enterprises</td>
<td>588.6</td>
<td>582.4</td>
<td>596.0</td>
<td>612.8</td>
<td>629.3</td>
<td>627.5</td>
<td>624.3</td>
<td>636.0</td>
<td>620.5</td>
<td>643.4</td>
<td>644.2</td>
<td>628.3</td>
<td>641.1</td>
<td>648.4</td>
<td>653.2</td>
</tr>
<tr>
<th>25</th>
<td>20</td>
<td>Administrative and waste management services</td>
<td>818.5</td>
<td>836.9</td>
<td>842.7</td>
<td>870.2</td>
<td>876.6</td>
<td>887.6</td>
<td>897.9</td>
<td>903.4</td>
<td>909.9</td>
<td>933.1</td>
<td>954.5</td>
<td>969.1</td>
<td>995.1</td>
<td>1014.3</td>
<td>1032.3</td>
</tr>
<tr>
<th>26</th>
<td>21</td>
<td>Educational services, health care, and socia...</td>
<td>2316.7</td>
<td>2359.6</td>
<td>2410.1</td>
<td>2456.3</td>
<td>2471.0</td>
<td>2504.6</td>
<td>2551.7</td>
<td>2572.7</td>
<td>2592.3</td>
<td>2637.2</td>
<td>2649.8</td>
<td>2693.6</td>
<td>2736.6</td>
<td>2757.6</td>
<td>2804.8</td>
</tr>
<tr>
<th>27</th>
<td>22</td>
<td>Educational services</td>
<td>312.4</td>
<td>316.3</td>
<td>319.0</td>
<td>321.9</td>
<td>323.4</td>
<td>328.0</td>
<td>330.2</td>
<td>334.7</td>
<td>335.7</td>
<td>340.7</td>
<td>339.6</td>
<td>342.5</td>
<td>346.1</td>
<td>351.8</td>
<td>360.7</td>
</tr>
<tr>
<th>28</th>
<td>23</td>
<td>Health care and social assistance</td>
<td>2004.3</td>
<td>2043.4</td>
<td>2091.1</td>
<td>2134.4</td>
<td>2147.6</td>
<td>2176.6</td>
<td>2221.6</td>
<td>2238.0</td>
<td>2256.6</td>
<td>2296.5</td>
<td>2310.2</td>
<td>2351.1</td>
<td>2390.5</td>
<td>2405.8</td>
<td>2444.1</td>
</tr>
<tr>
<th>29</th>
<td>24</td>
<td>Arts, entertainment, recreation, accommodati...</td>
<td>1155.6</td>
<td>1180.6</td>
<td>1205.3</td>
<td>1230.6</td>
<td>1250.4</td>
<td>1277.0</td>
<td>1287.1</td>
<td>1302.5</td>
<td>1316.9</td>
<td>1334.5</td>
<td>1353.8</td>
<td>1371.1</td>
<td>1387.5</td>
<td>1396.6</td>
<td>1410.4</td>
</tr>
<tr>
<th>30</th>
<td>25</td>
<td>Arts, entertainment, and recreation</td>
<td>294.4</td>
<td>291.3</td>
<td>297.0</td>
<td>299.6</td>
<td>310.3</td>
<td>314.3</td>
<td>315.9</td>
<td>316.4</td>
<td>320.9</td>
<td>321.9</td>
<td>333.0</td>
<td>341.9</td>
<td>342.8</td>
<td>352.0</td>
<td>365.9</td>
</tr>
<tr>
<th>31</th>
<td>26</td>
<td>Accommodation and food services</td>
<td>861.2</td>
<td>889.3</td>
<td>908.4</td>
<td>931.0</td>
<td>940.1</td>
<td>962.7</td>
<td>971.2</td>
<td>986.1</td>
<td>996.0</td>
<td>1012.6</td>
<td>1020.8</td>
<td>1029.2</td>
<td>1044.7</td>
<td>1044.6</td>
<td>1044.5</td>
</tr>
<tr>
<th>32</th>
<td>27</td>
<td>Other services, except government</td>
<td>619.0</td>
<td>633.7</td>
<td>644.5</td>
<td>658.6</td>
<td>647.4</td>
<td>661.9</td>
<td>657.9</td>
<td>666.2</td>
<td>677.6</td>
<td>683.0</td>
<td>693.8</td>
<td>706.5</td>
<td>713.3</td>
<td>726.1</td>
<td>739.2</td>
</tr>
<tr>
<th>33</th>
<td>28</td>
<td>Government</td>
<td>3426.8</td>
<td>3447.2</td>
<td>3483.1</td>
<td>3482.7</td>
<td>3492.9</td>
<td>3527.9</td>
<td>3544.7</td>
<td>3567.5</td>
<td>3565.3</td>
<td>3598.4</td>
<td>3624.2</td>
<td>3633.3</td>
<td>3665.6</td>
<td>3692.0</td>
<td>3725.4</td>
</tr>
<tr>
<th>34</th>
<td>29</td>
<td>Federal</td>
<td>1094.2</td>
<td>1093.8</td>
<td>1107.1</td>
<td>1090.2</td>
<td>1098.3</td>
<td>1103.5</td>
<td>1099.5</td>
<td>1103.3</td>
<td>1102.0</td>
<td>1106.6</td>
<td>1111.3</td>
<td>1107.3</td>
<td>1108.7</td>
<td>1114.9</td>
<td>1123.9</td>
</tr>
<tr>
<th>35</th>
<td>30</td>
<td>State and local</td>
<td>2332.6</td>
<td>2353.4</td>
<td>2376.0</td>
<td>2392.4</td>
<td>2394.6</td>
<td>2424.4</td>
<td>2445.2</td>
<td>2464.1</td>
<td>2463.3</td>
<td>2491.8</td>
<td>2512.9</td>
<td>2525.9</td>
<td>2556.9</td>
<td>2577.1</td>
<td>2601.5</td>
</tr>
<tr>
<th>36</th>
<td>31</td>
<td>Addenda:</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>37</th>
<td>32</td>
<td>Private goods-producing industries [1]</td>
<td>8394.4</td>
<td>8593.3</td>
<td>8642.1</td>
<td>8447.8</td>
<td>8060.9</td>
<td>8128.8</td>
<td>8090.3</td>
<td>7904.3</td>
<td>7797.0</td>
<td>7885.9</td>
<td>7970.2</td>
<td>8112.1</td>
<td>8281.2</td>
<td>8282.4</td>
<td>8360.5</td>
</tr>
<tr>
<th>38</th>
<td>33</td>
<td>Private services-producing industries [2]</td>
<td>18577.3</td>
<td>18919.6</td>
<td>19198.9</td>
<td>19522.7</td>
<td>19580.7</td>
<td>19814.7</td>
<td>19964.0</td>
<td>20049.2</td>
<td>20153.9</td>
<td>20422.8</td>
<td>20673.0</td>
<td>20903.7</td>
<td>21207.7</td>
<td>21481.6</td>
<td>21676.4</td>
</tr>
<tr>
<th>39</th>
<td>Legend / Footnotes:</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>40</th>
<td>1. Consists of agriculture, forestry, fishing,...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<th>41</th>
<td>2. Consists of utilities; wholesale trade; ret...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Airport-database">Airport database<a class="anchor-link" href="#Airport-database">¶</a></h2><p>As of January 2017, the OpenFlights Airports Database contains over 10,000 airports, train stations and ferry terminals spanning the globe, as shown in the map above. Each entry contains the following information:</p>
<p>Airport ID  Unique OpenFlights identifier for this airport.</p>
<p>Name    Name of airport. May or may not contain the City name.</p>
<p>City    Main city served by airport. May be spelled differently from Name.</p>
<p>Country     Country or territory where airport is located. See countries.dat to cross-reference to ISO 3166-1 codes.</p>
<p>IATA    3-letter IATA code. Null if not assigned/unknown.</p>
<p>ICAO    4-letter ICAO code.</p>
<p>Null if not assigned.</p>
<p>Latitude    Decimal degrees, usually to six significant digits. Negative is South, positive is North.</p>
<p>Longitude   Decimal degrees, usually to six significant digits. Negative is West, positive is East.</p>
<p>Altitude    In feet.
Timezone    Hours offset from UTC. Fractional hours are expressed as decimals, eg. India is 5.5.
DST     Daylight savings time. One of E (Europe), A (US/Canada), S (South America), O (Australia), Z (New Zealand), N (None) or U (Unknown). See also: Help: Time
Tz database time zone   Timezone in "tz" (Olson) format, eg. "America/Los_Angeles".
Type    Type of the airport. Value "airport" for air terminals, "station" for train stations, "port" for ferry terminals and "unknown" if not known. In airports.csv, only type=airport is included.
Source  Source of this data. "OurAirports" for data sourced from OurAirports, "Legacy" for old data not matched to OurAirports (mostly DAFIF), "User" for unverified user contributions. In airports.csv, only source=OurAirports is included.</p>
<p>The data is UTF-8 (Unicode) encoded.</p>
<p>Note: Rules for daylight savings time change from year to year and from country to country. The current data is an approximation for 2009, built on a country level. Most airports in DST-less regions in countries that generally observe DST (eg. AL, HI in the USA, NT, QL in Australia, parts of Canada) are marked incorrectly.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Airports</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Airports</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Routes-Database">Routes Database<a class="anchor-link" href="#Routes-Database">¶</a></h2><p>As of January 2012, the OpenFlights/Airline Route Mapper Route Database contains 59036 routes between 3209 airports on 531 airlines spanning the globe, as shown in the map above. Each entry contains the following information:</p>
<p>Airline     2-letter (IATA) or 3-letter (ICAO) code of the airline.</p>
<p>Airline ID  Unique OpenFlights identifier for airline (see Airline).</p>
<p>Source airport  3-letter (IATA) or 4-letter (ICAO) code of the source airport.</p>
<p>Source airport ID   Unique OpenFlights identifier for source airport (see Airport)</p>
<p>Destination airport     3-letter (IATA) or 4-letter (ICAO) code of the destination airport.</p>
<p>Destination airport ID  Unique OpenFlights identifier for destination airport (see Airport)
Codeshare   "Y" if this flight is a codeshare (that is, not operated by Airline, but another carrier), empty otherwise.
Stops   Number of stops on this flight ("0" for direct)
Equipment   3-letter codes for plane type(s) generally used on this flight, separated by spaces</p>
<p>The data is ISO 8859-1 (Latin-1) encoded. The special value \N is used for "NULL" to indicate that no value is available, and is understood automatically by MySQL if imported.
Notes:</p>
<pre><code>Routes are directional: if an airline operates services from A to B and from B to A, both A-B and B-A are listed separately.
Routes where one carrier operates both its own and codeshare flights are listed only once. </code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Routes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/jpatokal/openflights/master/data/routes.dat'</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Routes</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>2B</th>
<th>410</th>
<th>AER</th>
<th>2965</th>
<th>KZN</th>
<th>2990</th>
<th>Unnamed: 6</th>
<th>0</th>
<th>CR2</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>2B</td>
<td>410</td>
<td>ASF</td>
<td>2966</td>
<td>KZN</td>
<td>2990</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>1</th>
<td>2B</td>
<td>410</td>
<td>ASF</td>
<td>2966</td>
<td>MRV</td>
<td>2962</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>2</th>
<td>2B</td>
<td>410</td>
<td>CEK</td>
<td>2968</td>
<td>KZN</td>
<td>2990</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>3</th>
<td>2B</td>
<td>410</td>
<td>CEK</td>
<td>2968</td>
<td>OVB</td>
<td>4078</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>4</th>
<td>2B</td>
<td>410</td>
<td>DME</td>
<td>4029</td>
<td>KZN</td>
<td>2990</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>5</th>
<td>2B</td>
<td>410</td>
<td>DME</td>
<td>4029</td>
<td>NBC</td>
<td>6969</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>6</th>
<td>2B</td>
<td>410</td>
<td>DME</td>
<td>4029</td>
<td>TGK</td>
<td>\N</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>7</th>
<td>2B</td>
<td>410</td>
<td>DME</td>
<td>4029</td>
<td>UUA</td>
<td>6160</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>8</th>
<td>2B</td>
<td>410</td>
<td>EGO</td>
<td>6156</td>
<td>KGD</td>
<td>2952</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>9</th>
<td>2B</td>
<td>410</td>
<td>EGO</td>
<td>6156</td>
<td>KZN</td>
<td>2990</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>10</th>
<td>2B</td>
<td>410</td>
<td>GYD</td>
<td>2922</td>
<td>NBC</td>
<td>6969</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>11</th>
<td>2B</td>
<td>410</td>
<td>KGD</td>
<td>2952</td>
<td>EGO</td>
<td>6156</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>12</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>AER</td>
<td>2965</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>13</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>ASF</td>
<td>2966</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>14</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>CEK</td>
<td>2968</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>15</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>DME</td>
<td>4029</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>16</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>EGO</td>
<td>6156</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>17</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>LED</td>
<td>2948</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>18</th>
<td>2B</td>
<td>410</td>
<td>KZN</td>
<td>2990</td>
<td>SVX</td>
<td>2975</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>19</th>
<td>2B</td>
<td>410</td>
<td>LED</td>
<td>2948</td>
<td>KZN</td>
<td>2990</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>20</th>
<td>2B</td>
<td>410</td>
<td>LED</td>
<td>2948</td>
<td>NBC</td>
<td>6969</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>21</th>
<td>2B</td>
<td>410</td>
<td>LED</td>
<td>2948</td>
<td>UUA</td>
<td>6160</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>22</th>
<td>2B</td>
<td>410</td>
<td>MRV</td>
<td>2962</td>
<td>ASF</td>
<td>2966</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>23</th>
<td>2B</td>
<td>410</td>
<td>NBC</td>
<td>6969</td>
<td>DME</td>
<td>4029</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>24</th>
<td>2B</td>
<td>410</td>
<td>NBC</td>
<td>6969</td>
<td>GYD</td>
<td>2922</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>25</th>
<td>2B</td>
<td>410</td>
<td>NBC</td>
<td>6969</td>
<td>LED</td>
<td>2948</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>26</th>
<td>2B</td>
<td>410</td>
<td>NBC</td>
<td>6969</td>
<td>SVX</td>
<td>2975</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>27</th>
<td>2B</td>
<td>410</td>
<td>NJC</td>
<td>2972</td>
<td>SVX</td>
<td>2975</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>28</th>
<td>2B</td>
<td>410</td>
<td>NJC</td>
<td>2972</td>
<td>UUA</td>
<td>6160</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>29</th>
<td>2B</td>
<td>410</td>
<td>NUX</td>
<td>4364</td>
<td>SVX</td>
<td>2975</td>
<td>NaN</td>
<td>0</td>
<td>CR2</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>67632</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>ABX</td>
<td>3333</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67633</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>ARM</td>
<td>4062</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67634</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>BHQ</td>
<td>6241</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67635</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>BHS</td>
<td>6249</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67636</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>BNK</td>
<td>4291</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67637</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>DBO</td>
<td>3358</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67638</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>GFF</td>
<td>6271</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67639</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>LSY</td>
<td>6287</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67640</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>MIM</td>
<td>6294</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67641</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>MQL</td>
<td>6298</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67642</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>MYA</td>
<td>6302</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67643</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>NRA</td>
<td>6307</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67644</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>NTL</td>
<td>4320</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67645</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>OAG</td>
<td>6793</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67646</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>PKE</td>
<td>6317</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67647</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>TRO</td>
<td>6794</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67648</th>
<td>ZL</td>
<td>4178</td>
<td>SYD</td>
<td>3361</td>
<td>WGA</td>
<td>3363</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67649</th>
<td>ZL</td>
<td>4178</td>
<td>TRO</td>
<td>6794</td>
<td>GFN</td>
<td>6792</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67650</th>
<td>ZL</td>
<td>4178</td>
<td>TRO</td>
<td>6794</td>
<td>SYD</td>
<td>3361</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67651</th>
<td>ZL</td>
<td>4178</td>
<td>TSV</td>
<td>3330</td>
<td>ISA</td>
<td>3324</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67652</th>
<td>ZL</td>
<td>4178</td>
<td>TSV</td>
<td>3330</td>
<td>WIN</td>
<td>6337</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67653</th>
<td>ZL</td>
<td>4178</td>
<td>WGA</td>
<td>3363</td>
<td>MEL</td>
<td>3339</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67654</th>
<td>ZL</td>
<td>4178</td>
<td>WGA</td>
<td>3363</td>
<td>SYD</td>
<td>3361</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67655</th>
<td>ZL</td>
<td>4178</td>
<td>WIN</td>
<td>6337</td>
<td>LRE</td>
<td>6289</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67656</th>
<td>ZL</td>
<td>4178</td>
<td>WIN</td>
<td>6337</td>
<td>TSV</td>
<td>3330</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67657</th>
<td>ZL</td>
<td>4178</td>
<td>WYA</td>
<td>6334</td>
<td>ADL</td>
<td>3341</td>
<td>NaN</td>
<td>0</td>
<td>SF3</td>
</tr>
<tr>
<th>67658</th>
<td>ZM</td>
<td>19016</td>
<td>DME</td>
<td>4029</td>
<td>FRU</td>
<td>2912</td>
<td>NaN</td>
<td>0</td>
<td>734</td>
</tr>
<tr>
<th>67659</th>
<td>ZM</td>
<td>19016</td>
<td>FRU</td>
<td>2912</td>
<td>DME</td>
<td>4029</td>
<td>NaN</td>
<td>0</td>
<td>734</td>
</tr>
<tr>
<th>67660</th>
<td>ZM</td>
<td>19016</td>
<td>FRU</td>
<td>2912</td>
<td>OSS</td>
<td>2913</td>
<td>NaN</td>
<td>0</td>
<td>734</td>
</tr>
<tr>
<th>67661</th>
<td>ZM</td>
<td>19016</td>
<td>OSS</td>
<td>2913</td>
<td>FRU</td>
<td>2912</td>
<td>NaN</td>
<td>0</td>
<td>734</td>
</tr>
</tbody>
</table>
<p>67662 rows × 9 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Airports</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<th>count</th>
<td>67662.000000</td>
</tr>
<tr>
<th>mean</th>
<td>0.000163</td>
</tr>
<tr>
<th>std</th>
<td>0.012749</td>
</tr>
<tr>
<th>min</th>
<td>0.000000</td>
</tr>
<tr>
<th>25%</th>
<td>0.000000</td>
</tr>
<tr>
<th>50%</th>
<td>0.000000</td>
</tr>
<tr>
<th>75%</th>
<td>0.000000</td>
</tr>
<tr>
<th>max</th>
<td>1.000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Airline-database">Airline database<a class="anchor-link" href="#Airline-database">¶</a></h2><p>As of January 2012, the OpenFlights Airlines Database contains 5888 airlines. Each entry contains the following information:
Airline ID  Unique OpenFlights identifier for this airline.
Name    Name of the airline.
Alias   Alias of the airline. For example, All Nippon Airways is commonly known as "ANA".
IATA    2-letter IATA code, if available.
ICAO    3-letter ICAO code, if available.
Callsign    Airline callsign.
Country     Country or territory where airline is incorporated.
Active  "Y" if the airline is or has until recently been operational, "N" if it is defunct. This field is not reliable: in particular, major airlines that stopped flying long ago, but have not had their IATA code reassigned (eg. Ansett/AN), will incorrectly show as "Y".</p>
<p>The data is ISO 8859-1 (Latin-1) encoded. The special value \N is used for "NULL" to indicate that no value is available, and is understood automatically by MySQL if imported.</p>
<p>Notes: Airlines with null codes/callsigns/countries generally represent user-added airlines. Since the data is intended primarily for current flights, defunct IATA codes are generally not included. For example, "Sabena" is not listed with a SN IATA code, since "SN" is presently used by its successor Brussels Airlines.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Airlines</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'https://raw.githubusercontent.com/jpatokal/openflights/master/data/airlines.dat'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Airlines</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[19]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
</tr>
<tr>
<th>0</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>-1</th>
<td>Unknown</td>
<td>\N</td>
<td>-</td>
<td>NaN</td>
<td>\N</td>
<td>\N</td>
<td>Y</td>
</tr>
<tr>
<th>1</th>
<td>Private flight</td>
<td>\N</td>
<td>-</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Y</td>
</tr>
<tr>
<th>2</th>
<td>135 Airways</td>
<td>\N</td>
<td>NaN</td>
<td>GNL</td>
<td>GENERAL</td>
<td>United States</td>
<td>N</td>
</tr>
<tr>
<th>3</th>
<td>1Time Airline</td>
<td>\N</td>
<td>1T</td>
<td>RNX</td>
<td>NEXTIME</td>
<td>South Africa</td>
<td>Y</td>
</tr>
<tr>
<th>4</th>
<td>2 Sqn No 1 Elementary Flying Training School</td>
<td>\N</td>
<td>NaN</td>
<td>WYT</td>
<td>NaN</td>
<td>United Kingdom</td>
<td>N</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Airlines[1]='Airline ID'</span>
<span class="n">Airlines</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Name'</span><span class="p">,</span> <span class="s1">'Alias'</span><span class="p">,</span> <span class="s1">'IATA'</span><span class="p">,</span> <span class="s1">'ICAO'</span><span class="p">,</span> <span class="s1">'Callsign'</span><span class="p">,</span> <span class="s1">'Country'</span><span class="p">,</span> <span class="s1">'Active'</span><span class="p">]</span> <span class="c1">#'Airline ID',  left out</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Airlines</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[26]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Name</th>
<th>Alias</th>
<th>IATA</th>
<th>ICAO</th>
<th>Callsign</th>
<th>Country</th>
<th>Active</th>
</tr>
<tr>
<th>0</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>-1</th>
<td>Airline ID</td>
<td>\N</td>
<td>-</td>
<td>NaN</td>
<td>\N</td>
<td>\N</td>
<td>Y</td>
</tr>
<tr>
<th>1</th>
<td>Airline ID</td>
<td>\N</td>
<td>-</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Y</td>
</tr>
<tr>
<th>2</th>
<td>Airline ID</td>
<td>\N</td>
<td>NaN</td>
<td>GNL</td>
<td>GENERAL</td>
<td>United States</td>
<td>N</td>
</tr>
<tr>
<th>3</th>
<td>Airline ID</td>
<td>\N</td>
<td>1T</td>
<td>RNX</td>
<td>NEXTIME</td>
<td>South Africa</td>
<td>Y</td>
</tr>
<tr>
<th>4</th>
<td>Airline ID</td>
<td>\N</td>
<td>NaN</td>
<td>WYT</td>
<td>NaN</td>
<td>United Kingdom</td>
<td>N</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">AP</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="s1">'Airports.h5'</span><span class="p">,</span><span class="s1">'keytostore'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>C:\Users\H.Schmies\Anaconda3\lib\site-packages\pandas\core\generic.py:1471: PerformanceWarning: 
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type-&gt;mixed,key-&gt;block2_values] [items-&gt;[1, 2, 3, 4, 5, 9, 10, 11, 12, 13]]

  return pytables.to_hdf(path_or_buf, key, self, **kwargs)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[28]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Sitio</th>
<th>2015</th>
<th>2016</th>
<th>text</th>
<th>link</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Centro de Arte Reina Sofía</td>
<td>3.249.591</td>
<td>3.646.598</td>
<td>El Museo, que abrió sus puertas en 1990 con la...</td>
<td><a example.com="" href="http://example.com/http://www.museore...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Museo Nacional del Prado&lt;/td&gt;
      &lt;td&gt;2.696.666&lt;/td&gt;
      &lt;td&gt;3.033.754&lt;/td&gt;
      &lt;td&gt;Las exposiciones temporales más visitadas, de ...&lt;/td&gt;
      &lt;td&gt;&lt;a href=" http:="" td="" www.museode...<="">
</a></td></tr>
<tr>
<th>2</th>
<td>El Parque Warner Madrid</td>
<td></td>
<td>1.68</td>
<td>Entrar en el parque es sumergirse en un mundo ...</td>
<td><a entradas.p...<="" example.com="" href="http://example.com/http://parquewarne...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;Palacio Real de Madrid&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;1.475.421&lt;/td&gt;
      &lt;td&gt;El Palacio Real se asienta sobre el solar del ...&lt;/td&gt;
      &lt;td&gt;&lt;a href=" http:="" https:="" td="">
</a></td></tr>
<tr>
<th>4</th>
<td>Estadio Santiago Bernabéu</td>
<td>NaN</td>
<td>1.2 millones</td>
<td>El estadio Santiago Bernabéu si situó quinto e...</td>
<td><a href="http://example.com/nan">link</a></td>
</tr>
<tr>
<th>5</th>
<td>Museo Thyssen</td>
<td>NaN</td>
<td>1.06 millones</td>
<td>El Museo Thyssen-Bornemiszan, inaugurado en 19...</td>
<td><a example.com="" href="http://example.com/http://www.museoth...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;td&gt;CaixaFórum Madrid&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;648.541&lt;/td&gt;
      &lt;td&gt;Este centro cultural, inaugurado en 2008 en lo...&lt;/td&gt;
      &lt;td&gt;&lt;a href=" http:="" nan"="">link</a></td>
</tr>
<tr>
<th>7</th>
<td>Monasterio de San Lorenzo de El Escorial</td>
<td>NaN</td>
<td>513.529</td>
<td>El Monasterio de San Lorenzo de El Escorial re...</td>
<td><a example.com="" href="http://example.com/http://www.patrimo...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;td&gt;Tabacalera - el arte alternativo&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;El triángulo de arte de Madrid se cierra con e...&lt;/td&gt;
      &lt;td&gt;&lt;a href=" http:="" nan"="">link</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://xima-git.github.io/me-in-iberia.html">posted at 20:00</a>
                    &nbsp;&middot;&nbsp;<a href="https://xima-git.github.io/category/posts.html" rel="tag">posts</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://xima-git.github.io/tag/python.html" class="tags">python</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://xima-git.github.io/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>